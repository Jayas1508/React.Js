(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function yd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ah={exports:{}},ml={},kh={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function pS(){if(f_)return De;f_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function T(z){return z===null||typeof z!="object"?null:(z=w&&z[w]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function S(z,J,de){this.props=z,this.context=J,this.refs=N,this.updater=de||b}S.prototype.isReactComponent={},S.prototype.setState=function(z,J){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,J,"setState")},S.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function F(){}F.prototype=S.prototype;function j(z,J,de){this.props=z,this.context=J,this.refs=N,this.updater=de||b}var q=j.prototype=new F;q.constructor=j,C(q,S.prototype),q.isPureReactComponent=!0;var X=Array.isArray,ie=Object.prototype.hasOwnProperty,oe={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function R(z,J,de){var Te,ke={},Oe=null,Le=null;if(J!=null)for(Te in J.ref!==void 0&&(Le=J.ref),J.key!==void 0&&(Oe=""+J.key),J)ie.call(J,Te)&&!P.hasOwnProperty(Te)&&(ke[Te]=J[Te]);var Fe=arguments.length-2;if(Fe===1)ke.children=de;else if(1<Fe){for(var He=Array(Fe),tt=0;tt<Fe;tt++)He[tt]=arguments[tt+2];ke.children=He}if(z&&z.defaultProps)for(Te in Fe=z.defaultProps,Fe)ke[Te]===void 0&&(ke[Te]=Fe[Te]);return{$$typeof:n,type:z,key:Oe,ref:Le,props:ke,_owner:oe.current}}function k(z,J){return{$$typeof:n,type:z.type,key:J,ref:z.ref,props:z.props,_owner:z._owner}}function D(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function M(z){var J={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(de){return J[de]})}var B=/\/+/g;function O(z,J){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):J.toString(36)}function Qe(z,J,de,Te,ke){var Oe=typeof z;(Oe==="undefined"||Oe==="boolean")&&(z=null);var Le=!1;if(z===null)Le=!0;else switch(Oe){case"string":case"number":Le=!0;break;case"object":switch(z.$$typeof){case n:case e:Le=!0}}if(Le)return Le=z,ke=ke(Le),z=Te===""?"."+O(Le,0):Te,X(ke)?(de="",z!=null&&(de=z.replace(B,"$&/")+"/"),Qe(ke,J,de,"",function(tt){return tt})):ke!=null&&(D(ke)&&(ke=k(ke,de+(!ke.key||Le&&Le.key===ke.key?"":(""+ke.key).replace(B,"$&/")+"/")+z)),J.push(ke)),1;if(Le=0,Te=Te===""?".":Te+":",X(z))for(var Fe=0;Fe<z.length;Fe++){Oe=z[Fe];var He=Te+O(Oe,Fe);Le+=Qe(Oe,J,de,He,ke)}else if(He=T(z),typeof He=="function")for(z=He.call(z),Fe=0;!(Oe=z.next()).done;)Oe=Oe.value,He=Te+O(Oe,Fe++),Le+=Qe(Oe,J,de,He,ke);else if(Oe==="object")throw J=String(z),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Le}function at(z,J,de){if(z==null)return z;var Te=[],ke=0;return Qe(z,Te,"","",function(Oe){return J.call(de,Oe,ke++)}),Te}function Xe(z){if(z._status===-1){var J=z._result;J=J(),J.then(function(de){(z._status===0||z._status===-1)&&(z._status=1,z._result=de)},function(de){(z._status===0||z._status===-1)&&(z._status=2,z._result=de)}),z._status===-1&&(z._status=0,z._result=J)}if(z._status===1)return z._result.default;throw z._result}var be={current:null},ee={transition:null},ge={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:ee,ReactCurrentOwner:oe};function le(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:at,forEach:function(z,J,de){at(z,function(){J.apply(this,arguments)},de)},count:function(z){var J=0;return at(z,function(){J++}),J},toArray:function(z){return at(z,function(J){return J})||[]},only:function(z){if(!D(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},De.Component=S,De.Fragment=t,De.Profiler=o,De.PureComponent=j,De.StrictMode=r,De.Suspense=h,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,De.act=le,De.cloneElement=function(z,J,de){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Te=C({},z.props),ke=z.key,Oe=z.ref,Le=z._owner;if(J!=null){if(J.ref!==void 0&&(Oe=J.ref,Le=oe.current),J.key!==void 0&&(ke=""+J.key),z.type&&z.type.defaultProps)var Fe=z.type.defaultProps;for(He in J)ie.call(J,He)&&!P.hasOwnProperty(He)&&(Te[He]=J[He]===void 0&&Fe!==void 0?Fe[He]:J[He])}var He=arguments.length-2;if(He===1)Te.children=de;else if(1<He){Fe=Array(He);for(var tt=0;tt<He;tt++)Fe[tt]=arguments[tt+2];Te.children=Fe}return{$$typeof:n,type:z.type,key:ke,ref:Oe,props:Te,_owner:Le}},De.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},De.createElement=R,De.createFactory=function(z){var J=R.bind(null,z);return J.type=z,J},De.createRef=function(){return{current:null}},De.forwardRef=function(z){return{$$typeof:f,render:z}},De.isValidElement=D,De.lazy=function(z){return{$$typeof:_,_payload:{_status:-1,_result:z},_init:Xe}},De.memo=function(z,J){return{$$typeof:m,type:z,compare:J===void 0?null:J}},De.startTransition=function(z){var J=ee.transition;ee.transition={};try{z()}finally{ee.transition=J}},De.unstable_act=le,De.useCallback=function(z,J){return be.current.useCallback(z,J)},De.useContext=function(z){return be.current.useContext(z)},De.useDebugValue=function(){},De.useDeferredValue=function(z){return be.current.useDeferredValue(z)},De.useEffect=function(z,J){return be.current.useEffect(z,J)},De.useId=function(){return be.current.useId()},De.useImperativeHandle=function(z,J,de){return be.current.useImperativeHandle(z,J,de)},De.useInsertionEffect=function(z,J){return be.current.useInsertionEffect(z,J)},De.useLayoutEffect=function(z,J){return be.current.useLayoutEffect(z,J)},De.useMemo=function(z,J){return be.current.useMemo(z,J)},De.useReducer=function(z,J,de){return be.current.useReducer(z,J,de)},De.useRef=function(z){return be.current.useRef(z)},De.useState=function(z){return be.current.useState(z)},De.useSyncExternalStore=function(z,J,de){return be.current.useSyncExternalStore(z,J,de)},De.useTransition=function(){return be.current.useTransition()},De.version="18.3.1",De}var h_;function _d(){return h_||(h_=1,kh.exports=pS()),kh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function mS(){if(p_)return ml;p_=1;var n=_d(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,m){var _,w={},T=null,b=null;m!==void 0&&(T=""+m),h.key!==void 0&&(T=""+h.key),h.ref!==void 0&&(b=h.ref);for(_ in h)r.call(h,_)&&!a.hasOwnProperty(_)&&(w[_]=h[_]);if(f&&f.defaultProps)for(_ in h=f.defaultProps,h)w[_]===void 0&&(w[_]=h[_]);return{$$typeof:e,type:f,key:T,ref:b,props:w,_owner:o.current}}return ml.Fragment=t,ml.jsx=u,ml.jsxs=u,ml}var m_;function gS(){return m_||(m_=1,Ah.exports=mS()),Ah.exports}var V=gS(),A=_d();const Ne=yd(A);var wc={},Ph={exports:{}},dn={},xh={exports:{}},bh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function yS(){return g_||(g_=1,function(n){function e(ee,ge){var le=ee.length;ee.push(ge);e:for(;0<le;){var z=le-1>>>1,J=ee[z];if(0<o(J,ge))ee[z]=ge,ee[le]=J,le=z;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ge=ee[0],le=ee.pop();if(le!==ge){ee[0]=le;e:for(var z=0,J=ee.length,de=J>>>1;z<de;){var Te=2*(z+1)-1,ke=ee[Te],Oe=Te+1,Le=ee[Oe];if(0>o(ke,le))Oe<J&&0>o(Le,ke)?(ee[z]=Le,ee[Oe]=le,z=Oe):(ee[z]=ke,ee[Te]=le,z=Te);else if(Oe<J&&0>o(Le,le))ee[z]=Le,ee[Oe]=le,z=Oe;else break e}}return ge}function o(ee,ge){var le=ee.sortIndex-ge.sortIndex;return le!==0?le:ee.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var h=[],m=[],_=1,w=null,T=3,b=!1,C=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(ee){for(var ge=t(m);ge!==null;){if(ge.callback===null)r(m);else if(ge.startTime<=ee)r(m),ge.sortIndex=ge.expirationTime,e(h,ge);else break;ge=t(m)}}function X(ee){if(N=!1,q(ee),!C)if(t(h)!==null)C=!0,Xe(ie);else{var ge=t(m);ge!==null&&be(X,ge.startTime-ee)}}function ie(ee,ge){C=!1,N&&(N=!1,F(R),R=-1),b=!0;var le=T;try{for(q(ge),w=t(h);w!==null&&(!(w.expirationTime>ge)||ee&&!M());){var z=w.callback;if(typeof z=="function"){w.callback=null,T=w.priorityLevel;var J=z(w.expirationTime<=ge);ge=n.unstable_now(),typeof J=="function"?w.callback=J:w===t(h)&&r(h),q(ge)}else r(h);w=t(h)}if(w!==null)var de=!0;else{var Te=t(m);Te!==null&&be(X,Te.startTime-ge),de=!1}return de}finally{w=null,T=le,b=!1}}var oe=!1,P=null,R=-1,k=5,D=-1;function M(){return!(n.unstable_now()-D<k)}function B(){if(P!==null){var ee=n.unstable_now();D=ee;var ge=!0;try{ge=P(!0,ee)}finally{ge?O():(oe=!1,P=null)}}else oe=!1}var O;if(typeof j=="function")O=function(){j(B)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,at=Qe.port2;Qe.port1.onmessage=B,O=function(){at.postMessage(null)}}else O=function(){S(B,0)};function Xe(ee){P=ee,oe||(oe=!0,O())}function be(ee,ge){R=S(function(){ee(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){C||b||(C=!0,Xe(ie))},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ee){switch(T){case 1:case 2:case 3:var ge=3;break;default:ge=T}var le=T;T=ge;try{return ee()}finally{T=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,ge){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var le=T;T=ee;try{return ge()}finally{T=le}},n.unstable_scheduleCallback=function(ee,ge,le){var z=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?z+le:z):le=z,ee){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=le+J,ee={id:_++,callback:ge,priorityLevel:ee,startTime:le,expirationTime:J,sortIndex:-1},le>z?(ee.sortIndex=le,e(m,ee),t(h)===null&&ee===t(m)&&(N?(F(R),R=-1):N=!0,be(X,le-z))):(ee.sortIndex=J,e(h,ee),C||b||(C=!0,Xe(ie))),ee},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(ee){var ge=T;return function(){var le=T;T=ge;try{return ee.apply(this,arguments)}finally{T=le}}}}(bh)),bh}var y_;function _S(){return y_||(y_=1,xh.exports=yS()),xh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function vS(){if(__)return dn;__=1;var n=_d(),e=_S();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function T(i){return h.call(w,i)?!0:h.call(_,i)?!1:m.test(i)?w[i]=!0:(_[i]=!0,!1)}function b(i,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function C(i,s,l,d){if(s===null||typeof s>"u"||b(i,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function N(i,s,l,d,p,y,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=y,this.removeEmptyString=E}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){S[i]=new N(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];S[s]=new N(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){S[i]=new N(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){S[i]=new N(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){S[i]=new N(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){S[i]=new N(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){S[i]=new N(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){S[i]=new N(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){S[i]=new N(i,5,!1,i.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function j(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(F,j);S[s]=new N(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(F,j);S[s]=new N(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(F,j);S[s]=new N(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){S[i]=new N(i,1,!1,i.toLowerCase(),null,!1,!1)}),S.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){S[i]=new N(i,1,!1,i.toLowerCase(),null,!0,!0)});function q(i,s,l,d){var p=S.hasOwnProperty(s)?S[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(C(s,l,p,d)&&(l=null),d||p===null?T(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,d=p.attributeNamespace,l===null?i.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?i.setAttributeNS(d,s,l):i.setAttribute(s,l))))}var X=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),oe=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),M=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),at=Symbol.for("react.memo"),Xe=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ge(i){return i===null||typeof i!="object"?null:(i=ee&&i[ee]||i["@@iterator"],typeof i=="function"?i:null)}var le=Object.assign,z;function J(i){if(z===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);z=s&&s[1]||""}return`
`+z+i}var de=!1;function Te(i,s){if(!i||de)return"";de=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(K){var d=K}Reflect.construct(i,[],s)}else{try{s.call()}catch(K){d=K}i.call(s.prototype)}else{try{throw Error()}catch(K){d=K}i()}}catch(K){if(K&&d&&typeof K.stack=="string"){for(var p=K.stack.split(`
`),y=d.stack.split(`
`),E=p.length-1,x=y.length-1;1<=E&&0<=x&&p[E]!==y[x];)x--;for(;1<=E&&0<=x;E--,x--)if(p[E]!==y[x]){if(E!==1||x!==1)do if(E--,x--,0>x||p[E]!==y[x]){var L=`
`+p[E].replace(" at new "," at ");return i.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",i.displayName)),L}while(1<=E&&0<=x);break}}}finally{de=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?J(i):""}function ke(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=Te(i.type,!1),i;case 11:return i=Te(i.type.render,!1),i;case 1:return i=Te(i.type,!0),i;default:return""}}function Oe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case oe:return"Portal";case k:return"Profiler";case R:return"StrictMode";case O:return"Suspense";case Qe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case M:return(i.displayName||"Context")+".Consumer";case D:return(i._context.displayName||"Context")+".Provider";case B:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case at:return s=i.displayName||null,s!==null?s:Oe(i.type)||"Memo";case Xe:s=i._payload,i=i._init;try{return Oe(i(s))}catch{}}return null}function Le(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Fe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function He(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function tt(i){var s=He(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),d=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){d=""+E,y.call(this,E)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function en(i){i._valueTracker||(i._valueTracker=tt(i))}function yn(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return i&&(d=He(i)?i.checked?"true":"false":i.value),i=d,i!==l?(s.setValue(i),!0):!1}function tn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function nn(i,s){var l=s.checked;return le({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function qe(i,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=Fe(s.value!=null?s.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function lr(i,s){s=s.checked,s!=null&&q(i,"checked",s,!1)}function jn(i,s){lr(i,s);var l=Fe(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?ai(i,s.type,l):s.hasOwnProperty("defaultValue")&&ai(i,s.type,Fe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function eo(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function ai(i,s,l){(s!=="number"||tn(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Bn=Array.isArray;function zn(i,s,l,d){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&d&&(i[l].defaultSelected=!0)}else{for(l=""+Fe(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,d&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function is(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function li(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Bn(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:Fe(l)}}function br(i,s){var l=Fe(s.value),d=Fe(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function ss(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function we(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ye(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?we(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var An,Ra=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,p){MSApp.execUnsafeLocalFunction(function(){return i(s,l,d,p)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(An=An||document.createElement("div"),An.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=An.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ui(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},as=["Webkit","ms","Moz","O"];Object.keys(os).forEach(function(i){as.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),os[s]=os[i]})});function Ca(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||os.hasOwnProperty(i)&&os[i]?(""+s).trim():s+"px"}function Aa(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=Ca(l,s[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,p):i[l]=p}}var ka=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pa(i,s){if(s){if(ka[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function xa(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ls=null;function to(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var no=null,kn=null,ur=null;function ro(i){if(i=el(i)){if(typeof no!="function")throw Error(t(280));var s=i.stateNode;s&&(s=Vu(s),no(i.stateNode,i.type,s))}}function cr(i){kn?ur?ur.push(i):ur=[i]:kn=i}function ba(){if(kn){var i=kn,s=ur;if(ur=kn=null,ro(i),s)for(i=0;i<s.length;i++)ro(s[i])}}function us(i,s){return i(s)}function Na(){}var Nr=!1;function Oa(i,s,l){if(Nr)return i(s,l);Nr=!0;try{return us(i,s,l)}finally{Nr=!1,(kn!==null||ur!==null)&&(Na(),ba())}}function ht(i,s){var l=i.stateNode;if(l===null)return null;var d=Vu(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var io=!1;if(f)try{var $n={};Object.defineProperty($n,"passive",{get:function(){io=!0}}),window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{io=!1}function cs(i,s,l,d,p,y,E,x,L){var K=Array.prototype.slice.call(arguments,3);try{s.apply(l,K)}catch(te){this.onError(te)}}var ds=!1,so=null,Hn=!1,Da=null,ef={onError:function(i){ds=!0,so=i}};function oo(i,s,l,d,p,y,E,x,L){ds=!1,so=null,cs.apply(ef,arguments)}function au(i,s,l,d,p,y,E,x,L){if(oo.apply(this,arguments),ds){if(ds){var K=so;ds=!1,so=null}else throw Error(t(198));Hn||(Hn=!0,Da=K)}}function Wn(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function fs(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function qn(i){if(Wn(i)!==i)throw Error(t(188))}function lu(i){var s=i.alternate;if(!s){if(s=Wn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,d=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return qn(p),i;if(y===d)return qn(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=p,d=y;else{for(var E=!1,x=p.child;x;){if(x===l){E=!0,l=p,d=y;break}if(x===d){E=!0,d=p,l=y;break}x=x.sibling}if(!E){for(x=y.child;x;){if(x===l){E=!0,l=y,d=p;break}if(x===d){E=!0,d=y,l=p;break}x=x.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function La(i){return i=lu(i),i!==null?ao(i):null}function ao(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=ao(i);if(s!==null)return s;i=i.sibling}return null}var lo=e.unstable_scheduleCallback,Va=e.unstable_cancelCallback,uu=e.unstable_shouldYield,tf=e.unstable_requestPaint,Ze=e.unstable_now,cu=e.unstable_getCurrentPriorityLevel,hs=e.unstable_ImmediatePriority,ci=e.unstable_UserBlockingPriority,Pn=e.unstable_NormalPriority,Ma=e.unstable_LowPriority,du=e.unstable_IdlePriority,ps=null,_n=null;function fu(i){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(ps,i,void 0,(i.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:pu,Fa=Math.log,hu=Math.LN2;function pu(i){return i>>>=0,i===0?32:31-(Fa(i)/hu|0)|0}var uo=64,co=4194304;function di(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ms(i,s){var l=i.pendingLanes;if(l===0)return 0;var d=0,p=i.suspendedLanes,y=i.pingedLanes,E=l&268435455;if(E!==0){var x=E&~p;x!==0?d=di(x):(y&=E,y!==0&&(d=di(y)))}else E=l&~p,E!==0?d=di(E):y!==0&&(d=di(y));if(d===0)return 0;if(s!==0&&s!==d&&!(s&p)&&(p=d&-d,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if(d&4&&(d|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=d;0<s;)l=31-Gt(s),p=1<<l,d|=i[l],s&=~p;return d}function nf(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Or(i,s){for(var l=i.suspendedLanes,d=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes;0<y;){var E=31-Gt(y),x=1<<E,L=p[E];L===-1?(!(x&l)||x&d)&&(p[E]=nf(x,s)):L<=s&&(i.expiredLanes|=x),y&=~x}}function vn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function gs(){var i=uo;return uo<<=1,!(uo&4194240)&&(uo=64),i}function fi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function hi(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Gt(s),i[s]=l}function Je(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-Gt(l),y=1<<p;s[p]=0,d[p]=-1,i[p]=-1,l&=~y}}function pi(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var d=31-Gt(l),p=1<<d;p&s|i[d]&s&&(i[d]|=s),l&=~p}}var Ue=0;function mi(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var mu,fo,gu,yu,_u,Ua=!1,dr=[],bt=null,Kn=null,Gn=null,gi=new Map,xn=new Map,fr=[],rf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vu(i,s){switch(i){case"focusin":case"focusout":bt=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":gi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":xn.delete(s.pointerId)}}function rn(i,s,l,d,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},s!==null&&(s=el(s),s!==null&&fo(s)),i):(i.eventSystemFlags|=d,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function sf(i,s,l,d,p){switch(s){case"focusin":return bt=rn(bt,i,s,l,d,p),!0;case"dragenter":return Kn=rn(Kn,i,s,l,d,p),!0;case"mouseover":return Gn=rn(Gn,i,s,l,d,p),!0;case"pointerover":var y=p.pointerId;return gi.set(y,rn(gi.get(y)||null,i,s,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,xn.set(y,rn(xn.get(y)||null,i,s,l,d,p)),!0}return!1}function Eu(i){var s=ws(i.target);if(s!==null){var l=Wn(s);if(l!==null){if(s=l.tag,s===13){if(s=fs(l),s!==null){i.blockedOn=s,_u(i.priority,function(){gu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Dr(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=ho(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);ls=d,l.target.dispatchEvent(d),ls=null}else return s=el(l),s!==null&&fo(s),i.blockedOn=l,!1;s.shift()}return!0}function ys(i,s,l){Dr(i)&&l.delete(s)}function wu(){Ua=!1,bt!==null&&Dr(bt)&&(bt=null),Kn!==null&&Dr(Kn)&&(Kn=null),Gn!==null&&Dr(Gn)&&(Gn=null),gi.forEach(ys),xn.forEach(ys)}function Qn(i,s){i.blockedOn===s&&(i.blockedOn=null,Ua||(Ua=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wu)))}function Xn(i){function s(p){return Qn(p,i)}if(0<dr.length){Qn(dr[0],i);for(var l=1;l<dr.length;l++){var d=dr[l];d.blockedOn===i&&(d.blockedOn=null)}}for(bt!==null&&Qn(bt,i),Kn!==null&&Qn(Kn,i),Gn!==null&&Qn(Gn,i),gi.forEach(s),xn.forEach(s),l=0;l<fr.length;l++)d=fr[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<fr.length&&(l=fr[0],l.blockedOn===null);)Eu(l),l.blockedOn===null&&fr.shift()}var Lr=X.ReactCurrentBatchConfig,yi=!0;function it(i,s,l,d){var p=Ue,y=Lr.transition;Lr.transition=null;try{Ue=1,ja(i,s,l,d)}finally{Ue=p,Lr.transition=y}}function of(i,s,l,d){var p=Ue,y=Lr.transition;Lr.transition=null;try{Ue=4,ja(i,s,l,d)}finally{Ue=p,Lr.transition=y}}function ja(i,s,l,d){if(yi){var p=ho(i,s,l,d);if(p===null)yf(i,s,d,_s,l),vu(i,d);else if(sf(p,i,s,l,d))d.stopPropagation();else if(vu(i,d),s&4&&-1<rf.indexOf(i)){for(;p!==null;){var y=el(p);if(y!==null&&mu(y),y=ho(i,s,l,d),y===null&&yf(i,s,d,_s,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else yf(i,s,d,null,l)}}var _s=null;function ho(i,s,l,d){if(_s=null,i=to(d),i=ws(i),i!==null)if(s=Wn(i),s===null)i=null;else if(l=s.tag,l===13){if(i=fs(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return _s=i,null}function Ba(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cu()){case hs:return 1;case ci:return 4;case Pn:case Ma:return 16;case du:return 536870912;default:return 16}default:return 16}}var En=null,po=null,sn=null;function za(){if(sn)return sn;var i,s=po,l=s.length,d,p="value"in En?En.value:En.textContent,y=p.length;for(i=0;i<l&&s[i]===p[i];i++);var E=l-i;for(d=1;d<=E&&s[l-d]===p[y-d];d++);return sn=p.slice(i,1<d?1-d:void 0)}function mo(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function hr(){return!0}function $a(){return!1}function Nt(i){function s(l,d,p,y,E){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var x in i)i.hasOwnProperty(x)&&(l=i[x],this[x]=l?l(y):y[x]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?hr:$a,this.isPropagationStopped=$a,this}return le(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),s}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=Nt(Jn),pr=le({},Jn,{view:0,detail:0}),af=Nt(pr),yo,Vr,_i,vs=le({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==_i&&(_i&&i.type==="mousemove"?(yo=i.screenX-_i.screenX,Vr=i.screenY-_i.screenY):Vr=yo=0,_i=i),yo)},movementY:function(i){return"movementY"in i?i.movementY:Vr}}),_o=Nt(vs),Ha=le({},vs,{dataTransfer:0}),Tu=Nt(Ha),vo=le({},pr,{relatedTarget:0}),Eo=Nt(vo),Iu=le({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Mr=Nt(Iu),Su=le({},Jn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ru=Nt(Su),Cu=le({},Jn,{data:0}),Wa=Nt(Cu),wo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ku(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Au[i])?!!s[i]:!1}function mr(){return ku}var c=le({},pr,{key:function(i){if(i.key){var s=wo[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=mo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Qt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mr,charCode:function(i){return i.type==="keypress"?mo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?mo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=Nt(c),v=le({},vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Nt(v),$=le({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mr}),G=Nt($),ae=le({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ge=Nt(ae),Et=le({},vs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Be=Nt(Et),Ct=[9,13,27,32],yt=f&&"CompositionEvent"in window,bn=null;f&&"documentMode"in document&&(bn=document.documentMode);var wn=f&&"TextEvent"in window&&!bn,Es=f&&(!yt||bn&&8<bn&&11>=bn),To=" ",og=!1;function ag(i,s){switch(i){case"keyup":return Ct.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Io=!1;function fI(i,s){switch(i){case"compositionend":return lg(s);case"keypress":return s.which!==32?null:(og=!0,To);case"textInput":return i=s.data,i===To&&og?null:i;default:return null}}function hI(i,s){if(Io)return i==="compositionend"||!yt&&ag(i,s)?(i=za(),sn=po=En=null,Io=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Es&&s.locale!=="ko"?null:s.data;default:return null}}var pI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ug(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!pI[i.type]:s==="textarea"}function cg(i,s,l,d){cr(d),s=Ou(s,"onChange"),0<s.length&&(l=new go("onChange","change",null,l,d),i.push({event:l,listeners:s}))}var qa=null,Ka=null;function mI(i){kg(i,0)}function Pu(i){var s=ko(i);if(yn(s))return i}function gI(i,s){if(i==="change")return s}var dg=!1;if(f){var lf;if(f){var uf="oninput"in document;if(!uf){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),uf=typeof fg.oninput=="function"}lf=uf}else lf=!1;dg=lf&&(!document.documentMode||9<document.documentMode)}function hg(){qa&&(qa.detachEvent("onpropertychange",pg),Ka=qa=null)}function pg(i){if(i.propertyName==="value"&&Pu(Ka)){var s=[];cg(s,Ka,i,to(i)),Oa(mI,s)}}function yI(i,s,l){i==="focusin"?(hg(),qa=s,Ka=l,qa.attachEvent("onpropertychange",pg)):i==="focusout"&&hg()}function _I(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Pu(Ka)}function vI(i,s){if(i==="click")return Pu(s)}function EI(i,s){if(i==="input"||i==="change")return Pu(s)}function wI(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Yn=typeof Object.is=="function"?Object.is:wI;function Ga(i,s){if(Yn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!h.call(s,p)||!Yn(i[p],s[p]))return!1}return!0}function mg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function gg(i,s){var l=mg(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=s&&d>=s)return{node:l,offset:s-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=mg(l)}}function yg(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?yg(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function _g(){for(var i=window,s=tn();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=tn(i.document)}return s}function cf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function TI(i){var s=_g(),l=i.focusedElem,d=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&yg(l.ownerDocument.documentElement,l)){if(d!==null&&cf(l)){if(s=d.start,i=d.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!i.extend&&y>d&&(p=d,d=y,y=p),p=gg(l,y);var E=gg(l,d);p&&E&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),i.removeAllRanges(),y>d?(i.addRange(s),i.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var II=f&&"documentMode"in document&&11>=document.documentMode,So=null,df=null,Qa=null,ff=!1;function vg(i,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ff||So==null||So!==tn(d)||(d=So,"selectionStart"in d&&cf(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Qa&&Ga(Qa,d)||(Qa=d,d=Ou(df,"onSelect"),0<d.length&&(s=new go("onSelect","select",null,s,l),i.push({event:s,listeners:d}),s.target=So)))}function xu(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Ro={animationend:xu("Animation","AnimationEnd"),animationiteration:xu("Animation","AnimationIteration"),animationstart:xu("Animation","AnimationStart"),transitionend:xu("Transition","TransitionEnd")},hf={},Eg={};f&&(Eg=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function bu(i){if(hf[i])return hf[i];if(!Ro[i])return i;var s=Ro[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Eg)return hf[i]=s[l];return i}var wg=bu("animationend"),Tg=bu("animationiteration"),Ig=bu("animationstart"),Sg=bu("transitionend"),Rg=new Map,Cg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vi(i,s){Rg.set(i,s),a(s,[i])}for(var pf=0;pf<Cg.length;pf++){var mf=Cg[pf],SI=mf.toLowerCase(),RI=mf[0].toUpperCase()+mf.slice(1);vi(SI,"on"+RI)}vi(wg,"onAnimationEnd"),vi(Tg,"onAnimationIteration"),vi(Ig,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(Sg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xa));function Ag(i,s,l){var d=i.type||"unknown-event";i.currentTarget=l,au(d,s,void 0,i),i.currentTarget=null}function kg(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],p=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var E=d.length-1;0<=E;E--){var x=d[E],L=x.instance,K=x.currentTarget;if(x=x.listener,L!==y&&p.isPropagationStopped())break e;Ag(p,x,K),y=L}else for(E=0;E<d.length;E++){if(x=d[E],L=x.instance,K=x.currentTarget,x=x.listener,L!==y&&p.isPropagationStopped())break e;Ag(p,x,K),y=L}}}if(Hn)throw i=Da,Hn=!1,Da=null,i}function nt(i,s){var l=s[If];l===void 0&&(l=s[If]=new Set);var d=i+"__bubble";l.has(d)||(Pg(s,i,2,!1),l.add(d))}function gf(i,s,l){var d=0;s&&(d|=4),Pg(l,i,d,s)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function Ja(i){if(!i[Nu]){i[Nu]=!0,r.forEach(function(l){l!=="selectionchange"&&(CI.has(l)||gf(l,!1,i),gf(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Nu]||(s[Nu]=!0,gf("selectionchange",!1,s))}}function Pg(i,s,l,d){switch(Ba(s)){case 1:var p=it;break;case 4:p=of;break;default:p=ja}l=p.bind(null,s,l,i),p=void 0,!io||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function yf(i,s,l,d,p){var y=d;if(!(s&1)&&!(s&2)&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var x=d.stateNode.containerInfo;if(x===p||x.nodeType===8&&x.parentNode===p)break;if(E===4)for(E=d.return;E!==null;){var L=E.tag;if((L===3||L===4)&&(L=E.stateNode.containerInfo,L===p||L.nodeType===8&&L.parentNode===p))return;E=E.return}for(;x!==null;){if(E=ws(x),E===null)return;if(L=E.tag,L===5||L===6){d=y=E;continue e}x=x.parentNode}}d=d.return}Oa(function(){var K=y,te=to(l),re=[];e:{var Z=Rg.get(i);if(Z!==void 0){var ue=go,he=i;switch(i){case"keypress":if(mo(l)===0)break e;case"keydown":case"keyup":ue=g;break;case"focusin":he="focus",ue=Eo;break;case"focusout":he="blur",ue=Eo;break;case"beforeblur":case"afterblur":ue=Eo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=_o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=G;break;case wg:case Tg:case Ig:ue=Mr;break;case Sg:ue=Ge;break;case"scroll":ue=af;break;case"wheel":ue=Be;break;case"copy":case"cut":case"paste":ue=Ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=I}var pe=(s&4)!==0,pt=!pe&&i==="scroll",H=pe?Z!==null?Z+"Capture":null:Z;pe=[];for(var U=K,W;U!==null;){W=U;var se=W.stateNode;if(W.tag===5&&se!==null&&(W=se,H!==null&&(se=ht(U,H),se!=null&&pe.push(Ya(U,se,W)))),pt)break;U=U.return}0<pe.length&&(Z=new ue(Z,he,null,l,te),re.push({event:Z,listeners:pe}))}}if(!(s&7)){e:{if(Z=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",Z&&l!==ls&&(he=l.relatedTarget||l.fromElement)&&(ws(he)||he[Fr]))break e;if((ue||Z)&&(Z=te.window===te?te:(Z=te.ownerDocument)?Z.defaultView||Z.parentWindow:window,ue?(he=l.relatedTarget||l.toElement,ue=K,he=he?ws(he):null,he!==null&&(pt=Wn(he),he!==pt||he.tag!==5&&he.tag!==6)&&(he=null)):(ue=null,he=K),ue!==he)){if(pe=_o,se="onMouseLeave",H="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(pe=I,se="onPointerLeave",H="onPointerEnter",U="pointer"),pt=ue==null?Z:ko(ue),W=he==null?Z:ko(he),Z=new pe(se,U+"leave",ue,l,te),Z.target=pt,Z.relatedTarget=W,se=null,ws(te)===K&&(pe=new pe(H,U+"enter",he,l,te),pe.target=W,pe.relatedTarget=pt,se=pe),pt=se,ue&&he)t:{for(pe=ue,H=he,U=0,W=pe;W;W=Co(W))U++;for(W=0,se=H;se;se=Co(se))W++;for(;0<U-W;)pe=Co(pe),U--;for(;0<W-U;)H=Co(H),W--;for(;U--;){if(pe===H||H!==null&&pe===H.alternate)break t;pe=Co(pe),H=Co(H)}pe=null}else pe=null;ue!==null&&xg(re,Z,ue,pe,!1),he!==null&&pt!==null&&xg(re,pt,he,pe,!0)}}e:{if(Z=K?ko(K):window,ue=Z.nodeName&&Z.nodeName.toLowerCase(),ue==="select"||ue==="input"&&Z.type==="file")var me=gI;else if(ug(Z))if(dg)me=EI;else{me=_I;var _e=yI}else(ue=Z.nodeName)&&ue.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(me=vI);if(me&&(me=me(i,K))){cg(re,me,l,te);break e}_e&&_e(i,Z,K),i==="focusout"&&(_e=Z._wrapperState)&&_e.controlled&&Z.type==="number"&&ai(Z,"number",Z.value)}switch(_e=K?ko(K):window,i){case"focusin":(ug(_e)||_e.contentEditable==="true")&&(So=_e,df=K,Qa=null);break;case"focusout":Qa=df=So=null;break;case"mousedown":ff=!0;break;case"contextmenu":case"mouseup":case"dragend":ff=!1,vg(re,l,te);break;case"selectionchange":if(II)break;case"keydown":case"keyup":vg(re,l,te)}var ve;if(yt)e:{switch(i){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Io?ag(i,l)&&(Se="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Se="onCompositionStart");Se&&(Es&&l.locale!=="ko"&&(Io||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Io&&(ve=za()):(En=te,po="value"in En?En.value:En.textContent,Io=!0)),_e=Ou(K,Se),0<_e.length&&(Se=new Wa(Se,i,null,l,te),re.push({event:Se,listeners:_e}),ve?Se.data=ve:(ve=lg(l),ve!==null&&(Se.data=ve)))),(ve=wn?fI(i,l):hI(i,l))&&(K=Ou(K,"onBeforeInput"),0<K.length&&(te=new Wa("onBeforeInput","beforeinput",null,l,te),re.push({event:te,listeners:K}),te.data=ve))}kg(re,s)})}function Ya(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Ou(i,s){for(var l=s+"Capture",d=[];i!==null;){var p=i,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=ht(i,l),y!=null&&d.unshift(Ya(i,y,p)),y=ht(i,s),y!=null&&d.push(Ya(i,y,p))),i=i.return}return d}function Co(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function xg(i,s,l,d,p){for(var y=s._reactName,E=[];l!==null&&l!==d;){var x=l,L=x.alternate,K=x.stateNode;if(L!==null&&L===d)break;x.tag===5&&K!==null&&(x=K,p?(L=ht(l,y),L!=null&&E.unshift(Ya(l,L,x))):p||(L=ht(l,y),L!=null&&E.push(Ya(l,L,x)))),l=l.return}E.length!==0&&i.push({event:s,listeners:E})}var AI=/\r\n?/g,kI=/\u0000|\uFFFD/g;function bg(i){return(typeof i=="string"?i:""+i).replace(AI,`
`).replace(kI,"")}function Du(i,s,l){if(s=bg(s),bg(i)!==s&&l)throw Error(t(425))}function Lu(){}var _f=null,vf=null;function Ef(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var wf=typeof setTimeout=="function"?setTimeout:void 0,PI=typeof clearTimeout=="function"?clearTimeout:void 0,Ng=typeof Promise=="function"?Promise:void 0,xI=typeof queueMicrotask=="function"?queueMicrotask:typeof Ng<"u"?function(i){return Ng.resolve(null).then(i).catch(bI)}:wf;function bI(i){setTimeout(function(){throw i})}function Tf(i,s){var l=s,d=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){i.removeChild(p),Xn(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);Xn(s)}function Ei(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Og(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var Ao=Math.random().toString(36).slice(2),gr="__reactFiber$"+Ao,Za="__reactProps$"+Ao,Fr="__reactContainer$"+Ao,If="__reactEvents$"+Ao,NI="__reactListeners$"+Ao,OI="__reactHandles$"+Ao;function ws(i){var s=i[gr];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Fr]||l[gr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Og(i);i!==null;){if(l=i[gr])return l;i=Og(i)}return s}i=l,l=i.parentNode}return null}function el(i){return i=i[gr]||i[Fr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ko(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Vu(i){return i[Za]||null}var Sf=[],Po=-1;function wi(i){return{current:i}}function rt(i){0>Po||(i.current=Sf[Po],Sf[Po]=null,Po--)}function et(i,s){Po++,Sf[Po]=i.current,i.current=s}var Ti={},Ut=wi(Ti),on=wi(!1),Ts=Ti;function xo(i,s){var l=i.type.contextTypes;if(!l)return Ti;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=p),p}function an(i){return i=i.childContextTypes,i!=null}function Mu(){rt(on),rt(Ut)}function Dg(i,s,l){if(Ut.current!==Ti)throw Error(t(168));et(Ut,s),et(on,l)}function Lg(i,s,l){var d=i.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(t(108,Le(i)||"Unknown",p));return le({},l,d)}function Fu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ti,Ts=Ut.current,et(Ut,i),et(on,on.current),!0}function Vg(i,s,l){var d=i.stateNode;if(!d)throw Error(t(169));l?(i=Lg(i,s,Ts),d.__reactInternalMemoizedMergedChildContext=i,rt(on),rt(Ut),et(Ut,i)):rt(on),et(on,l)}var Ur=null,Uu=!1,Rf=!1;function Mg(i){Ur===null?Ur=[i]:Ur.push(i)}function DI(i){Uu=!0,Mg(i)}function Ii(){if(!Rf&&Ur!==null){Rf=!0;var i=0,s=Ue;try{var l=Ur;for(Ue=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}Ur=null,Uu=!1}catch(p){throw Ur!==null&&(Ur=Ur.slice(i+1)),lo(hs,Ii),p}finally{Ue=s,Rf=!1}}return null}var bo=[],No=0,ju=null,Bu=0,Nn=[],On=0,Is=null,jr=1,Br="";function Ss(i,s){bo[No++]=Bu,bo[No++]=ju,ju=i,Bu=s}function Fg(i,s,l){Nn[On++]=jr,Nn[On++]=Br,Nn[On++]=Is,Is=i;var d=jr;i=Br;var p=32-Gt(d)-1;d&=~(1<<p),l+=1;var y=32-Gt(s)+p;if(30<y){var E=p-p%5;y=(d&(1<<E)-1).toString(32),d>>=E,p-=E,jr=1<<32-Gt(s)+p|l<<p|d,Br=y+i}else jr=1<<y|l<<p|d,Br=i}function Cf(i){i.return!==null&&(Ss(i,1),Fg(i,1,0))}function Af(i){for(;i===ju;)ju=bo[--No],bo[No]=null,Bu=bo[--No],bo[No]=null;for(;i===Is;)Is=Nn[--On],Nn[On]=null,Br=Nn[--On],Nn[On]=null,jr=Nn[--On],Nn[On]=null}var Tn=null,In=null,st=!1,Zn=null;function Ug(i,s){var l=Mn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function jg(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,Tn=i,In=Ei(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,Tn=i,In=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Is!==null?{id:jr,overflow:Br}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Mn(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,Tn=i,In=null,!0):!1;default:return!1}}function kf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Pf(i){if(st){var s=In;if(s){var l=s;if(!jg(i,s)){if(kf(i))throw Error(t(418));s=Ei(l.nextSibling);var d=Tn;s&&jg(i,s)?Ug(d,l):(i.flags=i.flags&-4097|2,st=!1,Tn=i)}}else{if(kf(i))throw Error(t(418));i.flags=i.flags&-4097|2,st=!1,Tn=i}}}function Bg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Tn=i}function zu(i){if(i!==Tn)return!1;if(!st)return Bg(i),st=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Ef(i.type,i.memoizedProps)),s&&(s=In)){if(kf(i))throw zg(),Error(t(418));for(;s;)Ug(i,s),s=Ei(s.nextSibling)}if(Bg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){In=Ei(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}In=null}}else In=Tn?Ei(i.stateNode.nextSibling):null;return!0}function zg(){for(var i=In;i;)i=Ei(i.nextSibling)}function Oo(){In=Tn=null,st=!1}function xf(i){Zn===null?Zn=[i]:Zn.push(i)}var LI=X.ReactCurrentBatchConfig;function tl(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,i));var p=d,y=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(E){var x=p.refs;E===null?delete x[y]:x[y]=E},s._stringRef=y,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function $u(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function $g(i){var s=i._init;return s(i._payload)}function Hg(i){function s(H,U){if(i){var W=H.deletions;W===null?(H.deletions=[U],H.flags|=16):W.push(U)}}function l(H,U){if(!i)return null;for(;U!==null;)s(H,U),U=U.sibling;return null}function d(H,U){for(H=new Map;U!==null;)U.key!==null?H.set(U.key,U):H.set(U.index,U),U=U.sibling;return H}function p(H,U){return H=bi(H,U),H.index=0,H.sibling=null,H}function y(H,U,W){return H.index=W,i?(W=H.alternate,W!==null?(W=W.index,W<U?(H.flags|=2,U):W):(H.flags|=2,U)):(H.flags|=1048576,U)}function E(H){return i&&H.alternate===null&&(H.flags|=2),H}function x(H,U,W,se){return U===null||U.tag!==6?(U=wh(W,H.mode,se),U.return=H,U):(U=p(U,W),U.return=H,U)}function L(H,U,W,se){var me=W.type;return me===P?te(H,U,W.props.children,se,W.key):U!==null&&(U.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Xe&&$g(me)===U.type)?(se=p(U,W.props),se.ref=tl(H,U,W),se.return=H,se):(se=hc(W.type,W.key,W.props,null,H.mode,se),se.ref=tl(H,U,W),se.return=H,se)}function K(H,U,W,se){return U===null||U.tag!==4||U.stateNode.containerInfo!==W.containerInfo||U.stateNode.implementation!==W.implementation?(U=Th(W,H.mode,se),U.return=H,U):(U=p(U,W.children||[]),U.return=H,U)}function te(H,U,W,se,me){return U===null||U.tag!==7?(U=Ns(W,H.mode,se,me),U.return=H,U):(U=p(U,W),U.return=H,U)}function re(H,U,W){if(typeof U=="string"&&U!==""||typeof U=="number")return U=wh(""+U,H.mode,W),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case ie:return W=hc(U.type,U.key,U.props,null,H.mode,W),W.ref=tl(H,null,U),W.return=H,W;case oe:return U=Th(U,H.mode,W),U.return=H,U;case Xe:var se=U._init;return re(H,se(U._payload),W)}if(Bn(U)||ge(U))return U=Ns(U,H.mode,W,null),U.return=H,U;$u(H,U)}return null}function Z(H,U,W,se){var me=U!==null?U.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return me!==null?null:x(H,U,""+W,se);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case ie:return W.key===me?L(H,U,W,se):null;case oe:return W.key===me?K(H,U,W,se):null;case Xe:return me=W._init,Z(H,U,me(W._payload),se)}if(Bn(W)||ge(W))return me!==null?null:te(H,U,W,se,null);$u(H,W)}return null}function ue(H,U,W,se,me){if(typeof se=="string"&&se!==""||typeof se=="number")return H=H.get(W)||null,x(U,H,""+se,me);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case ie:return H=H.get(se.key===null?W:se.key)||null,L(U,H,se,me);case oe:return H=H.get(se.key===null?W:se.key)||null,K(U,H,se,me);case Xe:var _e=se._init;return ue(H,U,W,_e(se._payload),me)}if(Bn(se)||ge(se))return H=H.get(W)||null,te(U,H,se,me,null);$u(U,se)}return null}function he(H,U,W,se){for(var me=null,_e=null,ve=U,Se=U=0,Pt=null;ve!==null&&Se<W.length;Se++){ve.index>Se?(Pt=ve,ve=null):Pt=ve.sibling;var We=Z(H,ve,W[Se],se);if(We===null){ve===null&&(ve=Pt);break}i&&ve&&We.alternate===null&&s(H,ve),U=y(We,U,Se),_e===null?me=We:_e.sibling=We,_e=We,ve=Pt}if(Se===W.length)return l(H,ve),st&&Ss(H,Se),me;if(ve===null){for(;Se<W.length;Se++)ve=re(H,W[Se],se),ve!==null&&(U=y(ve,U,Se),_e===null?me=ve:_e.sibling=ve,_e=ve);return st&&Ss(H,Se),me}for(ve=d(H,ve);Se<W.length;Se++)Pt=ue(ve,H,Se,W[Se],se),Pt!==null&&(i&&Pt.alternate!==null&&ve.delete(Pt.key===null?Se:Pt.key),U=y(Pt,U,Se),_e===null?me=Pt:_e.sibling=Pt,_e=Pt);return i&&ve.forEach(function(Ni){return s(H,Ni)}),st&&Ss(H,Se),me}function pe(H,U,W,se){var me=ge(W);if(typeof me!="function")throw Error(t(150));if(W=me.call(W),W==null)throw Error(t(151));for(var _e=me=null,ve=U,Se=U=0,Pt=null,We=W.next();ve!==null&&!We.done;Se++,We=W.next()){ve.index>Se?(Pt=ve,ve=null):Pt=ve.sibling;var Ni=Z(H,ve,We.value,se);if(Ni===null){ve===null&&(ve=Pt);break}i&&ve&&Ni.alternate===null&&s(H,ve),U=y(Ni,U,Se),_e===null?me=Ni:_e.sibling=Ni,_e=Ni,ve=Pt}if(We.done)return l(H,ve),st&&Ss(H,Se),me;if(ve===null){for(;!We.done;Se++,We=W.next())We=re(H,We.value,se),We!==null&&(U=y(We,U,Se),_e===null?me=We:_e.sibling=We,_e=We);return st&&Ss(H,Se),me}for(ve=d(H,ve);!We.done;Se++,We=W.next())We=ue(ve,H,Se,We.value,se),We!==null&&(i&&We.alternate!==null&&ve.delete(We.key===null?Se:We.key),U=y(We,U,Se),_e===null?me=We:_e.sibling=We,_e=We);return i&&ve.forEach(function(hS){return s(H,hS)}),st&&Ss(H,Se),me}function pt(H,U,W,se){if(typeof W=="object"&&W!==null&&W.type===P&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case ie:e:{for(var me=W.key,_e=U;_e!==null;){if(_e.key===me){if(me=W.type,me===P){if(_e.tag===7){l(H,_e.sibling),U=p(_e,W.props.children),U.return=H,H=U;break e}}else if(_e.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Xe&&$g(me)===_e.type){l(H,_e.sibling),U=p(_e,W.props),U.ref=tl(H,_e,W),U.return=H,H=U;break e}l(H,_e);break}else s(H,_e);_e=_e.sibling}W.type===P?(U=Ns(W.props.children,H.mode,se,W.key),U.return=H,H=U):(se=hc(W.type,W.key,W.props,null,H.mode,se),se.ref=tl(H,U,W),se.return=H,H=se)}return E(H);case oe:e:{for(_e=W.key;U!==null;){if(U.key===_e)if(U.tag===4&&U.stateNode.containerInfo===W.containerInfo&&U.stateNode.implementation===W.implementation){l(H,U.sibling),U=p(U,W.children||[]),U.return=H,H=U;break e}else{l(H,U);break}else s(H,U);U=U.sibling}U=Th(W,H.mode,se),U.return=H,H=U}return E(H);case Xe:return _e=W._init,pt(H,U,_e(W._payload),se)}if(Bn(W))return he(H,U,W,se);if(ge(W))return pe(H,U,W,se);$u(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,U!==null&&U.tag===6?(l(H,U.sibling),U=p(U,W),U.return=H,H=U):(l(H,U),U=wh(W,H.mode,se),U.return=H,H=U),E(H)):l(H,U)}return pt}var Do=Hg(!0),Wg=Hg(!1),Hu=wi(null),Wu=null,Lo=null,bf=null;function Nf(){bf=Lo=Wu=null}function Of(i){var s=Hu.current;rt(Hu),i._currentValue=s}function Df(i,s,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===l)break;i=i.return}}function Vo(i,s){Wu=i,bf=Lo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(ln=!0),i.firstContext=null)}function Dn(i){var s=i._currentValue;if(bf!==i)if(i={context:i,memoizedValue:s,next:null},Lo===null){if(Wu===null)throw Error(t(308));Lo=i,Wu.dependencies={lanes:0,firstContext:i}}else Lo=Lo.next=i;return s}var Rs=null;function Lf(i){Rs===null?Rs=[i]:Rs.push(i)}function qg(i,s,l,d){var p=s.interleaved;return p===null?(l.next=l,Lf(s)):(l.next=p.next,p.next=l),s.interleaved=l,zr(i,d)}function zr(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Si=!1;function Vf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kg(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function $r(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Ri(i,s,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,$e&2){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,zr(i,l)}return p=d.interleaved,p===null?(s.next=s,Lf(d)):(s.next=p.next,p.next=s),d.interleaved=s,zr(i,l)}function qu(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=i.pendingLanes,l|=d,s.lanes=l,pi(i,l)}}function Gg(i,s){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function Ku(i,s,l,d){var p=i.updateQueue;Si=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,x=p.shared.pending;if(x!==null){p.shared.pending=null;var L=x,K=L.next;L.next=null,E===null?y=K:E.next=K,E=L;var te=i.alternate;te!==null&&(te=te.updateQueue,x=te.lastBaseUpdate,x!==E&&(x===null?te.firstBaseUpdate=K:x.next=K,te.lastBaseUpdate=L))}if(y!==null){var re=p.baseState;E=0,te=K=L=null,x=y;do{var Z=x.lane,ue=x.eventTime;if((d&Z)===Z){te!==null&&(te=te.next={eventTime:ue,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var he=i,pe=x;switch(Z=s,ue=l,pe.tag){case 1:if(he=pe.payload,typeof he=="function"){re=he.call(ue,re,Z);break e}re=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=pe.payload,Z=typeof he=="function"?he.call(ue,re,Z):he,Z==null)break e;re=le({},re,Z);break e;case 2:Si=!0}}x.callback!==null&&x.lane!==0&&(i.flags|=64,Z=p.effects,Z===null?p.effects=[x]:Z.push(x))}else ue={eventTime:ue,lane:Z,tag:x.tag,payload:x.payload,callback:x.callback,next:null},te===null?(K=te=ue,L=re):te=te.next=ue,E|=Z;if(x=x.next,x===null){if(x=p.shared.pending,x===null)break;Z=x,x=Z.next,Z.next=null,p.lastBaseUpdate=Z,p.shared.pending=null}}while(!0);if(te===null&&(L=re),p.baseState=L,p.firstBaseUpdate=K,p.lastBaseUpdate=te,s=p.shared.interleaved,s!==null){p=s;do E|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);ks|=E,i.lanes=E,i.memoizedState=re}}function Qg(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var d=i[s],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var nl={},yr=wi(nl),rl=wi(nl),il=wi(nl);function Cs(i){if(i===nl)throw Error(t(174));return i}function Mf(i,s){switch(et(il,s),et(rl,i),et(yr,nl),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ye(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=Ye(s,i)}rt(yr),et(yr,s)}function Mo(){rt(yr),rt(rl),rt(il)}function Xg(i){Cs(il.current);var s=Cs(yr.current),l=Ye(s,i.type);s!==l&&(et(rl,i),et(yr,l))}function Ff(i){rl.current===i&&(rt(yr),rt(rl))}var lt=wi(0);function Gu(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Uf=[];function jf(){for(var i=0;i<Uf.length;i++)Uf[i]._workInProgressVersionPrimary=null;Uf.length=0}var Qu=X.ReactCurrentDispatcher,Bf=X.ReactCurrentBatchConfig,As=0,ut=null,wt=null,At=null,Xu=!1,sl=!1,ol=0,VI=0;function jt(){throw Error(t(321))}function zf(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Yn(i[l],s[l]))return!1;return!0}function $f(i,s,l,d,p,y){if(As=y,ut=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Qu.current=i===null||i.memoizedState===null?jI:BI,i=l(d,p),sl){y=0;do{if(sl=!1,ol=0,25<=y)throw Error(t(301));y+=1,At=wt=null,s.updateQueue=null,Qu.current=zI,i=l(d,p)}while(sl)}if(Qu.current=Zu,s=wt!==null&&wt.next!==null,As=0,At=wt=ut=null,Xu=!1,s)throw Error(t(300));return i}function Hf(){var i=ol!==0;return ol=0,i}function _r(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?ut.memoizedState=At=i:At=At.next=i,At}function Ln(){if(wt===null){var i=ut.alternate;i=i!==null?i.memoizedState:null}else i=wt.next;var s=At===null?ut.memoizedState:At.next;if(s!==null)At=s,wt=i;else{if(i===null)throw Error(t(310));wt=i,i={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},At===null?ut.memoizedState=At=i:At=At.next=i}return At}function al(i,s){return typeof s=="function"?s(i):s}function Wf(i){var s=Ln(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=wt,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var x=E=null,L=null,K=y;do{var te=K.lane;if((As&te)===te)L!==null&&(L=L.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),d=K.hasEagerState?K.eagerState:i(d,K.action);else{var re={lane:te,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};L===null?(x=L=re,E=d):L=L.next=re,ut.lanes|=te,ks|=te}K=K.next}while(K!==null&&K!==y);L===null?E=d:L.next=x,Yn(d,s.memoizedState)||(ln=!0),s.memoizedState=d,s.baseState=E,s.baseQueue=L,l.lastRenderedState=d}if(i=l.interleaved,i!==null){p=i;do y=p.lane,ut.lanes|=y,ks|=y,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function qf(i){var s=Ln(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do y=i(y,E.action),E=E.next;while(E!==p);Yn(y,s.memoizedState)||(ln=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,d]}function Jg(){}function Yg(i,s){var l=ut,d=Ln(),p=s(),y=!Yn(d.memoizedState,p);if(y&&(d.memoizedState=p,ln=!0),d=d.queue,Kf(ty.bind(null,l,d,i),[i]),d.getSnapshot!==s||y||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,ll(9,ey.bind(null,l,d,p,s),void 0,null),kt===null)throw Error(t(349));As&30||Zg(l,s,p)}return p}function Zg(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=ut.updateQueue,s===null?(s={lastEffect:null,stores:null},ut.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function ey(i,s,l,d){s.value=l,s.getSnapshot=d,ny(s)&&ry(i)}function ty(i,s,l){return l(function(){ny(s)&&ry(i)})}function ny(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Yn(i,l)}catch{return!0}}function ry(i){var s=zr(i,1);s!==null&&rr(s,i,1,-1)}function iy(i){var s=_r();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:i},s.queue=i,i=i.dispatch=UI.bind(null,ut,i),[s.memoizedState,i]}function ll(i,s,l,d){return i={tag:i,create:s,destroy:l,deps:d,next:null},s=ut.updateQueue,s===null?(s={lastEffect:null,stores:null},ut.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,s.lastEffect=i)),i}function sy(){return Ln().memoizedState}function Ju(i,s,l,d){var p=_r();ut.flags|=i,p.memoizedState=ll(1|s,l,void 0,d===void 0?null:d)}function Yu(i,s,l,d){var p=Ln();d=d===void 0?null:d;var y=void 0;if(wt!==null){var E=wt.memoizedState;if(y=E.destroy,d!==null&&zf(d,E.deps)){p.memoizedState=ll(s,l,y,d);return}}ut.flags|=i,p.memoizedState=ll(1|s,l,y,d)}function oy(i,s){return Ju(8390656,8,i,s)}function Kf(i,s){return Yu(2048,8,i,s)}function ay(i,s){return Yu(4,2,i,s)}function ly(i,s){return Yu(4,4,i,s)}function uy(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function cy(i,s,l){return l=l!=null?l.concat([i]):null,Yu(4,4,uy.bind(null,s,i),l)}function Gf(){}function dy(i,s){var l=Ln();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&zf(s,d[1])?d[0]:(l.memoizedState=[i,s],i)}function fy(i,s){var l=Ln();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&zf(s,d[1])?d[0]:(i=i(),l.memoizedState=[i,s],i)}function hy(i,s,l){return As&21?(Yn(l,s)||(l=gs(),ut.lanes|=l,ks|=l,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,ln=!0),i.memoizedState=l)}function MI(i,s){var l=Ue;Ue=l!==0&&4>l?l:4,i(!0);var d=Bf.transition;Bf.transition={};try{i(!1),s()}finally{Ue=l,Bf.transition=d}}function py(){return Ln().memoizedState}function FI(i,s,l){var d=Pi(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},my(i))gy(s,l);else if(l=qg(i,s,l,d),l!==null){var p=Jt();rr(l,i,d,p),yy(l,s,d)}}function UI(i,s,l){var d=Pi(i),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(my(i))gy(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,x=y(E,l);if(p.hasEagerState=!0,p.eagerState=x,Yn(x,E)){var L=s.interleaved;L===null?(p.next=p,Lf(s)):(p.next=L.next,L.next=p),s.interleaved=p;return}}catch{}finally{}l=qg(i,s,p,d),l!==null&&(p=Jt(),rr(l,i,d,p),yy(l,s,d))}}function my(i){var s=i.alternate;return i===ut||s!==null&&s===ut}function gy(i,s){sl=Xu=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function yy(i,s,l){if(l&4194240){var d=s.lanes;d&=i.pendingLanes,l|=d,s.lanes=l,pi(i,l)}}var Zu={readContext:Dn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},jI={readContext:Dn,useCallback:function(i,s){return _r().memoizedState=[i,s===void 0?null:s],i},useContext:Dn,useEffect:oy,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,Ju(4194308,4,uy.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Ju(4194308,4,i,s)},useInsertionEffect:function(i,s){return Ju(4,2,i,s)},useMemo:function(i,s){var l=_r();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var d=_r();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},d.queue=i,i=i.dispatch=FI.bind(null,ut,i),[d.memoizedState,i]},useRef:function(i){var s=_r();return i={current:i},s.memoizedState=i},useState:iy,useDebugValue:Gf,useDeferredValue:function(i){return _r().memoizedState=i},useTransition:function(){var i=iy(!1),s=i[0];return i=MI.bind(null,i[1]),_r().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var d=ut,p=_r();if(st){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),kt===null)throw Error(t(349));As&30||Zg(d,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,oy(ty.bind(null,d,y,i),[i]),d.flags|=2048,ll(9,ey.bind(null,d,y,l,s),void 0,null),l},useId:function(){var i=_r(),s=kt.identifierPrefix;if(st){var l=Br,d=jr;l=(d&~(1<<32-Gt(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=ol++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=VI++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},BI={readContext:Dn,useCallback:dy,useContext:Dn,useEffect:Kf,useImperativeHandle:cy,useInsertionEffect:ay,useLayoutEffect:ly,useMemo:fy,useReducer:Wf,useRef:sy,useState:function(){return Wf(al)},useDebugValue:Gf,useDeferredValue:function(i){var s=Ln();return hy(s,wt.memoizedState,i)},useTransition:function(){var i=Wf(al)[0],s=Ln().memoizedState;return[i,s]},useMutableSource:Jg,useSyncExternalStore:Yg,useId:py,unstable_isNewReconciler:!1},zI={readContext:Dn,useCallback:dy,useContext:Dn,useEffect:Kf,useImperativeHandle:cy,useInsertionEffect:ay,useLayoutEffect:ly,useMemo:fy,useReducer:qf,useRef:sy,useState:function(){return qf(al)},useDebugValue:Gf,useDeferredValue:function(i){var s=Ln();return wt===null?s.memoizedState=i:hy(s,wt.memoizedState,i)},useTransition:function(){var i=qf(al)[0],s=Ln().memoizedState;return[i,s]},useMutableSource:Jg,useSyncExternalStore:Yg,useId:py,unstable_isNewReconciler:!1};function er(i,s){if(i&&i.defaultProps){s=le({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function Qf(i,s,l,d){s=i.memoizedState,l=l(d,s),l=l==null?s:le({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var ec={isMounted:function(i){return(i=i._reactInternals)?Wn(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var d=Jt(),p=Pi(i),y=$r(d,p);y.payload=s,l!=null&&(y.callback=l),s=Ri(i,y,p),s!==null&&(rr(s,i,p,d),qu(s,i,p))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var d=Jt(),p=Pi(i),y=$r(d,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=Ri(i,y,p),s!==null&&(rr(s,i,p,d),qu(s,i,p))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Jt(),d=Pi(i),p=$r(l,d);p.tag=2,s!=null&&(p.callback=s),s=Ri(i,p,d),s!==null&&(rr(s,i,d,l),qu(s,i,d))}};function _y(i,s,l,d,p,y,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,E):s.prototype&&s.prototype.isPureReactComponent?!Ga(l,d)||!Ga(p,y):!0}function vy(i,s,l){var d=!1,p=Ti,y=s.contextType;return typeof y=="object"&&y!==null?y=Dn(y):(p=an(s)?Ts:Ut.current,d=s.contextTypes,y=(d=d!=null)?xo(i,p):Ti),s=new s(l,y),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ec,i.stateNode=s,s._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=y),s}function Ey(i,s,l,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==i&&ec.enqueueReplaceState(s,s.state,null)}function Xf(i,s,l,d){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},Vf(i);var y=s.contextType;typeof y=="object"&&y!==null?p.context=Dn(y):(y=an(s)?Ts:Ut.current,p.context=xo(i,y)),p.state=i.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Qf(i,s,y,l),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&ec.enqueueReplaceState(p,p.state,null),Ku(i,l,p,d),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function Fo(i,s){try{var l="",d=s;do l+=ke(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:s,stack:p,digest:null}}function Jf(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Yf(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var $I=typeof WeakMap=="function"?WeakMap:Map;function wy(i,s,l){l=$r(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){ac||(ac=!0,hh=d),Yf(i,s)},l}function Ty(i,s,l){l=$r(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;l.payload=function(){return d(p)},l.callback=function(){Yf(i,s)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Yf(i,s),typeof d!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function Iy(i,s,l){var d=i.pingCache;if(d===null){d=i.pingCache=new $I;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(p.add(l),i=rS.bind(null,i,s,l),s.then(i,i))}function Sy(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Ry(i,s,l,d,p){return i.mode&1?(i.flags|=65536,i.lanes=p,i):(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=$r(-1,1),s.tag=2,Ri(l,s,1))),l.lanes|=1),i)}var HI=X.ReactCurrentOwner,ln=!1;function Xt(i,s,l,d){s.child=i===null?Wg(s,null,l,d):Do(s,i.child,l,d)}function Cy(i,s,l,d,p){l=l.render;var y=s.ref;return Vo(s,p),d=$f(i,s,l,d,y,p),l=Hf(),i!==null&&!ln?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,Hr(i,s,p)):(st&&l&&Cf(s),s.flags|=1,Xt(i,s,d,p),s.child)}function Ay(i,s,l,d,p){if(i===null){var y=l.type;return typeof y=="function"&&!Eh(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,ky(i,s,y,d,p)):(i=hc(l.type,null,d,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!(i.lanes&p)){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ga,l(E,d)&&i.ref===s.ref)return Hr(i,s,p)}return s.flags|=1,i=bi(y,d),i.ref=s.ref,i.return=s,s.child=i}function ky(i,s,l,d,p){if(i!==null){var y=i.memoizedProps;if(Ga(y,d)&&i.ref===s.ref)if(ln=!1,s.pendingProps=d=y,(i.lanes&p)!==0)i.flags&131072&&(ln=!0);else return s.lanes=i.lanes,Hr(i,s,p)}return Zf(i,s,l,d,p)}function Py(i,s,l){var d=s.pendingProps,p=d.children,y=i!==null?i.memoizedState:null;if(d.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(jo,Sn),Sn|=l;else{if(!(l&1073741824))return i=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,et(jo,Sn),Sn|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,et(jo,Sn),Sn|=d}else y!==null?(d=y.baseLanes|l,s.memoizedState=null):d=l,et(jo,Sn),Sn|=d;return Xt(i,s,p,l),s.child}function xy(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Zf(i,s,l,d,p){var y=an(l)?Ts:Ut.current;return y=xo(s,y),Vo(s,p),l=$f(i,s,l,d,y,p),d=Hf(),i!==null&&!ln?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,Hr(i,s,p)):(st&&d&&Cf(s),s.flags|=1,Xt(i,s,l,p),s.child)}function by(i,s,l,d,p){if(an(l)){var y=!0;Fu(s)}else y=!1;if(Vo(s,p),s.stateNode===null)nc(i,s),vy(s,l,d),Xf(s,l,d,p),d=!0;else if(i===null){var E=s.stateNode,x=s.memoizedProps;E.props=x;var L=E.context,K=l.contextType;typeof K=="object"&&K!==null?K=Dn(K):(K=an(l)?Ts:Ut.current,K=xo(s,K));var te=l.getDerivedStateFromProps,re=typeof te=="function"||typeof E.getSnapshotBeforeUpdate=="function";re||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(x!==d||L!==K)&&Ey(s,E,d,K),Si=!1;var Z=s.memoizedState;E.state=Z,Ku(s,d,E,p),L=s.memoizedState,x!==d||Z!==L||on.current||Si?(typeof te=="function"&&(Qf(s,l,te,d),L=s.memoizedState),(x=Si||_y(s,l,x,d,Z,L,K))?(re||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=L),E.props=d,E.state=L,E.context=K,d=x):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{E=s.stateNode,Kg(i,s),x=s.memoizedProps,K=s.type===s.elementType?x:er(s.type,x),E.props=K,re=s.pendingProps,Z=E.context,L=l.contextType,typeof L=="object"&&L!==null?L=Dn(L):(L=an(l)?Ts:Ut.current,L=xo(s,L));var ue=l.getDerivedStateFromProps;(te=typeof ue=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(x!==re||Z!==L)&&Ey(s,E,d,L),Si=!1,Z=s.memoizedState,E.state=Z,Ku(s,d,E,p);var he=s.memoizedState;x!==re||Z!==he||on.current||Si?(typeof ue=="function"&&(Qf(s,l,ue,d),he=s.memoizedState),(K=Si||_y(s,l,K,d,Z,he,L)||!1)?(te||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,he,L),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,he,L)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||x===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=he),E.props=d,E.state=he,E.context=L,d=K):(typeof E.componentDidUpdate!="function"||x===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),d=!1)}return eh(i,s,l,d,y,p)}function eh(i,s,l,d,p,y){xy(i,s);var E=(s.flags&128)!==0;if(!d&&!E)return p&&Vg(s,l,!1),Hr(i,s,y);d=s.stateNode,HI.current=s;var x=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,i!==null&&E?(s.child=Do(s,i.child,null,y),s.child=Do(s,null,x,y)):Xt(i,s,x,y),s.memoizedState=d.state,p&&Vg(s,l,!0),s.child}function Ny(i){var s=i.stateNode;s.pendingContext?Dg(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Dg(i,s.context,!1),Mf(i,s.containerInfo)}function Oy(i,s,l,d,p){return Oo(),xf(p),s.flags|=256,Xt(i,s,l,d),s.child}var th={dehydrated:null,treeContext:null,retryLane:0};function nh(i){return{baseLanes:i,cachePool:null,transitions:null}}function Dy(i,s,l){var d=s.pendingProps,p=lt.current,y=!1,E=(s.flags&128)!==0,x;if((x=E)||(x=i!==null&&i.memoizedState===null?!1:(p&2)!==0),x?(y=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),et(lt,p&1),i===null)return Pf(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(E=d.children,i=d.fallback,y?(d=s.mode,y=s.child,E={mode:"hidden",children:E},!(d&1)&&y!==null?(y.childLanes=0,y.pendingProps=E):y=pc(E,d,0,null),i=Ns(i,d,l,null),y.return=s,i.return=s,y.sibling=i,s.child=y,s.child.memoizedState=nh(l),s.memoizedState=th,i):rh(s,E));if(p=i.memoizedState,p!==null&&(x=p.dehydrated,x!==null))return WI(i,s,E,d,x,p,l);if(y){y=d.fallback,E=s.mode,p=i.child,x=p.sibling;var L={mode:"hidden",children:d.children};return!(E&1)&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=L,s.deletions=null):(d=bi(p,L),d.subtreeFlags=p.subtreeFlags&14680064),x!==null?y=bi(x,y):(y=Ns(y,E,l,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,E=i.child.memoizedState,E=E===null?nh(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=i.childLanes&~l,s.memoizedState=th,d}return y=i.child,i=y.sibling,d=bi(y,{mode:"visible",children:d.children}),!(s.mode&1)&&(d.lanes=l),d.return=s,d.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=d,s.memoizedState=null,d}function rh(i,s){return s=pc({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function tc(i,s,l,d){return d!==null&&xf(d),Do(s,i.child,null,l),i=rh(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function WI(i,s,l,d,p,y,E){if(l)return s.flags&256?(s.flags&=-257,d=Jf(Error(t(422))),tc(i,s,E,d)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(y=d.fallback,p=s.mode,d=pc({mode:"visible",children:d.children},p,0,null),y=Ns(y,p,E,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,s.mode&1&&Do(s,i.child,null,E),s.child.memoizedState=nh(E),s.memoizedState=th,y);if(!(s.mode&1))return tc(i,s,E,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var x=d.dgst;return d=x,y=Error(t(419)),d=Jf(y,d,void 0),tc(i,s,E,d)}if(x=(E&i.childLanes)!==0,ln||x){if(d=kt,d!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(d.suspendedLanes|E)?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,zr(i,p),rr(d,i,p,-1))}return vh(),d=Jf(Error(t(421))),tc(i,s,E,d)}return p.data==="$?"?(s.flags|=128,s.child=i.child,s=iS.bind(null,i),p._reactRetry=s,null):(i=y.treeContext,In=Ei(p.nextSibling),Tn=s,st=!0,Zn=null,i!==null&&(Nn[On++]=jr,Nn[On++]=Br,Nn[On++]=Is,jr=i.id,Br=i.overflow,Is=s),s=rh(s,d.children),s.flags|=4096,s)}function Ly(i,s,l){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),Df(i.return,s,l)}function ih(i,s,l,d,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function Vy(i,s,l){var d=s.pendingProps,p=d.revealOrder,y=d.tail;if(Xt(i,s,d.children,l),d=lt.current,d&2)d=d&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ly(i,l,s);else if(i.tag===19)Ly(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(et(lt,d),!(s.mode&1))s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&Gu(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),ih(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Gu(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}ih(s,!0,l,null,y);break;case"together":ih(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function nc(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Hr(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),ks|=s.lanes,!(l&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=bi(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=bi(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function qI(i,s,l){switch(s.tag){case 3:Ny(s),Oo();break;case 5:Xg(s);break;case 1:an(s.type)&&Fu(s);break;case 4:Mf(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;et(Hu,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(et(lt,lt.current&1),s.flags|=128,null):l&s.child.childLanes?Dy(i,s,l):(et(lt,lt.current&1),i=Hr(i,s,l),i!==null?i.sibling:null);et(lt,lt.current&1);break;case 19:if(d=(l&s.childLanes)!==0,i.flags&128){if(d)return Vy(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),et(lt,lt.current),d)break;return null;case 22:case 23:return s.lanes=0,Py(i,s,l)}return Hr(i,s,l)}var My,sh,Fy,Uy;My=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},sh=function(){},Fy=function(i,s,l,d){var p=i.memoizedProps;if(p!==d){i=s.stateNode,Cs(yr.current);var y=null;switch(l){case"input":p=nn(i,p),d=nn(i,d),y=[];break;case"select":p=le({},p,{value:void 0}),d=le({},d,{value:void 0}),y=[];break;case"textarea":p=is(i,p),d=is(i,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=Lu)}Pa(l,d);var E;l=null;for(K in p)if(!d.hasOwnProperty(K)&&p.hasOwnProperty(K)&&p[K]!=null)if(K==="style"){var x=p[K];for(E in x)x.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?y||(y=[]):(y=y||[]).push(K,null));for(K in d){var L=d[K];if(x=p!=null?p[K]:void 0,d.hasOwnProperty(K)&&L!==x&&(L!=null||x!=null))if(K==="style")if(x){for(E in x)!x.hasOwnProperty(E)||L&&L.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in L)L.hasOwnProperty(E)&&x[E]!==L[E]&&(l||(l={}),l[E]=L[E])}else l||(y||(y=[]),y.push(K,l)),l=L;else K==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,x=x?x.__html:void 0,L!=null&&x!==L&&(y=y||[]).push(K,L)):K==="children"?typeof L!="string"&&typeof L!="number"||(y=y||[]).push(K,""+L):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(L!=null&&K==="onScroll"&&nt("scroll",i),y||x===L||(y=[])):(y=y||[]).push(K,L))}l&&(y=y||[]).push("style",l);var K=y;(s.updateQueue=K)&&(s.flags|=4)}},Uy=function(i,s,l,d){l!==d&&(s.flags|=4)};function ul(i,s){if(!st)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Bt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=d,i.childLanes=l,s}function KI(i,s,l){var d=s.pendingProps;switch(Af(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(s),null;case 1:return an(s.type)&&Mu(),Bt(s),null;case 3:return d=s.stateNode,Mo(),rt(on),rt(Ut),jf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(zu(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Zn!==null&&(gh(Zn),Zn=null))),sh(i,s),Bt(s),null;case 5:Ff(s);var p=Cs(il.current);if(l=s.type,i!==null&&s.stateNode!=null)Fy(i,s,l,d,p),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return Bt(s),null}if(i=Cs(yr.current),zu(s)){d=s.stateNode,l=s.type;var y=s.memoizedProps;switch(d[gr]=s,d[Za]=y,i=(s.mode&1)!==0,l){case"dialog":nt("cancel",d),nt("close",d);break;case"iframe":case"object":case"embed":nt("load",d);break;case"video":case"audio":for(p=0;p<Xa.length;p++)nt(Xa[p],d);break;case"source":nt("error",d);break;case"img":case"image":case"link":nt("error",d),nt("load",d);break;case"details":nt("toggle",d);break;case"input":qe(d,y),nt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},nt("invalid",d);break;case"textarea":li(d,y),nt("invalid",d)}Pa(l,y),p=null;for(var E in y)if(y.hasOwnProperty(E)){var x=y[E];E==="children"?typeof x=="string"?d.textContent!==x&&(y.suppressHydrationWarning!==!0&&Du(d.textContent,x,i),p=["children",x]):typeof x=="number"&&d.textContent!==""+x&&(y.suppressHydrationWarning!==!0&&Du(d.textContent,x,i),p=["children",""+x]):o.hasOwnProperty(E)&&x!=null&&E==="onScroll"&&nt("scroll",d)}switch(l){case"input":en(d),eo(d,y,!0);break;case"textarea":en(d),ss(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=Lu)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=we(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=E.createElement(l,{is:d.is}):(i=E.createElement(l),l==="select"&&(E=i,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):i=E.createElementNS(i,l),i[gr]=s,i[Za]=d,My(i,s,!1,!1),s.stateNode=i;e:{switch(E=xa(l,d),l){case"dialog":nt("cancel",i),nt("close",i),p=d;break;case"iframe":case"object":case"embed":nt("load",i),p=d;break;case"video":case"audio":for(p=0;p<Xa.length;p++)nt(Xa[p],i);p=d;break;case"source":nt("error",i),p=d;break;case"img":case"image":case"link":nt("error",i),nt("load",i),p=d;break;case"details":nt("toggle",i),p=d;break;case"input":qe(i,d),p=nn(i,d),nt("invalid",i);break;case"option":p=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},p=le({},d,{value:void 0}),nt("invalid",i);break;case"textarea":li(i,d),p=is(i,d),nt("invalid",i);break;default:p=d}Pa(l,p),x=p;for(y in x)if(x.hasOwnProperty(y)){var L=x[y];y==="style"?Aa(i,L):y==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Ra(i,L)):y==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&ui(i,L):typeof L=="number"&&ui(i,""+L):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?L!=null&&y==="onScroll"&&nt("scroll",i):L!=null&&q(i,y,L,E))}switch(l){case"input":en(i),eo(i,d,!1);break;case"textarea":en(i),ss(i);break;case"option":d.value!=null&&i.setAttribute("value",""+Fe(d.value));break;case"select":i.multiple=!!d.multiple,y=d.value,y!=null?zn(i,!!d.multiple,y,!1):d.defaultValue!=null&&zn(i,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=Lu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Bt(s),null;case 6:if(i&&s.stateNode!=null)Uy(i,s,i.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=Cs(il.current),Cs(yr.current),zu(s)){if(d=s.stateNode,l=s.memoizedProps,d[gr]=s,(y=d.nodeValue!==l)&&(i=Tn,i!==null))switch(i.tag){case 3:Du(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Du(d.nodeValue,l,(i.mode&1)!==0)}y&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[gr]=s,s.stateNode=d}return Bt(s),null;case 13:if(rt(lt),d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(st&&In!==null&&s.mode&1&&!(s.flags&128))zg(),Oo(),s.flags|=98560,y=!1;else if(y=zu(s),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[gr]=s}else Oo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Bt(s),y=!1}else Zn!==null&&(gh(Zn),Zn=null),y=!0;if(!y)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(s.child.flags|=8192,s.mode&1&&(i===null||lt.current&1?Tt===0&&(Tt=3):vh())),s.updateQueue!==null&&(s.flags|=4),Bt(s),null);case 4:return Mo(),sh(i,s),i===null&&Ja(s.stateNode.containerInfo),Bt(s),null;case 10:return Of(s.type._context),Bt(s),null;case 17:return an(s.type)&&Mu(),Bt(s),null;case 19:if(rt(lt),y=s.memoizedState,y===null)return Bt(s),null;if(d=(s.flags&128)!==0,E=y.rendering,E===null)if(d)ul(y,!1);else{if(Tt!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(E=Gu(i),E!==null){for(s.flags|=128,ul(y,!1),d=E.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)y=l,i=d,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,i=E.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return et(lt,lt.current&1|2),s.child}i=i.sibling}y.tail!==null&&Ze()>Bo&&(s.flags|=128,d=!0,ul(y,!1),s.lanes=4194304)}else{if(!d)if(i=Gu(E),i!==null){if(s.flags|=128,d=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),ul(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!st)return Bt(s),null}else 2*Ze()-y.renderingStartTime>Bo&&l!==1073741824&&(s.flags|=128,d=!0,ul(y,!1),s.lanes=4194304);y.isBackwards?(E.sibling=s.child,s.child=E):(l=y.last,l!==null?l.sibling=E:s.child=E,y.last=E)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=Ze(),s.sibling=null,l=lt.current,et(lt,d?l&1|2:l&1),s):(Bt(s),null);case 22:case 23:return _h(),d=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(s.flags|=8192),d&&s.mode&1?Sn&1073741824&&(Bt(s),s.subtreeFlags&6&&(s.flags|=8192)):Bt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function GI(i,s){switch(Af(s),s.tag){case 1:return an(s.type)&&Mu(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Mo(),rt(on),rt(Ut),jf(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return Ff(s),null;case 13:if(rt(lt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Oo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return rt(lt),null;case 4:return Mo(),null;case 10:return Of(s.type._context),null;case 22:case 23:return _h(),null;case 24:return null;default:return null}}var rc=!1,zt=!1,QI=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Uo(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){ft(i,s,d)}else l.current=null}function oh(i,s,l){try{l()}catch(d){ft(i,s,d)}}var jy=!1;function XI(i,s){if(_f=yi,i=_g(),cf(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,x=-1,L=-1,K=0,te=0,re=i,Z=null;t:for(;;){for(var ue;re!==l||p!==0&&re.nodeType!==3||(x=E+p),re!==y||d!==0&&re.nodeType!==3||(L=E+d),re.nodeType===3&&(E+=re.nodeValue.length),(ue=re.firstChild)!==null;)Z=re,re=ue;for(;;){if(re===i)break t;if(Z===l&&++K===p&&(x=E),Z===y&&++te===d&&(L=E),(ue=re.nextSibling)!==null)break;re=Z,Z=re.parentNode}re=ue}l=x===-1||L===-1?null:{start:x,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(vf={focusedElem:i,selectionRange:l},yi=!1,fe=s;fe!==null;)if(s=fe,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,fe=i;else for(;fe!==null;){s=fe;try{var he=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var pe=he.memoizedProps,pt=he.memoizedState,H=s.stateNode,U=H.getSnapshotBeforeUpdate(s.elementType===s.type?pe:er(s.type,pe),pt);H.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var W=s.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){ft(s,s.return,se)}if(i=s.sibling,i!==null){i.return=s.return,fe=i;break}fe=s.return}return he=jy,jy=!1,he}function cl(i,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&i)===i){var y=p.destroy;p.destroy=void 0,y!==void 0&&oh(s,l,y)}p=p.next}while(p!==d)}}function ic(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function ah(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function By(i){var s=i.alternate;s!==null&&(i.alternate=null,By(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[gr],delete s[Za],delete s[If],delete s[NI],delete s[OI])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function zy(i){return i.tag===5||i.tag===3||i.tag===4}function $y(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||zy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function lh(i,s,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Lu));else if(d!==4&&(i=i.child,i!==null))for(lh(i,s,l),i=i.sibling;i!==null;)lh(i,s,l),i=i.sibling}function uh(i,s,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(uh(i,s,l),i=i.sibling;i!==null;)uh(i,s,l),i=i.sibling}var Ot=null,tr=!1;function Ci(i,s,l){for(l=l.child;l!==null;)Hy(i,s,l),l=l.sibling}function Hy(i,s,l){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(ps,l)}catch{}switch(l.tag){case 5:zt||Uo(l,s);case 6:var d=Ot,p=tr;Ot=null,Ci(i,s,l),Ot=d,tr=p,Ot!==null&&(tr?(i=Ot,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Ot.removeChild(l.stateNode));break;case 18:Ot!==null&&(tr?(i=Ot,l=l.stateNode,i.nodeType===8?Tf(i.parentNode,l):i.nodeType===1&&Tf(i,l),Xn(i)):Tf(Ot,l.stateNode));break;case 4:d=Ot,p=tr,Ot=l.stateNode.containerInfo,tr=!0,Ci(i,s,l),Ot=d,tr=p;break;case 0:case 11:case 14:case 15:if(!zt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,E=y.destroy;y=y.tag,E!==void 0&&(y&2||y&4)&&oh(l,s,E),p=p.next}while(p!==d)}Ci(i,s,l);break;case 1:if(!zt&&(Uo(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(x){ft(l,s,x)}Ci(i,s,l);break;case 21:Ci(i,s,l);break;case 22:l.mode&1?(zt=(d=zt)||l.memoizedState!==null,Ci(i,s,l),zt=d):Ci(i,s,l);break;default:Ci(i,s,l)}}function Wy(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new QI),s.forEach(function(d){var p=sS.bind(null,i,d);l.has(d)||(l.add(d),d.then(p,p))})}}function nr(i,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=i,E=s,x=E;e:for(;x!==null;){switch(x.tag){case 5:Ot=x.stateNode,tr=!1;break e;case 3:Ot=x.stateNode.containerInfo,tr=!0;break e;case 4:Ot=x.stateNode.containerInfo,tr=!0;break e}x=x.return}if(Ot===null)throw Error(t(160));Hy(y,E,p),Ot=null,tr=!1;var L=p.alternate;L!==null&&(L.return=null),p.return=null}catch(K){ft(p,s,K)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)qy(s,i),s=s.sibling}function qy(i,s){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(nr(s,i),vr(i),d&4){try{cl(3,i,i.return),ic(3,i)}catch(pe){ft(i,i.return,pe)}try{cl(5,i,i.return)}catch(pe){ft(i,i.return,pe)}}break;case 1:nr(s,i),vr(i),d&512&&l!==null&&Uo(l,l.return);break;case 5:if(nr(s,i),vr(i),d&512&&l!==null&&Uo(l,l.return),i.flags&32){var p=i.stateNode;try{ui(p,"")}catch(pe){ft(i,i.return,pe)}}if(d&4&&(p=i.stateNode,p!=null)){var y=i.memoizedProps,E=l!==null?l.memoizedProps:y,x=i.type,L=i.updateQueue;if(i.updateQueue=null,L!==null)try{x==="input"&&y.type==="radio"&&y.name!=null&&lr(p,y),xa(x,E);var K=xa(x,y);for(E=0;E<L.length;E+=2){var te=L[E],re=L[E+1];te==="style"?Aa(p,re):te==="dangerouslySetInnerHTML"?Ra(p,re):te==="children"?ui(p,re):q(p,te,re,K)}switch(x){case"input":jn(p,y);break;case"textarea":br(p,y);break;case"select":var Z=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ue=y.value;ue!=null?zn(p,!!y.multiple,ue,!1):Z!==!!y.multiple&&(y.defaultValue!=null?zn(p,!!y.multiple,y.defaultValue,!0):zn(p,!!y.multiple,y.multiple?[]:"",!1))}p[Za]=y}catch(pe){ft(i,i.return,pe)}}break;case 6:if(nr(s,i),vr(i),d&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,y=i.memoizedProps;try{p.nodeValue=y}catch(pe){ft(i,i.return,pe)}}break;case 3:if(nr(s,i),vr(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Xn(s.containerInfo)}catch(pe){ft(i,i.return,pe)}break;case 4:nr(s,i),vr(i);break;case 13:nr(s,i),vr(i),p=i.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(fh=Ze())),d&4&&Wy(i);break;case 22:if(te=l!==null&&l.memoizedState!==null,i.mode&1?(zt=(K=zt)||te,nr(s,i),zt=K):nr(s,i),vr(i),d&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!te&&i.mode&1)for(fe=i,te=i.child;te!==null;){for(re=fe=te;fe!==null;){switch(Z=fe,ue=Z.child,Z.tag){case 0:case 11:case 14:case 15:cl(4,Z,Z.return);break;case 1:Uo(Z,Z.return);var he=Z.stateNode;if(typeof he.componentWillUnmount=="function"){d=Z,l=Z.return;try{s=d,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(pe){ft(d,l,pe)}}break;case 5:Uo(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Qy(re);continue}}ue!==null?(ue.return=Z,fe=ue):Qy(re)}te=te.sibling}e:for(te=null,re=i;;){if(re.tag===5){if(te===null){te=re;try{p=re.stateNode,K?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(x=re.stateNode,L=re.memoizedProps.style,E=L!=null&&L.hasOwnProperty("display")?L.display:null,x.style.display=Ca("display",E))}catch(pe){ft(i,i.return,pe)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=K?"":re.memoizedProps}catch(pe){ft(i,i.return,pe)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===i)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===i)break e;for(;re.sibling===null;){if(re.return===null||re.return===i)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:nr(s,i),vr(i),d&4&&Wy(i);break;case 21:break;default:nr(s,i),vr(i)}}function vr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(zy(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(ui(p,""),d.flags&=-33);var y=$y(i);uh(i,y,p);break;case 3:case 4:var E=d.stateNode.containerInfo,x=$y(i);lh(i,x,E);break;default:throw Error(t(161))}}catch(L){ft(i,i.return,L)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function JI(i,s,l){fe=i,Ky(i)}function Ky(i,s,l){for(var d=(i.mode&1)!==0;fe!==null;){var p=fe,y=p.child;if(p.tag===22&&d){var E=p.memoizedState!==null||rc;if(!E){var x=p.alternate,L=x!==null&&x.memoizedState!==null||zt;x=rc;var K=zt;if(rc=E,(zt=L)&&!K)for(fe=p;fe!==null;)E=fe,L=E.child,E.tag===22&&E.memoizedState!==null?Xy(p):L!==null?(L.return=E,fe=L):Xy(p);for(;y!==null;)fe=y,Ky(y),y=y.sibling;fe=p,rc=x,zt=K}Gy(i)}else p.subtreeFlags&8772&&y!==null?(y.return=p,fe=y):Gy(i)}}function Gy(i){for(;fe!==null;){var s=fe;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:zt||ic(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!zt)if(l===null)d.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:er(s.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Qg(s,y,d);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Qg(s,E,l)}break;case 5:var x=s.stateNode;if(l===null&&s.flags&4){l=x;var L=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var K=s.alternate;if(K!==null){var te=K.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&Xn(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}zt||s.flags&512&&ah(s)}catch(Z){ft(s,s.return,Z)}}if(s===i){fe=null;break}if(l=s.sibling,l!==null){l.return=s.return,fe=l;break}fe=s.return}}function Qy(i){for(;fe!==null;){var s=fe;if(s===i){fe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,fe=l;break}fe=s.return}}function Xy(i){for(;fe!==null;){var s=fe;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{ic(4,s)}catch(L){ft(s,l,L)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(L){ft(s,p,L)}}var y=s.return;try{ah(s)}catch(L){ft(s,y,L)}break;case 5:var E=s.return;try{ah(s)}catch(L){ft(s,E,L)}}}catch(L){ft(s,s.return,L)}if(s===i){fe=null;break}var x=s.sibling;if(x!==null){x.return=s.return,fe=x;break}fe=s.return}}var YI=Math.ceil,sc=X.ReactCurrentDispatcher,ch=X.ReactCurrentOwner,Vn=X.ReactCurrentBatchConfig,$e=0,kt=null,_t=null,Dt=0,Sn=0,jo=wi(0),Tt=0,dl=null,ks=0,oc=0,dh=0,fl=null,un=null,fh=0,Bo=1/0,Wr=null,ac=!1,hh=null,Ai=null,lc=!1,ki=null,uc=0,hl=0,ph=null,cc=-1,dc=0;function Jt(){return $e&6?Ze():cc!==-1?cc:cc=Ze()}function Pi(i){return i.mode&1?$e&2&&Dt!==0?Dt&-Dt:LI.transition!==null?(dc===0&&(dc=gs()),dc):(i=Ue,i!==0||(i=window.event,i=i===void 0?16:Ba(i.type)),i):1}function rr(i,s,l,d){if(50<hl)throw hl=0,ph=null,Error(t(185));hi(i,l,d),(!($e&2)||i!==kt)&&(i===kt&&(!($e&2)&&(oc|=l),Tt===4&&xi(i,Dt)),cn(i,d),l===1&&$e===0&&!(s.mode&1)&&(Bo=Ze()+500,Uu&&Ii()))}function cn(i,s){var l=i.callbackNode;Or(i,s);var d=ms(i,i===kt?Dt:0);if(d===0)l!==null&&Va(l),i.callbackNode=null,i.callbackPriority=0;else if(s=d&-d,i.callbackPriority!==s){if(l!=null&&Va(l),s===1)i.tag===0?DI(Yy.bind(null,i)):Mg(Yy.bind(null,i)),xI(function(){!($e&6)&&Ii()}),l=null;else{switch(mi(d)){case 1:l=hs;break;case 4:l=ci;break;case 16:l=Pn;break;case 536870912:l=du;break;default:l=Pn}l=o_(l,Jy.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function Jy(i,s){if(cc=-1,dc=0,$e&6)throw Error(t(327));var l=i.callbackNode;if(zo()&&i.callbackNode!==l)return null;var d=ms(i,i===kt?Dt:0);if(d===0)return null;if(d&30||d&i.expiredLanes||s)s=fc(i,d);else{s=d;var p=$e;$e|=2;var y=e_();(kt!==i||Dt!==s)&&(Wr=null,Bo=Ze()+500,xs(i,s));do try{tS();break}catch(x){Zy(i,x)}while(!0);Nf(),sc.current=y,$e=p,_t!==null?s=0:(kt=null,Dt=0,s=Tt)}if(s!==0){if(s===2&&(p=vn(i),p!==0&&(d=p,s=mh(i,p))),s===1)throw l=dl,xs(i,0),xi(i,d),cn(i,Ze()),l;if(s===6)xi(i,d);else{if(p=i.current.alternate,!(d&30)&&!ZI(p)&&(s=fc(i,d),s===2&&(y=vn(i),y!==0&&(d=y,s=mh(i,y))),s===1))throw l=dl,xs(i,0),xi(i,d),cn(i,Ze()),l;switch(i.finishedWork=p,i.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:bs(i,un,Wr);break;case 3:if(xi(i,d),(d&130023424)===d&&(s=fh+500-Ze(),10<s)){if(ms(i,0)!==0)break;if(p=i.suspendedLanes,(p&d)!==d){Jt(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=wf(bs.bind(null,i,un,Wr),s);break}bs(i,un,Wr);break;case 4:if(xi(i,d),(d&4194240)===d)break;for(s=i.eventTimes,p=-1;0<d;){var E=31-Gt(d);y=1<<E,E=s[E],E>p&&(p=E),d&=~y}if(d=p,d=Ze()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*YI(d/1960))-d,10<d){i.timeoutHandle=wf(bs.bind(null,i,un,Wr),d);break}bs(i,un,Wr);break;case 5:bs(i,un,Wr);break;default:throw Error(t(329))}}}return cn(i,Ze()),i.callbackNode===l?Jy.bind(null,i):null}function mh(i,s){var l=fl;return i.current.memoizedState.isDehydrated&&(xs(i,s).flags|=256),i=fc(i,s),i!==2&&(s=un,un=l,s!==null&&gh(s)),i}function gh(i){un===null?un=i:un.push.apply(un,i)}function ZI(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!Yn(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function xi(i,s){for(s&=~dh,s&=~oc,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-Gt(s),d=1<<l;i[l]=-1,s&=~d}}function Yy(i){if($e&6)throw Error(t(327));zo();var s=ms(i,0);if(!(s&1))return cn(i,Ze()),null;var l=fc(i,s);if(i.tag!==0&&l===2){var d=vn(i);d!==0&&(s=d,l=mh(i,d))}if(l===1)throw l=dl,xs(i,0),xi(i,s),cn(i,Ze()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,bs(i,un,Wr),cn(i,Ze()),null}function yh(i,s){var l=$e;$e|=1;try{return i(s)}finally{$e=l,$e===0&&(Bo=Ze()+500,Uu&&Ii())}}function Ps(i){ki!==null&&ki.tag===0&&!($e&6)&&zo();var s=$e;$e|=1;var l=Vn.transition,d=Ue;try{if(Vn.transition=null,Ue=1,i)return i()}finally{Ue=d,Vn.transition=l,$e=s,!($e&6)&&Ii()}}function _h(){Sn=jo.current,rt(jo)}function xs(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,PI(l)),_t!==null)for(l=_t.return;l!==null;){var d=l;switch(Af(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Mu();break;case 3:Mo(),rt(on),rt(Ut),jf();break;case 5:Ff(d);break;case 4:Mo();break;case 13:rt(lt);break;case 19:rt(lt);break;case 10:Of(d.type._context);break;case 22:case 23:_h()}l=l.return}if(kt=i,_t=i=bi(i.current,null),Dt=Sn=s,Tt=0,dl=null,dh=oc=ks=0,un=fl=null,Rs!==null){for(s=0;s<Rs.length;s++)if(l=Rs[s],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var E=y.next;y.next=p,d.next=E}l.pending=d}Rs=null}return i}function Zy(i,s){do{var l=_t;try{if(Nf(),Qu.current=Zu,Xu){for(var d=ut.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Xu=!1}if(As=0,At=wt=ut=null,sl=!1,ol=0,ch.current=null,l===null||l.return===null){Tt=1,dl=s,_t=null;break}e:{var y=i,E=l.return,x=l,L=s;if(s=Dt,x.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var K=L,te=x,re=te.tag;if(!(te.mode&1)&&(re===0||re===11||re===15)){var Z=te.alternate;Z?(te.updateQueue=Z.updateQueue,te.memoizedState=Z.memoizedState,te.lanes=Z.lanes):(te.updateQueue=null,te.memoizedState=null)}var ue=Sy(E);if(ue!==null){ue.flags&=-257,Ry(ue,E,x,y,s),ue.mode&1&&Iy(y,K,s),s=ue,L=K;var he=s.updateQueue;if(he===null){var pe=new Set;pe.add(L),s.updateQueue=pe}else he.add(L);break e}else{if(!(s&1)){Iy(y,K,s),vh();break e}L=Error(t(426))}}else if(st&&x.mode&1){var pt=Sy(E);if(pt!==null){!(pt.flags&65536)&&(pt.flags|=256),Ry(pt,E,x,y,s),xf(Fo(L,x));break e}}y=L=Fo(L,x),Tt!==4&&(Tt=2),fl===null?fl=[y]:fl.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var H=wy(y,L,s);Gg(y,H);break e;case 1:x=L;var U=y.type,W=y.stateNode;if(!(y.flags&128)&&(typeof U.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Ai===null||!Ai.has(W)))){y.flags|=65536,s&=-s,y.lanes|=s;var se=Ty(y,x,s);Gg(y,se);break e}}y=y.return}while(y!==null)}n_(l)}catch(me){s=me,_t===l&&l!==null&&(_t=l=l.return);continue}break}while(!0)}function e_(){var i=sc.current;return sc.current=Zu,i===null?Zu:i}function vh(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),kt===null||!(ks&268435455)&&!(oc&268435455)||xi(kt,Dt)}function fc(i,s){var l=$e;$e|=2;var d=e_();(kt!==i||Dt!==s)&&(Wr=null,xs(i,s));do try{eS();break}catch(p){Zy(i,p)}while(!0);if(Nf(),$e=l,sc.current=d,_t!==null)throw Error(t(261));return kt=null,Dt=0,Tt}function eS(){for(;_t!==null;)t_(_t)}function tS(){for(;_t!==null&&!uu();)t_(_t)}function t_(i){var s=s_(i.alternate,i,Sn);i.memoizedProps=i.pendingProps,s===null?n_(i):_t=s,ch.current=null}function n_(i){var s=i;do{var l=s.alternate;if(i=s.return,s.flags&32768){if(l=GI(l,s),l!==null){l.flags&=32767,_t=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Tt=6,_t=null;return}}else if(l=KI(l,s,Sn),l!==null){_t=l;return}if(s=s.sibling,s!==null){_t=s;return}_t=s=i}while(s!==null);Tt===0&&(Tt=5)}function bs(i,s,l){var d=Ue,p=Vn.transition;try{Vn.transition=null,Ue=1,nS(i,s,l,d)}finally{Vn.transition=p,Ue=d}return null}function nS(i,s,l,d){do zo();while(ki!==null);if($e&6)throw Error(t(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(Je(i,y),i===kt&&(_t=kt=null,Dt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||lc||(lc=!0,o_(Pn,function(){return zo(),null})),y=(l.flags&15990)!==0,l.subtreeFlags&15990||y){y=Vn.transition,Vn.transition=null;var E=Ue;Ue=1;var x=$e;$e|=4,ch.current=null,XI(i,l),qy(l,i),TI(vf),yi=!!_f,vf=_f=null,i.current=l,JI(l),tf(),$e=x,Ue=E,Vn.transition=y}else i.current=l;if(lc&&(lc=!1,ki=i,uc=p),y=i.pendingLanes,y===0&&(Ai=null),fu(l.stateNode),cn(i,Ze()),s!==null)for(d=i.onRecoverableError,l=0;l<s.length;l++)p=s[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(ac)throw ac=!1,i=hh,hh=null,i;return uc&1&&i.tag!==0&&zo(),y=i.pendingLanes,y&1?i===ph?hl++:(hl=0,ph=i):hl=0,Ii(),null}function zo(){if(ki!==null){var i=mi(uc),s=Vn.transition,l=Ue;try{if(Vn.transition=null,Ue=16>i?16:i,ki===null)var d=!1;else{if(i=ki,ki=null,uc=0,$e&6)throw Error(t(331));var p=$e;for($e|=4,fe=i.current;fe!==null;){var y=fe,E=y.child;if(fe.flags&16){var x=y.deletions;if(x!==null){for(var L=0;L<x.length;L++){var K=x[L];for(fe=K;fe!==null;){var te=fe;switch(te.tag){case 0:case 11:case 15:cl(8,te,y)}var re=te.child;if(re!==null)re.return=te,fe=re;else for(;fe!==null;){te=fe;var Z=te.sibling,ue=te.return;if(By(te),te===K){fe=null;break}if(Z!==null){Z.return=ue,fe=Z;break}fe=ue}}}var he=y.alternate;if(he!==null){var pe=he.child;if(pe!==null){he.child=null;do{var pt=pe.sibling;pe.sibling=null,pe=pt}while(pe!==null)}}fe=y}}if(y.subtreeFlags&2064&&E!==null)E.return=y,fe=E;else e:for(;fe!==null;){if(y=fe,y.flags&2048)switch(y.tag){case 0:case 11:case 15:cl(9,y,y.return)}var H=y.sibling;if(H!==null){H.return=y.return,fe=H;break e}fe=y.return}}var U=i.current;for(fe=U;fe!==null;){E=fe;var W=E.child;if(E.subtreeFlags&2064&&W!==null)W.return=E,fe=W;else e:for(E=U;fe!==null;){if(x=fe,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:ic(9,x)}}catch(me){ft(x,x.return,me)}if(x===E){fe=null;break e}var se=x.sibling;if(se!==null){se.return=x.return,fe=se;break e}fe=x.return}}if($e=p,Ii(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(ps,i)}catch{}d=!0}return d}finally{Ue=l,Vn.transition=s}}return!1}function r_(i,s,l){s=Fo(l,s),s=wy(i,s,1),i=Ri(i,s,1),s=Jt(),i!==null&&(hi(i,1,s),cn(i,s))}function ft(i,s,l){if(i.tag===3)r_(i,i,l);else for(;s!==null;){if(s.tag===3){r_(s,i,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ai===null||!Ai.has(d))){i=Fo(l,i),i=Ty(s,i,1),s=Ri(s,i,1),i=Jt(),s!==null&&(hi(s,1,i),cn(s,i));break}}s=s.return}}function rS(i,s,l){var d=i.pingCache;d!==null&&d.delete(s),s=Jt(),i.pingedLanes|=i.suspendedLanes&l,kt===i&&(Dt&l)===l&&(Tt===4||Tt===3&&(Dt&130023424)===Dt&&500>Ze()-fh?xs(i,0):dh|=l),cn(i,s)}function i_(i,s){s===0&&(i.mode&1?(s=co,co<<=1,!(co&130023424)&&(co=4194304)):s=1);var l=Jt();i=zr(i,s),i!==null&&(hi(i,s,l),cn(i,l))}function iS(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),i_(i,l)}function sS(i,s){var l=0;switch(i.tag){case 13:var d=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),i_(i,l)}var s_;s_=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||on.current)ln=!0;else{if(!(i.lanes&l)&&!(s.flags&128))return ln=!1,qI(i,s,l);ln=!!(i.flags&131072)}else ln=!1,st&&s.flags&1048576&&Fg(s,Bu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;nc(i,s),i=s.pendingProps;var p=xo(s,Ut.current);Vo(s,l),p=$f(null,s,d,i,p,l);var y=Hf();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,an(d)?(y=!0,Fu(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Vf(s),p.updater=ec,s.stateNode=p,p._reactInternals=s,Xf(s,d,i,l),s=eh(null,s,d,!0,y,l)):(s.tag=0,st&&y&&Cf(s),Xt(null,s,p,l),s=s.child),s;case 16:d=s.elementType;e:{switch(nc(i,s),i=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=aS(d),i=er(d,i),p){case 0:s=Zf(null,s,d,i,l);break e;case 1:s=by(null,s,d,i,l);break e;case 11:s=Cy(null,s,d,i,l);break e;case 14:s=Ay(null,s,d,er(d.type,i),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:er(d,p),Zf(i,s,d,p,l);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:er(d,p),by(i,s,d,p,l);case 3:e:{if(Ny(s),i===null)throw Error(t(387));d=s.pendingProps,y=s.memoizedState,p=y.element,Kg(i,s),Ku(s,d,null,l);var E=s.memoizedState;if(d=E.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=Fo(Error(t(423)),s),s=Oy(i,s,d,l,p);break e}else if(d!==p){p=Fo(Error(t(424)),s),s=Oy(i,s,d,l,p);break e}else for(In=Ei(s.stateNode.containerInfo.firstChild),Tn=s,st=!0,Zn=null,l=Wg(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Oo(),d===p){s=Hr(i,s,l);break e}Xt(i,s,d,l)}s=s.child}return s;case 5:return Xg(s),i===null&&Pf(s),d=s.type,p=s.pendingProps,y=i!==null?i.memoizedProps:null,E=p.children,Ef(d,p)?E=null:y!==null&&Ef(d,y)&&(s.flags|=32),xy(i,s),Xt(i,s,E,l),s.child;case 6:return i===null&&Pf(s),null;case 13:return Dy(i,s,l);case 4:return Mf(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=Do(s,null,d,l):Xt(i,s,d,l),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:er(d,p),Cy(i,s,d,p,l);case 7:return Xt(i,s,s.pendingProps,l),s.child;case 8:return Xt(i,s,s.pendingProps.children,l),s.child;case 12:return Xt(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,y=s.memoizedProps,E=p.value,et(Hu,d._currentValue),d._currentValue=E,y!==null)if(Yn(y.value,E)){if(y.children===p.children&&!on.current){s=Hr(i,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var x=y.dependencies;if(x!==null){E=y.child;for(var L=x.firstContext;L!==null;){if(L.context===d){if(y.tag===1){L=$r(-1,l&-l),L.tag=2;var K=y.updateQueue;if(K!==null){K=K.shared;var te=K.pending;te===null?L.next=L:(L.next=te.next,te.next=L),K.pending=L}}y.lanes|=l,L=y.alternate,L!==null&&(L.lanes|=l),Df(y.return,l,s),x.lanes|=l;break}L=L.next}}else if(y.tag===10)E=y.type===s.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=l,x=E.alternate,x!==null&&(x.lanes|=l),Df(E,l,s),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===s){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Xt(i,s,p.children,l),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,Vo(s,l),p=Dn(p),d=d(p),s.flags|=1,Xt(i,s,d,l),s.child;case 14:return d=s.type,p=er(d,s.pendingProps),p=er(d.type,p),Ay(i,s,d,p,l);case 15:return ky(i,s,s.type,s.pendingProps,l);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:er(d,p),nc(i,s),s.tag=1,an(d)?(i=!0,Fu(s)):i=!1,Vo(s,l),vy(s,d,p),Xf(s,d,p,l),eh(null,s,d,!0,i,l);case 19:return Vy(i,s,l);case 22:return Py(i,s,l)}throw Error(t(156,s.tag))};function o_(i,s){return lo(i,s)}function oS(i,s,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(i,s,l,d){return new oS(i,s,l,d)}function Eh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function aS(i){if(typeof i=="function")return Eh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===B)return 11;if(i===at)return 14}return 2}function bi(i,s){var l=i.alternate;return l===null?(l=Mn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function hc(i,s,l,d,p,y){var E=2;if(d=i,typeof i=="function")Eh(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case P:return Ns(l.children,p,y,s);case R:E=8,p|=8;break;case k:return i=Mn(12,l,s,p|2),i.elementType=k,i.lanes=y,i;case O:return i=Mn(13,l,s,p),i.elementType=O,i.lanes=y,i;case Qe:return i=Mn(19,l,s,p),i.elementType=Qe,i.lanes=y,i;case be:return pc(l,p,y,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:E=10;break e;case M:E=9;break e;case B:E=11;break e;case at:E=14;break e;case Xe:E=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=Mn(E,l,s,p),s.elementType=i,s.type=d,s.lanes=y,s}function Ns(i,s,l,d){return i=Mn(7,i,d,s),i.lanes=l,i}function pc(i,s,l,d){return i=Mn(22,i,d,s),i.elementType=be,i.lanes=l,i.stateNode={isHidden:!1},i}function wh(i,s,l){return i=Mn(6,i,null,s),i.lanes=l,i}function Th(i,s,l){return s=Mn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function lS(i,s,l,d,p){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fi(0),this.expirationTimes=fi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Ih(i,s,l,d,p,y,E,x,L){return i=new lS(i,s,l,x,L),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Mn(3,null,null,s),i.current=y,y.stateNode=i,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vf(y),i}function uS(i,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:d==null?null:""+d,children:i,containerInfo:s,implementation:l}}function a_(i){if(!i)return Ti;i=i._reactInternals;e:{if(Wn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(an(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(an(l))return Lg(i,l,s)}return s}function l_(i,s,l,d,p,y,E,x,L){return i=Ih(l,d,!0,i,p,y,E,x,L),i.context=a_(null),l=i.current,d=Jt(),p=Pi(l),y=$r(d,p),y.callback=s??null,Ri(l,y,p),i.current.lanes=p,hi(i,p,d),cn(i,d),i}function mc(i,s,l,d){var p=s.current,y=Jt(),E=Pi(p);return l=a_(l),s.context===null?s.context=l:s.pendingContext=l,s=$r(y,E),s.payload={element:i},d=d===void 0?null:d,d!==null&&(s.callback=d),i=Ri(p,s,E),i!==null&&(rr(i,p,E,y),qu(i,p,E)),E}function gc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function u_(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Sh(i,s){u_(i,s),(i=i.alternate)&&u_(i,s)}var c_=typeof reportError=="function"?reportError:function(i){console.error(i)};function Rh(i){this._internalRoot=i}yc.prototype.render=Rh.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));mc(i,s,null,null)},yc.prototype.unmount=Rh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Ps(function(){mc(null,i,null,null)}),s[Fr]=null}};function yc(i){this._internalRoot=i}yc.prototype.unstable_scheduleHydration=function(i){if(i){var s=yu();i={blockedOn:null,target:i,priority:s};for(var l=0;l<fr.length&&s!==0&&s<fr[l].priority;l++);fr.splice(l,0,i),l===0&&Eu(i)}};function Ch(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function _c(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function d_(){}function cS(i,s,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var K=gc(E);y.call(K)}}var E=l_(s,d,i,0,null,!1,!1,"",d_);return i._reactRootContainer=E,i[Fr]=E.current,Ja(i.nodeType===8?i.parentNode:i),Ps(),E}for(;p=i.lastChild;)i.removeChild(p);if(typeof d=="function"){var x=d;d=function(){var K=gc(L);x.call(K)}}var L=Ih(i,0,!1,null,null,!1,!1,"",d_);return i._reactRootContainer=L,i[Fr]=L.current,Ja(i.nodeType===8?i.parentNode:i),Ps(function(){mc(s,L,l,d)}),L}function vc(i,s,l,d,p){var y=l._reactRootContainer;if(y){var E=y;if(typeof p=="function"){var x=p;p=function(){var L=gc(E);x.call(L)}}mc(s,E,i,p)}else E=cS(l,s,i,p,d);return gc(E)}mu=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=di(s.pendingLanes);l!==0&&(pi(s,l|1),cn(s,Ze()),!($e&6)&&(Bo=Ze()+500,Ii()))}break;case 13:Ps(function(){var d=zr(i,1);if(d!==null){var p=Jt();rr(d,i,1,p)}}),Sh(i,1)}},fo=function(i){if(i.tag===13){var s=zr(i,134217728);if(s!==null){var l=Jt();rr(s,i,134217728,l)}Sh(i,134217728)}},gu=function(i){if(i.tag===13){var s=Pi(i),l=zr(i,s);if(l!==null){var d=Jt();rr(l,i,s,d)}Sh(i,s)}},yu=function(){return Ue},_u=function(i,s){var l=Ue;try{return Ue=i,s()}finally{Ue=l}},no=function(i,s,l){switch(s){case"input":if(jn(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==i&&d.form===i.form){var p=Vu(d);if(!p)throw Error(t(90));yn(d),jn(d,p)}}}break;case"textarea":br(i,l);break;case"select":s=l.value,s!=null&&zn(i,!!l.multiple,s,!1)}},us=yh,Na=Ps;var dS={usingClientEntryPoint:!1,Events:[el,ko,Vu,cr,ba,yh]},pl={findFiberByHostInstance:ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fS={bundleType:pl.bundleType,version:pl.version,rendererPackageName:pl.rendererPackageName,rendererConfig:pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=La(i),i===null?null:i.stateNode},findFiberByHostInstance:pl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{ps=Ec.inject(fS),_n=Ec}catch{}}return dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dS,dn.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ch(s))throw Error(t(200));return uS(i,s,null,l)},dn.createRoot=function(i,s){if(!Ch(i))throw Error(t(299));var l=!1,d="",p=c_;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Ih(i,1,!1,null,null,l,!1,d,p),i[Fr]=s.current,Ja(i.nodeType===8?i.parentNode:i),new Rh(s)},dn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=La(s),i=i===null?null:i.stateNode,i},dn.flushSync=function(i){return Ps(i)},dn.hydrate=function(i,s,l){if(!_c(s))throw Error(t(200));return vc(null,i,s,!0,l)},dn.hydrateRoot=function(i,s,l){if(!Ch(i))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",E=c_;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=l_(s,null,i,1,l??null,p,!1,y,E),i[Fr]=s.current,Ja(i),d)for(i=0;i<d.length;i++)l=d[i],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new yc(s)},dn.render=function(i,s,l){if(!_c(s))throw Error(t(200));return vc(null,i,s,!1,l)},dn.unmountComponentAtNode=function(i){if(!_c(i))throw Error(t(40));return i._reactRootContainer?(Ps(function(){vc(null,null,i,!1,function(){i._reactRootContainer=null,i[Fr]=null})}),!0):!1},dn.unstable_batchedUpdates=yh,dn.unstable_renderSubtreeIntoContainer=function(i,s,l,d){if(!_c(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return vc(i,s,l,!1,d)},dn.version="18.3.1-next-f1338f8080-20240426",dn}var v_;function RE(){if(v_)return Ph.exports;v_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ph.exports=vS(),Ph.exports}var E_;function ES(){if(E_)return wc;E_=1;var n=RE();return wc.createRoot=n.createRoot,wc.hydrateRoot=n.hydrateRoot,wc}var wS=ES(),gl={},w_;function TS(){if(w_)return gl;w_=1,Object.defineProperty(gl,"__esModule",{value:!0}),gl.parse=u,gl.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function u(T,b){const C=new a,N=T.length;if(N<2)return C;const S=(b==null?void 0:b.decode)||_;let F=0;do{const j=T.indexOf("=",F);if(j===-1)break;const q=T.indexOf(";",F),X=q===-1?N:q;if(j>X){F=T.lastIndexOf(";",j-1)+1;continue}const ie=f(T,F,j),oe=h(T,j,ie),P=T.slice(ie,oe);if(C[P]===void 0){let R=f(T,j+1,X),k=h(T,X,R);const D=S(T.slice(R,k));C[P]=D}F=X+1}while(F<N);return C}function f(T,b,C){do{const N=T.charCodeAt(b);if(N!==32&&N!==9)return b}while(++b<C);return C}function h(T,b,C){for(;b>C;){const N=T.charCodeAt(--b);if(N!==32&&N!==9)return b+1}return C}function m(T,b,C){const N=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const S=N(b);if(!e.test(S))throw new TypeError(`argument val is invalid: ${b}`);let F=T+"="+S;if(!C)return F;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);F+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);F+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);F+="; Path="+C.path}if(C.expires){if(!w(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);F+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(F+="; HttpOnly"),C.secure&&(F+="; Secure"),C.partitioned&&(F+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return F}function _(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function w(T){return o.call(T)==="[object Date]"}return gl}TS();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var T_="popstate";function IS(n={}){function e(r,o){let{pathname:a,search:u,hash:f}=r.location;return cp("",{pathname:a,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:Nl(o)}return RS(e,t,null,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Cr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SS(){return Math.random().toString(36).substring(2,10)}function I_(n,e){return{usr:n.state,key:n.key,idx:e}}function cp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?da(e):e,state:t,key:e&&e.key||r||SS()}}function Nl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function da(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function RS(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,f="POP",h=null,m=_();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function _(){return(u.state||{idx:null}).idx}function w(){f="POP";let S=_(),F=S==null?null:S-m;m=S,h&&h({action:f,location:N.location,delta:F})}function T(S,F){f="PUSH";let j=cp(N.location,S,F);m=_()+1;let q=I_(j,m),X=N.createHref(j);try{u.pushState(q,"",X)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;o.location.assign(X)}a&&h&&h({action:f,location:N.location,delta:1})}function b(S,F){f="REPLACE";let j=cp(N.location,S,F);m=_();let q=I_(j,m),X=N.createHref(j);u.replaceState(q,"",X),a&&h&&h({action:f,location:N.location,delta:0})}function C(S){let F=o.location.origin!=="null"?o.location.origin:o.location.href,j=typeof S=="string"?S:Nl(S);return j=j.replace(/ $/,"%20"),ct(F,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,F)}let N={get action(){return f},get location(){return n(o,u)},listen(S){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(T_,w),h=S,()=>{o.removeEventListener(T_,w),h=null}},createHref(S){return e(o,S)},createURL:C,encodeLocation(S){let F=C(S);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:T,replace:b,go(S){return u.go(S)}};return N}function CE(n,e,t="/"){return CS(n,e,t,!1)}function CS(n,e,t,r){let o=typeof e=="string"?da(e):e,a=Hi(o.pathname||"/",t);if(a==null)return null;let u=AE(n);AS(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let m=FS(a);f=VS(u[h],m,r)}return f}function AE(n,e=[],t=[],r=""){let o=(a,u,f)=>{let h={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(ct(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let m=Xr([r,h.relativePath]),_=t.concat(h);a.children&&a.children.length>0&&(ct(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),AE(a.children,e,_,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:DS(m,a.index),routesMeta:_})};return n.forEach((a,u)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))o(a,u);else for(let h of kE(a.path))o(a,u,h)}),e}function kE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=kE(r.join("/")),f=[];return f.push(...u.map(h=>h===""?a:[a,h].join("/"))),o&&f.push(...u),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function AS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:LS(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var kS=/^:[\w-]+$/,PS=3,xS=2,bS=1,NS=10,OS=-2,S_=n=>n==="*";function DS(n,e){let t=n.split("/"),r=t.length;return t.some(S_)&&(r+=OS),e&&(r+=xS),t.filter(o=>!S_(o)).reduce((o,a)=>o+(kS.test(a)?PS:a===""?bS:NS),r)}function LS(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function VS(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",u=[];for(let f=0;f<r.length;++f){let h=r[f],m=f===r.length-1,_=a==="/"?e:e.slice(a.length)||"/",w=qc({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},_),T=h.route;if(!w&&m&&t&&!r[r.length-1].route.index&&(w=qc({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},_)),!w)return null;Object.assign(o,w.params),u.push({params:o,pathname:Xr([a,w.pathname]),pathnameBase:zS(Xr([a,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(a=Xr([a,w.pathnameBase]))}return u}function qc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=MS(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:r.reduce((m,{paramName:_,isOptional:w},T)=>{if(_==="*"){let C=f[T]||"";u=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const b=f[T];return w&&!b?m[_]=void 0:m[_]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function MS(n,e=!1,t=!0){Cr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(r.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function FS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cr(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Hi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function US(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?da(n):n;return{pathname:t?t.startsWith("/")?t:jS(t,e):e,search:$S(r),hash:HS(o)}}function jS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Nh(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BS(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function PE(n){let e=BS(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function xE(n,e,t,r=!1){let o;typeof n=="string"?o=da(n):(o={...n},ct(!o.pathname||!o.pathname.includes("?"),Nh("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),Nh("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),Nh("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,f;if(u==null)f=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),w-=1;o.pathname=T.join("/")}f=w>=0?e[w]:"/"}let h=US(o,f),m=u&&u!=="/"&&u.endsWith("/"),_=(a||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(m||_)&&(h.pathname+="/"),h}var Xr=n=>n.join("/").replace(/\/\/+/g,"/"),zS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),$S=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,HS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function WS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var bE=["POST","PUT","PATCH","DELETE"];new Set(bE);var qS=["GET",...bE];new Set(qS);var fa=A.createContext(null);fa.displayName="DataRouter";var vd=A.createContext(null);vd.displayName="DataRouterState";var NE=A.createContext({isTransitioning:!1});NE.displayName="ViewTransition";var KS=A.createContext(new Map);KS.displayName="Fetchers";var GS=A.createContext(null);GS.displayName="Await";var Pr=A.createContext(null);Pr.displayName="Navigation";var $l=A.createContext(null);$l.displayName="Location";var xr=A.createContext({outlet:null,matches:[],isDataRoute:!1});xr.displayName="Route";var Zp=A.createContext(null);Zp.displayName="RouteError";function QS(n,{relative:e}={}){ct(Hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=A.useContext(Pr),{hash:o,pathname:a,search:u}=Wl(n,{relative:e}),f=a;return t!=="/"&&(f=a==="/"?t:Xr([t,a])),r.createHref({pathname:f,search:u,hash:o})}function Hl(){return A.useContext($l)!=null}function Ji(){return ct(Hl(),"useLocation() may be used only in the context of a <Router> component."),A.useContext($l).location}var OE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DE(n){A.useContext(Pr).static||A.useLayoutEffect(n)}function Qs(){let{isDataRoute:n}=A.useContext(xr);return n?u1():XS()}function XS(){ct(Hl(),"useNavigate() may be used only in the context of a <Router> component.");let n=A.useContext(fa),{basename:e,navigator:t}=A.useContext(Pr),{matches:r}=A.useContext(xr),{pathname:o}=Ji(),a=JSON.stringify(PE(r)),u=A.useRef(!1);return DE(()=>{u.current=!0}),A.useCallback((h,m={})=>{if(Cr(u.current,OE),!u.current)return;if(typeof h=="number"){t.go(h);return}let _=xE(h,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Xr([e,_.pathname])),(m.replace?t.replace:t.push)(_,m.state,m)},[e,t,a,o,n])}A.createContext(null);function JS(){let{matches:n}=A.useContext(xr),e=n[n.length-1];return e?e.params:{}}function Wl(n,{relative:e}={}){let{matches:t}=A.useContext(xr),{pathname:r}=Ji(),o=JSON.stringify(PE(t));return A.useMemo(()=>xE(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function YS(n,e){return LE(n,e)}function LE(n,e,t,r){var F;ct(Hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=A.useContext(Pr),{matches:a}=A.useContext(xr),u=a[a.length-1],f=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",_=u&&u.route;{let j=_&&_.path||"";VE(h,!_||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let w=Ji(),T;if(e){let j=typeof e=="string"?da(e):e;ct(m==="/"||((F=j.pathname)==null?void 0:F.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${j.pathname}" was given in the \`location\` prop.`),T=j}else T=w;let b=T.pathname||"/",C=b;if(m!=="/"){let j=m.replace(/^\//,"").split("/");C="/"+b.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=CE(n,{pathname:C});Cr(_||N!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Cr(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=r1(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:Xr([m,o.encodeLocation?o.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?m:Xr([m,o.encodeLocation?o.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),a,t,r);return e&&S?A.createElement($l.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},S):S}function ZS(){let n=l1(),e=WS(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:a},"ErrorBoundary")," or"," ",A.createElement("code",{style:a},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),t?A.createElement("pre",{style:o},t):null,u)}var e1=A.createElement(ZS,null),t1=class extends A.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?A.createElement(xr.Provider,{value:this.props.routeContext},A.createElement(Zp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function n1({routeContext:n,match:e,children:t}){let r=A.useContext(fa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(xr.Provider,{value:n},t)}function r1(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let h=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);ct(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,f=-1;if(t)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:_,errors:w}=t,T=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||T){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((h,m,_)=>{let w,T=!1,b=null,C=null;t&&(w=a&&m.route.id?a[m.route.id]:void 0,b=m.route.errorElement||e1,u&&(f<0&&_===0?(VE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,C=null):f===_&&(T=!0,C=m.route.hydrateFallbackElement||null)));let N=e.concat(o.slice(0,_+1)),S=()=>{let F;return w?F=b:T?F=C:m.route.Component?F=A.createElement(m.route.Component,null):m.route.element?F=m.route.element:F=h,A.createElement(n1,{match:m,routeContext:{outlet:h,matches:N,isDataRoute:t!=null},children:F})};return t&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?A.createElement(t1,{location:t.location,revalidation:t.revalidation,component:b,error:w,children:S(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):S()},null)}function em(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i1(n){let e=A.useContext(fa);return ct(e,em(n)),e}function s1(n){let e=A.useContext(vd);return ct(e,em(n)),e}function o1(n){let e=A.useContext(xr);return ct(e,em(n)),e}function tm(n){let e=o1(n),t=e.matches[e.matches.length-1];return ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function a1(){return tm("useRouteId")}function l1(){var r;let n=A.useContext(Zp),e=s1("useRouteError"),t=tm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function u1(){let{router:n}=i1("useNavigate"),e=tm("useNavigate"),t=A.useRef(!1);return DE(()=>{t.current=!0}),A.useCallback(async(o,a={})=>{Cr(t.current,OE),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var R_={};function VE(n,e,t){!e&&!R_[n]&&(R_[n]=!0,Cr(!1,t))}A.memo(c1);function c1({routes:n,future:e,state:t}){return LE(n,void 0,t,e)}function qo(n){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function d1({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1}){ct(!Hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=A.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=da(t));let{pathname:h="/",search:m="",hash:_="",state:w=null,key:T="default"}=t,b=A.useMemo(()=>{let C=Hi(h,u);return C==null?null:{location:{pathname:C,search:m,hash:_,state:w,key:T},navigationType:r}},[u,h,m,_,w,T,r]);return Cr(b!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:A.createElement(Pr.Provider,{value:f},A.createElement($l.Provider,{children:e,value:b}))}function f1({children:n,location:e}){return YS(dp(n),e)}function dp(n,e=[]){let t=[];return A.Children.forEach(n,(r,o)=>{if(!A.isValidElement(r))return;let a=[...e,o];if(r.type===A.Fragment){t.push.apply(t,dp(r.props.children,a));return}ct(r.type===qo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=dp(r.props.children,a)),t.push(u)}),t}var bc="get",Nc="application/x-www-form-urlencoded";function Ed(n){return n!=null&&typeof n.tagName=="string"}function h1(n){return Ed(n)&&n.tagName.toLowerCase()==="button"}function p1(n){return Ed(n)&&n.tagName.toLowerCase()==="form"}function m1(n){return Ed(n)&&n.tagName.toLowerCase()==="input"}function g1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function y1(n,e){return n.button===0&&(!e||e==="_self")&&!g1(n)}var Tc=null;function _1(){if(Tc===null)try{new FormData(document.createElement("form"),0),Tc=!1}catch{Tc=!0}return Tc}var v1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Oh(n){return n!=null&&!v1.has(n)?(Cr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nc}"`),null):n}function E1(n,e){let t,r,o,a,u;if(p1(n)){let f=n.getAttribute("action");r=f?Hi(f,e):null,t=n.getAttribute("method")||bc,o=Oh(n.getAttribute("enctype"))||Nc,a=new FormData(n)}else if(h1(n)||m1(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||f.getAttribute("action");if(r=h?Hi(h,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||bc,o=Oh(n.getAttribute("formenctype"))||Oh(f.getAttribute("enctype"))||Nc,a=new FormData(f,n),!_1()){let{name:m,type:_,value:w}=n;if(_==="image"){let T=m?`${m}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else m&&a.append(m,w)}}else{if(Ed(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=bc,r=null,o=Nc,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:u}}function nm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function w1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function T1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function I1(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await w1(a,t);return u.links?u.links():[]}return[]}));return A1(r.flat(1).filter(T1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function C_(n,e,t,r,o,a){let u=(h,m)=>t[m]?h.route.id!==t[m].route.id:!0,f=(h,m)=>{var _;return t[m].pathname!==h.pathname||((_=t[m].route.path)==null?void 0:_.endsWith("*"))&&t[m].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,m)=>u(h,m)||f(h,m)):a==="data"?e.filter((h,m)=>{var w;let _=r.routes[h.route.id];if(!_||!_.hasLoader)return!1;if(u(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let T=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function S1(n,e){return R1(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let o=[r.module];return r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function R1(n){return[...new Set(n)]}function C1(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function A1(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify(C1(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}function k1(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function P1(){let n=A.useContext(fa);return nm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function x1(){let n=A.useContext(vd);return nm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var rm=A.createContext(void 0);rm.displayName="FrameworkContext";function ME(){let n=A.useContext(rm);return nm(n,"You must render this element inside a <HydratedRouter> element"),n}function b1(n,e){let t=A.useContext(rm),[r,o]=A.useState(!1),[a,u]=A.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:_,onTouchStart:w}=e,T=A.useRef(null);A.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let N=F=>{F.forEach(j=>{u(j.isIntersecting)})},S=new IntersectionObserver(N,{threshold:.5});return T.current&&S.observe(T.current),()=>{S.disconnect()}}},[n]),A.useEffect(()=>{if(r){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[r]);let b=()=>{o(!0)},C=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,T,{}]:[a,T,{onFocus:yl(f,b),onBlur:yl(h,C),onMouseEnter:yl(m,b),onMouseLeave:yl(_,C),onTouchStart:yl(w,b)}]:[!1,T,{}]}function yl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function N1({page:n,...e}){let{router:t}=P1(),r=A.useMemo(()=>CE(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?A.createElement(D1,{page:n,matches:r,...e}):null}function O1(n){let{manifest:e,routeModules:t}=ME(),[r,o]=A.useState([]);return A.useEffect(()=>{let a=!1;return I1(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),r}function D1({page:n,matches:e,...t}){let r=Ji(),{manifest:o,routeModules:a}=ME(),{loaderData:u,matches:f}=x1(),h=A.useMemo(()=>C_(n,e,f,o,r,"data"),[n,e,f,o,r]),m=A.useMemo(()=>C_(n,e,f,o,r,"assets"),[n,e,f,o,r]),_=A.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,C=!1;if(e.forEach(S=>{var j;let F=o.routes[S.route.id];!F||!F.hasLoader||(!h.some(q=>q.route.id===S.route.id)&&S.route.id in u&&((j=a[S.route.id])!=null&&j.shouldRevalidate)||F.hasClientLoader?C=!0:b.add(S.route.id))}),b.size===0)return[];let N=k1(n);return C&&b.size>0&&N.searchParams.set("_routes",e.filter(S=>b.has(S.route.id)).map(S=>S.route.id).join(",")),[N.pathname+N.search]},[u,r,o,h,e,n,a]),w=A.useMemo(()=>S1(m,o),[m,o]),T=O1(m);return A.createElement(A.Fragment,null,_.map(b=>A.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),w.map(b=>A.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),T.map(({key:b,link:C})=>A.createElement("link",{key:b,...C})))}function L1(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var FE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FE&&(window.__reactRouterVersion="7.1.1")}catch{}function V1({basename:n,children:e,window:t}){let r=A.useRef();r.current==null&&(r.current=IS({window:t,v5Compat:!0}));let o=r.current,[a,u]=A.useState({action:o.action,location:o.location}),f=A.useCallback(h=>{A.startTransition(()=>u(h))},[u]);return A.useLayoutEffect(()=>o.listen(f),[o,f]),A.createElement(d1,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var UE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wd=A.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:f,target:h,to:m,preventScrollReset:_,viewTransition:w,...T},b){let{basename:C}=A.useContext(Pr),N=typeof m=="string"&&UE.test(m),S,F=!1;if(typeof m=="string"&&N&&(S=m,FE))try{let k=new URL(window.location.href),D=m.startsWith("//")?new URL(k.protocol+m):new URL(m),M=Hi(D.pathname,C);D.origin===k.origin&&M!=null?m=M+D.search+D.hash:F=!0}catch{Cr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=QS(m,{relative:o}),[q,X,ie]=b1(r,T),oe=j1(m,{replace:u,state:f,target:h,preventScrollReset:_,relative:o,viewTransition:w});function P(k){e&&e(k),k.defaultPrevented||oe(k)}let R=A.createElement("a",{...T,...ie,href:S||j,onClick:F||a?e:P,ref:L1(b,X),target:h,"data-discover":!N&&t==="render"?"true":void 0});return q&&!N?A.createElement(A.Fragment,null,R,A.createElement(N1,{page:j})):R});wd.displayName="Link";var M1=A.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:f,children:h,...m},_){let w=Wl(u,{relative:m.relative}),T=Ji(),b=A.useContext(vd),{navigator:C,basename:N}=A.useContext(Pr),S=b!=null&&W1(w)&&f===!0,F=C.encodeLocation?C.encodeLocation(w).pathname:w.pathname,j=T.pathname,q=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(j=j.toLowerCase(),q=q?q.toLowerCase():null,F=F.toLowerCase()),q&&N&&(q=Hi(q,N)||q);const X=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ie=j===F||!o&&j.startsWith(F)&&j.charAt(X)==="/",oe=q!=null&&(q===F||!o&&q.startsWith(F)&&q.charAt(F.length)==="/"),P={isActive:ie,isPending:oe,isTransitioning:S},R=ie?e:void 0,k;typeof r=="function"?k=r(P):k=[r,ie?"active":null,oe?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(P):a;return A.createElement(wd,{...m,"aria-current":R,className:k,ref:_,style:D,to:u,viewTransition:f},typeof h=="function"?h(P):h)});M1.displayName="NavLink";var F1=A.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:u=bc,action:f,onSubmit:h,relative:m,preventScrollReset:_,viewTransition:w,...T},b)=>{let C=$1(),N=H1(f,{relative:m}),S=u.toLowerCase()==="get"?"get":"post",F=typeof f=="string"&&UE.test(f),j=q=>{if(h&&h(q),q.defaultPrevented)return;q.preventDefault();let X=q.nativeEvent.submitter,ie=(X==null?void 0:X.getAttribute("formmethod"))||u;C(X||q.currentTarget,{fetcherKey:e,method:ie,navigate:t,replace:o,state:a,relative:m,preventScrollReset:_,viewTransition:w})};return A.createElement("form",{ref:b,method:S,action:N,onSubmit:r?h:j,...T,"data-discover":!F&&n==="render"?"true":void 0})});F1.displayName="Form";function U1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jE(n){let e=A.useContext(fa);return ct(e,U1(n)),e}function j1(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let f=Qs(),h=Ji(),m=Wl(n,{relative:a});return A.useCallback(_=>{if(y1(_,e)){_.preventDefault();let w=t!==void 0?t:Nl(h)===Nl(m);f(n,{replace:w,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[h,f,m,t,r,e,n,o,a,u])}var B1=0,z1=()=>`__${String(++B1)}__`;function $1(){let{router:n}=jE("useSubmit"),{basename:e}=A.useContext(Pr),t=a1();return A.useCallback(async(r,o={})=>{let{action:a,method:u,encType:f,formData:h,body:m}=E1(r,e);if(o.navigate===!1){let _=o.fetcherKey||z1();await n.fetch(_,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function H1(n,{relative:e}={}){let{basename:t}=A.useContext(Pr),r=A.useContext(xr);ct(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Wl(n||".",{relative:e})},u=Ji();if(n==null){a.search=u.search;let f=new URLSearchParams(a.search),h=f.getAll("index");if(h.some(_=>_==="")){f.delete("index"),h.filter(w=>w).forEach(w=>f.append("index",w));let _=f.toString();a.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Xr([t,a.pathname])),Nl(a)}function W1(n,e={}){let t=A.useContext(NE);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=jE("useViewTransitionState"),o=Wl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Hi(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Hi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return qc(o.pathname,u)!=null||qc(o.pathname,a)!=null}new TextEncoder;var Dh={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var A_;function q1(){return A_||(A_=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",u=0;u<arguments.length;u++){var f=arguments[u];f&&(a=o(a,r(f)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var f in a)e.call(a,f)&&a[f]&&(u=o(u,f));return u}function o(a,u){return u?a?a+" "+u:a+u:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Dh)),Dh.exports}var K1=q1();const gn=yd(K1);function G1(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}function fp(n,e){return fp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},fp(n,e)}function Q1(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,fp(n,e)}const X1=["xxl","xl","lg","md","sm","xs"],J1="xs",BE=A.createContext({prefixes:{},breakpoints:X1,minBreakpoint:J1});function ii(n,e){const{prefixes:t}=A.useContext(BE);return n||t[e]||e}function Y1(){const{dir:n}=A.useContext(BE);return n==="rtl"}function Td(n){return n&&n.ownerDocument||document}function Z1(n){var e=Td(n);return e&&e.defaultView||window}function eR(n,e){return Z1(n).getComputedStyle(n,e)}var tR=/([A-Z])/g;function nR(n){return n.replace(tR,"-$1").toLowerCase()}var rR=/^ms-/;function Ic(n){return nR(n).replace(rR,"-ms-")}var iR=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function sR(n){return!!(n&&iR.test(n))}function js(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(Ic(e))||eR(n).getPropertyValue(Ic(e));Object.keys(e).forEach(function(o){var a=e[o];!a&&a!==0?n.style.removeProperty(Ic(o)):sR(o)?r+=o+"("+a+") ":t+=Ic(o)+": "+a+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var Lh={exports:{}},Vh,k_;function oR(){if(k_)return Vh;k_=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Vh=n,Vh}var Mh,P_;function aR(){if(P_)return Mh;P_=1;var n=oR();function e(){}function t(){}return t.resetWarningCache=e,Mh=function(){function r(u,f,h,m,_,w){if(w!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}r.isRequired=r;function o(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Mh}var x_;function lR(){return x_||(x_=1,Lh.exports=aR()()),Lh.exports}var uR=lR();const Fh=yd(uR);var cR=RE();const Jo=yd(cR),b_={disabled:!1},zE=Ne.createContext(null);var dR=function(e){return e.scrollTop},El="unmounted",Os="exited",Di="entering",Ls="entered",hp="exiting",si=function(n){Q1(e,n);function e(r,o){var a;a=n.call(this,r,o)||this;var u=o,f=u&&!u.isMounting?r.enter:r.appear,h;return a.appearStatus=null,r.in?f?(h=Os,a.appearStatus=Di):h=Ls:r.unmountOnExit||r.mountOnEnter?h=El:h=Os,a.state={status:h},a.nextCallback=null,a}e.getDerivedStateFromProps=function(o,a){var u=o.in;return u&&a.status===El?{status:Os}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(o){var a=null;if(o!==this.props){var u=this.state.status;this.props.in?u!==Di&&u!==Ls&&(a=Di):(u===Di||u===Ls)&&(a=hp)}this.updateStatus(!1,a)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var o=this.props.timeout,a,u,f;return a=u=f=o,o!=null&&typeof o!="number"&&(a=o.exit,u=o.enter,f=o.appear!==void 0?o.appear:u),{exit:a,enter:u,appear:f}},t.updateStatus=function(o,a){if(o===void 0&&(o=!1),a!==null)if(this.cancelNextCallback(),a===Di){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:Jo.findDOMNode(this);u&&dR(u)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Os&&this.setState({status:El})},t.performEnter=function(o){var a=this,u=this.props.enter,f=this.context?this.context.isMounting:o,h=this.props.nodeRef?[f]:[Jo.findDOMNode(this),f],m=h[0],_=h[1],w=this.getTimeouts(),T=f?w.appear:w.enter;if(!o&&!u||b_.disabled){this.safeSetState({status:Ls},function(){a.props.onEntered(m)});return}this.props.onEnter(m,_),this.safeSetState({status:Di},function(){a.props.onEntering(m,_),a.onTransitionEnd(T,function(){a.safeSetState({status:Ls},function(){a.props.onEntered(m,_)})})})},t.performExit=function(){var o=this,a=this.props.exit,u=this.getTimeouts(),f=this.props.nodeRef?void 0:Jo.findDOMNode(this);if(!a||b_.disabled){this.safeSetState({status:Os},function(){o.props.onExited(f)});return}this.props.onExit(f),this.safeSetState({status:hp},function(){o.props.onExiting(f),o.onTransitionEnd(u.exit,function(){o.safeSetState({status:Os},function(){o.props.onExited(f)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(o,a){a=this.setNextCallback(a),this.setState(o,a)},t.setNextCallback=function(o){var a=this,u=!0;return this.nextCallback=function(f){u&&(u=!1,a.nextCallback=null,o(f))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},t.onTransitionEnd=function(o,a){this.setNextCallback(a);var u=this.props.nodeRef?this.props.nodeRef.current:Jo.findDOMNode(this),f=o==null&&!this.props.addEndListener;if(!u||f){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],m=h[0],_=h[1];this.props.addEndListener(m,_)}o!=null&&setTimeout(this.nextCallback,o)},t.render=function(){var o=this.state.status;if(o===El)return null;var a=this.props,u=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var f=G1(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ne.createElement(zE.Provider,{value:null},typeof u=="function"?u(o,f):Ne.cloneElement(Ne.Children.only(u),f))},e}(Ne.Component);si.contextType=zE;si.propTypes={};function $o(){}si.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:$o,onEntering:$o,onEntered:$o,onExit:$o,onExiting:$o,onExited:$o};si.UNMOUNTED=El;si.EXITED=Os;si.ENTERING=Di;si.ENTERED=Ls;si.EXITING=hp;function fR(n){return n.code==="Escape"||n.keyCode===27}function hR(){const n=A.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function $E(n){if(!n||typeof n=="function")return null;const{major:e}=hR();return e>=19?n.props.ref:n.ref}const ha=!!(typeof window<"u"&&window.document&&window.document.createElement);var pp=!1,mp=!1;try{var Uh={get passive(){return pp=!0},get once(){return mp=pp=!0}};ha&&(window.addEventListener("test",Uh,Uh),window.removeEventListener("test",Uh,!0))}catch{}function HE(n,e,t,r){if(r&&typeof r!="boolean"&&!mp){var o=r.once,a=r.capture,u=t;!mp&&o&&(u=t.__once||function f(h){this.removeEventListener(e,f,a),t.call(this,h)},t.__once=u),n.addEventListener(e,u,pp?r:a)}n.addEventListener(e,t,r)}function gp(n,e,t,r){var o=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,o),t.__once&&n.removeEventListener(e,t.__once,o)}function Kc(n,e,t,r){return HE(n,e,t,r),function(){gp(n,e,t,r)}}function pR(n,e,t,r){if(r===void 0&&(r=!0),n){var o=document.createEvent("HTMLEvents");o.initEvent(e,t,r),n.dispatchEvent(o)}}function mR(n){var e=js(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function gR(n,e,t){t===void 0&&(t=5);var r=!1,o=setTimeout(function(){r||pR(n,"transitionend",!0)},e+t),a=Kc(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(o),a()}}function WE(n,e,t,r){t==null&&(t=mR(n)||0);var o=gR(n,t,r),a=Kc(n,"transitionend",e);return function(){o(),a()}}function N_(n,e){const t=js(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function yR(n,e){const t=N_(n,"transitionDuration"),r=N_(n,"transitionDelay"),o=WE(n,a=>{a.target===n&&(o(),e(a))},t+r)}function _R(n){n.offsetHeight}const O_=n=>!n||typeof n=="function"?n:e=>{n.current=e};function vR(n,e){const t=O_(n),r=O_(e);return o=>{t&&t(o),r&&r(o)}}function qE(n,e){return A.useMemo(()=>vR(n,e),[n,e])}function ER(n){return n&&"setState"in n?Jo.findDOMNode(n):n??null}const wR=Ne.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:o,onExited:a,addEndListener:u,children:f,childRef:h,...m},_)=>{const w=A.useRef(null),T=qE(w,h),b=oe=>{T(ER(oe))},C=oe=>P=>{oe&&w.current&&oe(w.current,P)},N=A.useCallback(C(n),[n]),S=A.useCallback(C(e),[e]),F=A.useCallback(C(t),[t]),j=A.useCallback(C(r),[r]),q=A.useCallback(C(o),[o]),X=A.useCallback(C(a),[a]),ie=A.useCallback(C(u),[u]);return V.jsx(si,{ref:_,...m,onEnter:N,onEntered:F,onEntering:S,onExit:j,onExited:X,onExiting:q,addEndListener:ie,nodeRef:w,children:typeof f=="function"?(oe,P)=>f(oe,{...P,ref:b}):Ne.cloneElement(f,{ref:b})})});function TR(n){const e=A.useRef(n);return A.useEffect(()=>{e.current=n},[n]),e}function yp(n){const e=TR(n);return A.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const IR=n=>A.forwardRef((e,t)=>V.jsx("div",{...e,ref:t,className:gn(e.className,n)}));function SR(n){const e=A.useRef(n);return A.useEffect(()=>{e.current=n},[n]),e}function Vs(n){const e=SR(n);return A.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function RR(){const n=A.useRef(!0),e=A.useRef(()=>n.current);return A.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function CR(n){const e=A.useRef(null);return A.useEffect(()=>{e.current=n}),e.current}const AR=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",kR=typeof document<"u",D_=kR||AR?A.useLayoutEffect:A.useEffect,PR=["as","disabled"];function xR(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function bR(n){return!n||n.trim()==="#"}function KE({tagName:n,disabled:e,href:t,target:r,rel:o,role:a,onClick:u,tabIndex:f=0,type:h}){n||(t!=null||r!=null||o!=null?n="a":n="button");const m={tagName:n};if(n==="button")return[{type:h||"button",disabled:e},m];const _=T=>{if((e||n==="a"&&bR(t))&&T.preventDefault(),e){T.stopPropagation();return}u==null||u(T)},w=T=>{T.key===" "&&(T.preventDefault(),_(T))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:f,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?o:void 0,onClick:_,onKeyDown:w},m]}const NR=A.forwardRef((n,e)=>{let{as:t,disabled:r}=n,o=xR(n,PR);const[a,{tagName:u}]=KE(Object.assign({tagName:t,disabled:r},o));return V.jsx(u,Object.assign({},o,a,{ref:e}))});NR.displayName="Button";const OR={[Di]:"show",[Ls]:"show"},im=A.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...o},a)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},f=A.useCallback((h,m)=>{_R(h),r==null||r(h,m)},[r]);return V.jsx(wR,{ref:a,addEndListener:yR,...u,onEnter:f,childRef:$E(e),children:(h,m)=>A.cloneElement(e,{...m,className:gn("fade",n,e.props.className,OR[h],t[h])})})});im.displayName="Fade";const DR={"aria-label":Fh.string,onClick:Fh.func,variant:Fh.oneOf(["white"])},sm=A.forwardRef(({className:n,variant:e,"aria-label":t="Close",...r},o)=>V.jsx("button",{ref:o,type:"button",className:gn("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...r}));sm.displayName="CloseButton";sm.propTypes=DR;const Tr=A.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:o=!1,disabled:a=!1,className:u,...f},h)=>{const m=ii(e,"btn"),[_,{tagName:w}]=KE({tagName:n,disabled:a,...f}),T=w;return V.jsx(T,{..._,...f,ref:h,disabled:a,className:gn(u,m,o&&"active",t&&`${m}-${t}`,r&&`${m}-${r}`,f.href&&a&&"disabled")})});Tr.displayName="Button";function LR(n){const e=A.useRef(n);return e.current=n,e}function VR(n){const e=LR(n);A.useEffect(()=>()=>e.current(),[])}const GE=A.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:r,...o},a)=>{const u=ii(n,"container"),f=typeof e=="string"?`-${e}`:"-fluid";return V.jsx(t,{ref:a,...o,className:gn(r,e?`${u}${f}`:u)})});GE.displayName="Container";var MR=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ho(n,e){return MR(n.querySelectorAll(e))}function L_(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}const FR="data-rr-ui-";function UR(n){return`${FR}${n}`}const QE=A.createContext(ha?window:void 0);QE.Provider;function om(){return A.useContext(QE)}const V_=n=>!n||typeof n=="function"?n:e=>{n.current=e};function jR(n,e){const t=V_(n),r=V_(e);return o=>{t&&t(o),r&&r(o)}}function am(n,e){return A.useMemo(()=>jR(n,e),[n,e])}var Sc;function M_(n){if((!Sc&&Sc!==0||n)&&ha){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Sc=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Sc}function BR(){return A.useState(null)}function jh(n){n===void 0&&(n=Td());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function zR(n){const e=A.useRef(n);return e.current=n,e}function $R(n){const e=zR(n);A.useEffect(()=>()=>e.current(),[])}function HR(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const F_=UR("modal-open");class lm{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:r=!1}={}){this.handleContainerOverflow=t,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return HR(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();e.style={overflow:o.style.overflow,[r]:o.style[r]},e.scrollBarWidth&&(t[r]=`${parseInt(js(o,r)||"0",10)+e.scrollBarWidth}px`),o.setAttribute(F_,""),js(o,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(F_),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Bh=(n,e)=>ha?n==null?(e||Td()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function WR(n,e){const t=om(),[r,o]=A.useState(()=>Bh(n,t==null?void 0:t.document));if(!r){const a=Bh(n);a&&o(a)}return A.useEffect(()=>{},[e,r]),A.useEffect(()=>{const a=Bh(n);a!==r&&o(a)},[n,r]),r}function qR({children:n,in:e,onExited:t,mountOnEnter:r,unmountOnExit:o}){const a=A.useRef(null),u=A.useRef(e),f=Vs(t);A.useEffect(()=>{e?u.current=!0:f(a.current)},[e,f]);const h=am(a,n.ref),m=A.cloneElement(n,{ref:h});return e?m:o||!u.current&&r?null:m}const KR=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function GR(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function QR(n){let{onEnter:e,onEntering:t,onEntered:r,onExit:o,onExiting:a,onExited:u,addEndListener:f,children:h}=n,m=GR(n,KR);const _=A.useRef(null),w=am(_,$E(h)),T=X=>ie=>{X&&_.current&&X(_.current,ie)},b=A.useCallback(T(e),[e]),C=A.useCallback(T(t),[t]),N=A.useCallback(T(r),[r]),S=A.useCallback(T(o),[o]),F=A.useCallback(T(a),[a]),j=A.useCallback(T(u),[u]),q=A.useCallback(T(f),[f]);return Object.assign({},m,{nodeRef:_},e&&{onEnter:b},t&&{onEntering:C},r&&{onEntered:N},o&&{onExit:S},a&&{onExiting:F},u&&{onExited:j},f&&{addEndListener:q},{children:typeof h=="function"?(X,ie)=>h(X,Object.assign({},ie,{ref:w})):A.cloneElement(h,{ref:w})})}const XR=["component"];function JR(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const YR=A.forwardRef((n,e)=>{let{component:t}=n,r=JR(n,XR);const o=QR(r);return V.jsx(t,Object.assign({ref:e},o))});function ZR({in:n,onTransition:e}){const t=A.useRef(null),r=A.useRef(!0),o=Vs(e);return D_(()=>{if(!t.current)return;let a=!1;return o({in:n,element:t.current,initial:r.current,isStale:()=>a}),()=>{a=!0}},[n,o]),D_(()=>(r.current=!1,()=>{r.current=!0}),[]),t}function eC({children:n,in:e,onExited:t,onEntered:r,transition:o}){const[a,u]=A.useState(!e);e&&a&&u(!1);const f=ZR({in:!!e,onTransition:m=>{const _=()=>{m.isStale()||(m.in?r==null||r(m.element,m.initial):(u(!0),t==null||t(m.element)))};Promise.resolve(o(m)).then(_,w=>{throw m.in||u(!0),w})}}),h=am(f,n.ref);return a&&!e?null:A.cloneElement(n,{ref:h})}function U_(n,e,t){return n?V.jsx(YR,Object.assign({},t,{component:n})):e?V.jsx(eC,Object.assign({},t,{transition:e})):V.jsx(qR,Object.assign({},t))}const tC=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function nC(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}let zh;function rC(n){return zh||(zh=new lm({ownerDocument:n==null?void 0:n.document})),zh}function iC(n){const e=om(),t=n||rC(e),r=A.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>t.add(r.current),remove:()=>t.remove(r.current),isTopModal:()=>t.isTopModal(r.current),setDialogRef:A.useCallback(o=>{r.current.dialog=o},[]),setBackdropRef:A.useCallback(o=>{r.current.backdrop=o},[])})}const XE=A.forwardRef((n,e)=>{let{show:t=!1,role:r="dialog",className:o,style:a,children:u,backdrop:f=!0,keyboard:h=!0,onBackdropClick:m,onEscapeKeyDown:_,transition:w,runTransition:T,backdropTransition:b,runBackdropTransition:C,autoFocus:N=!0,enforceFocus:S=!0,restoreFocus:F=!0,restoreFocusOptions:j,renderDialog:q,renderBackdrop:X=qe=>V.jsx("div",Object.assign({},qe)),manager:ie,container:oe,onShow:P,onHide:R=()=>{},onExit:k,onExited:D,onExiting:M,onEnter:B,onEntering:O,onEntered:Qe}=n,at=nC(n,tC);const Xe=om(),be=WR(oe),ee=iC(ie),ge=RR(),le=CR(t),[z,J]=A.useState(!t),de=A.useRef(null);A.useImperativeHandle(e,()=>ee,[ee]),ha&&!le&&t&&(de.current=jh(Xe==null?void 0:Xe.document)),t&&z&&J(!1);const Te=Vs(()=>{if(ee.add(),tt.current=Kc(document,"keydown",Fe),He.current=Kc(document,"focus",()=>setTimeout(Oe),!0),P&&P(),N){var qe,lr;const jn=jh((qe=(lr=ee.dialog)==null?void 0:lr.ownerDocument)!=null?qe:Xe==null?void 0:Xe.document);ee.dialog&&jn&&!L_(ee.dialog,jn)&&(de.current=jn,ee.dialog.focus())}}),ke=Vs(()=>{if(ee.remove(),tt.current==null||tt.current(),He.current==null||He.current(),F){var qe;(qe=de.current)==null||qe.focus==null||qe.focus(j),de.current=null}});A.useEffect(()=>{!t||!be||Te()},[t,be,Te]),A.useEffect(()=>{z&&ke()},[z,ke]),$R(()=>{ke()});const Oe=Vs(()=>{if(!S||!ge()||!ee.isTopModal())return;const qe=jh(Xe==null?void 0:Xe.document);ee.dialog&&qe&&!L_(ee.dialog,qe)&&ee.dialog.focus()}),Le=Vs(qe=>{qe.target===qe.currentTarget&&(m==null||m(qe),f===!0&&R())}),Fe=Vs(qe=>{h&&fR(qe)&&ee.isTopModal()&&(_==null||_(qe),qe.defaultPrevented||R())}),He=A.useRef(),tt=A.useRef(),en=(...qe)=>{J(!0),D==null||D(...qe)};if(!be)return null;const yn=Object.assign({role:r,ref:ee.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},at,{style:a,className:o,tabIndex:-1});let tn=q?q(yn):V.jsx("div",Object.assign({},yn,{children:A.cloneElement(u,{role:"document"})}));tn=U_(w,T,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:k,onExiting:M,onExited:en,onEnter:B,onEntering:O,onEntered:Qe,children:tn});let nn=null;return f&&(nn=X({ref:ee.setBackdropRef,onClick:Le}),nn=U_(b,C,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:nn})),V.jsx(V.Fragment,{children:Jo.createPortal(V.jsxs(V.Fragment,{children:[nn,tn]}),be)})});XE.displayName="Modal";const sC=Object.assign(XE,{Manager:lm});function oC(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function aC(n,e){n.classList?n.classList.add(e):oC(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function j_(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function lC(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=j_(n.className,e):n.setAttribute("class",j_(n.className&&n.className.baseVal||"",e))}const Wo={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class uC extends lm{adjustAndStore(e,t,r){const o=t.style[e];t.dataset[e]=o,js(t,{[e]:`${parseFloat(js(t,e))+r}px`})}restore(e,t){const r=t.dataset[e];r!==void 0&&(delete t.dataset[e],js(t,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(aC(t,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Ho(t,Wo.FIXED_CONTENT).forEach(a=>this.adjustAndStore(r,a,e.scrollBarWidth)),Ho(t,Wo.STICKY_CONTENT).forEach(a=>this.adjustAndStore(o,a,-e.scrollBarWidth)),Ho(t,Wo.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(o,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();lC(t,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Ho(t,Wo.FIXED_CONTENT).forEach(a=>this.restore(r,a)),Ho(t,Wo.STICKY_CONTENT).forEach(a=>this.restore(o,a)),Ho(t,Wo.NAVBAR_TOGGLER).forEach(a=>this.restore(o,a))}}let $h;function cC(n){return $h||($h=new uC(n)),$h}const JE=A.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},o)=>(e=ii(e,"modal-body"),V.jsx(t,{ref:o,className:gn(n,e),...r})));JE.displayName="ModalBody";const YE=A.createContext({onHide(){}}),um=A.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:r,size:o,fullscreen:a,children:u,scrollable:f,...h},m)=>{n=ii(n,"modal");const _=`${n}-dialog`,w=typeof a=="string"?`${n}-fullscreen-${a}`:`${n}-fullscreen`;return V.jsx("div",{...h,ref:m,className:gn(_,e,o&&`${n}-${o}`,r&&`${_}-centered`,f&&`${_}-scrollable`,a&&w),children:V.jsx("div",{className:gn(`${n}-content`,t),children:u})})});um.displayName="ModalDialog";const ZE=A.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},o)=>(e=ii(e,"modal-footer"),V.jsx(t,{ref:o,className:gn(n,e),...r})));ZE.displayName="ModalFooter";const dC=A.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:r,children:o,...a},u)=>{const f=A.useContext(YE),h=yp(()=>{f==null||f.onHide(),r==null||r()});return V.jsxs("div",{ref:u,...a,children:[o,t&&V.jsx(sm,{"aria-label":n,variant:e,onClick:h})]})}),ew=A.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...o},a)=>(n=ii(n,"modal-header"),V.jsx(dC,{ref:a,...o,className:gn(e,n),closeLabel:t,closeButton:r})));ew.displayName="ModalHeader";const fC=IR("h4"),tw=A.forwardRef(({className:n,bsPrefix:e,as:t=fC,...r},o)=>(e=ii(e,"modal-title"),V.jsx(t,{ref:o,className:gn(n,e),...r})));tw.displayName="ModalTitle";function hC(n){return V.jsx(im,{...n,timeout:null})}function pC(n){return V.jsx(im,{...n,timeout:null})}const nw=A.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:r,contentClassName:o,children:a,dialogAs:u=um,"data-bs-theme":f,"aria-labelledby":h,"aria-describedby":m,"aria-label":_,show:w=!1,animation:T=!0,backdrop:b=!0,keyboard:C=!0,onEscapeKeyDown:N,onShow:S,onHide:F,container:j,autoFocus:q=!0,enforceFocus:X=!0,restoreFocus:ie=!0,restoreFocusOptions:oe,onEntered:P,onExit:R,onExiting:k,onEnter:D,onEntering:M,onExited:B,backdropClassName:O,manager:Qe,...at},Xe)=>{const[be,ee]=A.useState({}),[ge,le]=A.useState(!1),z=A.useRef(!1),J=A.useRef(!1),de=A.useRef(null),[Te,ke]=BR(),Oe=qE(Xe,ke),Le=yp(F),Fe=Y1();n=ii(n,"modal");const He=A.useMemo(()=>({onHide:Le}),[Le]);function tt(){return Qe||cC({isRTL:Fe})}function en(we){if(!ha)return;const Ye=tt().getScrollbarWidth()>0,An=we.scrollHeight>Td(we).documentElement.clientHeight;ee({paddingRight:Ye&&!An?M_():void 0,paddingLeft:!Ye&&An?M_():void 0})}const yn=yp(()=>{Te&&en(Te.dialog)});VR(()=>{gp(window,"resize",yn),de.current==null||de.current()});const tn=()=>{z.current=!0},nn=we=>{z.current&&Te&&we.target===Te.dialog&&(J.current=!0),z.current=!1},qe=()=>{le(!0),de.current=WE(Te.dialog,()=>{le(!1)})},lr=we=>{we.target===we.currentTarget&&qe()},jn=we=>{if(b==="static"){lr(we);return}if(J.current||we.target!==we.currentTarget){J.current=!1;return}F==null||F()},eo=we=>{C?N==null||N(we):(we.preventDefault(),b==="static"&&qe())},ai=(we,Ye)=>{we&&en(we),D==null||D(we,Ye)},Bn=we=>{de.current==null||de.current(),R==null||R(we)},zn=(we,Ye)=>{M==null||M(we,Ye),HE(window,"resize",yn)},is=we=>{we&&(we.style.display=""),B==null||B(we),gp(window,"resize",yn)},li=A.useCallback(we=>V.jsx("div",{...we,className:gn(`${n}-backdrop`,O,!T&&"show")}),[T,O,n]),br={...t,...be};br.display="block";const ss=we=>V.jsx("div",{role:"dialog",...we,style:br,className:gn(e,n,ge&&`${n}-static`,!T&&"show"),onClick:b?jn:void 0,onMouseUp:nn,"data-bs-theme":f,"aria-label":_,"aria-labelledby":h,"aria-describedby":m,children:V.jsx(u,{...at,onMouseDown:tn,className:r,contentClassName:o,children:a})});return V.jsx(YE.Provider,{value:He,children:V.jsx(sC,{show:w,ref:Oe,backdrop:b,container:j,keyboard:!0,autoFocus:q,enforceFocus:X,restoreFocus:ie,restoreFocusOptions:oe,onEscapeKeyDown:eo,onShow:S,onHide:F,onEnter:ai,onEntering:zn,onEntered:P,onExit:Bn,onExiting:k,onExited:is,manager:tt(),transition:T?hC:void 0,backdropTransition:T?pC:void 0,renderBackdrop:li,renderDialog:ss})})});nw.displayName="Modal";const _l=Object.assign(nw,{Body:JE,Header:ew,Title:tw,Footer:ZE,Dialog:um,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),rw=A.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:r,as:o="div",className:a,...u},f)=>{n=ii(n,"spinner");const h=`${n}-${t}`;return V.jsx(o,{ref:f,...u,className:gn(a,h,r&&`${h}-${r}`,e&&`text-${e}`)})});rw.displayName="Spinner";var iw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},B_=Ne.createContext&&Ne.createContext(iw),mC=["attr","size","title"];function gC(n,e){if(n==null)return{};var t=yC(n,e),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)r=a[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function yC(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Gc(){return Gc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Gc.apply(this,arguments)}function z_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Qc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?z_(Object(t),!0).forEach(function(r){_C(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):z_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function _C(n,e,t){return e=vC(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vC(n){var e=EC(n,"string");return typeof e=="symbol"?e:e+""}function EC(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function sw(n){return n&&n.map((e,t)=>Ne.createElement(e.tag,Qc({key:t},e.attr),sw(e.child)))}function pa(n){return e=>Ne.createElement(wC,Gc({attr:Qc({},n.attr)},e),sw(n.child))}function wC(n){var e=t=>{var{attr:r,size:o,title:a}=n,u=gC(n,mC),f=o||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Ne.createElement("svg",Gc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:h,style:Qc(Qc({color:n.color||t.color},t.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),a&&Ne.createElement("title",null,a),n.children)};return B_!==void 0?Ne.createElement(B_.Consumer,null,t=>e(t)):e(iw)}function TC(n){return pa({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function _p(n){return pa({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(n)}function IC(n){return pa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(n)}function SC(n){return pa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M368 128h.09m111.46-32h-91.06l8.92-35.66 38.32-13.05c8.15-2.77 13-11.43 10.65-19.71a16 16 0 0 0-20.54-10.73l-47 16a16 16 0 0 0-10.36 11.27L355.51 96H224.45c-8.61 0-16 6.62-16.43 15.23A16 16 0 0 0 224 128h2.75l1 8.66A8.3 8.3 0 0 0 236 144c39 0 73.66 10.9 100.12 31.52A121.9 121.9 0 0 1 371 218.07a123.4 123.4 0 0 1 10.12 29.51 7.83 7.83 0 0 0 3.29 4.88 72 72 0 0 1 26.38 86.43 7.92 7.92 0 0 0-.15 5.53A96 96 0 0 1 416 376c0 22.34-7.6 43.63-21.4 59.95a80.12 80.12 0 0 1-28.78 21.67 8 8 0 0 0-4.21 4.37 108.19 108.19 0 0 1-17.37 29.86 2.5 2.5 0 0 0 1.9 4.11h49.21a48.22 48.22 0 0 0 47.85-44.14L477.4 128h2.6a16 16 0 0 0 16-16.77c-.42-8.61-7.84-15.23-16.45-15.23z"},child:[]},{tag:"path",attr:{d:"M108.69 320a23.87 23.87 0 0 1 17 7l15.51 15.51a4 4 0 0 0 5.66 0L162.34 327a23.87 23.87 0 0 1 17-7h196.58a8 8 0 0 0 8.08-7.92V312a40.07 40.07 0 0 0-32-39.2c-.82-29.69-13-54.54-35.51-72C295.67 184.56 267.85 176 236 176h-72c-68.22 0-114.43 38.77-116 96.8A40.07 40.07 0 0 0 16 312a8 8 0 0 0 8 8zm77.25 32a8 8 0 0 0-5.66 2.34l-22.14 22.15a20 20 0 0 1-28.28 0l-22.14-22.15a8 8 0 0 0-5.66-2.34h-69.4a15.93 15.93 0 0 0-15.76 13.17A65.22 65.22 0 0 0 16 376c0 30.59 21.13 55.51 47.26 56 2.43 15.12 8.31 28.78 17.16 39.47C93.51 487.28 112.54 496 134 496h132c21.46 0 40.49-8.72 53.58-24.55 8.85-10.69 14.73-24.35 17.16-39.47 26.13-.47 47.26-25.39 47.26-56a65.22 65.22 0 0 0-.9-10.83A15.93 15.93 0 0 0 367.34 352z"},child:[]}]})(n)}function RC(n){return pa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 277.4h189.7l-43.6 44.7L368 352l96-96-96-96-31 29.9 44.7 44.7H192v42.8z"},child:[]},{tag:"path",attr:{d:"M255.7 421.3c-44.1 0-85.5-17.2-116.7-48.4-31.2-31.2-48.3-72.7-48.3-116.9 0-44.1 17.2-85.7 48.3-116.9 31.2-31.2 72.6-48.4 116.7-48.4 44 0 85.3 17.1 116.5 48.2l30.3-30.3c-8.5-8.4-17.8-16.2-27.7-23.2C339.7 61 298.6 48 255.7 48 141.2 48 48 141.3 48 256s93.2 208 207.7 208c42.9 0 84-13 119-37.5 10-7 19.2-14.7 27.7-23.2l-30.2-30.2c-31.1 31.1-72.5 48.2-116.5 48.2zM448.004 256.847l-.849-.848.849-.849.848.849z"},child:[]}]})(n)}var Hh={exports:{}},Wh={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function CC(){if($_)return Wh;$_=1;var n=_d();function e(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,o=n.useRef,a=n.useEffect,u=n.useMemo,f=n.useDebugValue;return Wh.useSyncExternalStoreWithSelector=function(h,m,_,w,T){var b=o(null);if(b.current===null){var C={hasValue:!1,value:null};b.current=C}else C=b.current;b=u(function(){function S(ie){if(!F){if(F=!0,j=ie,ie=w(ie),T!==void 0&&C.hasValue){var oe=C.value;if(T(oe,ie))return q=oe}return q=ie}if(oe=q,t(j,ie))return oe;var P=w(ie);return T!==void 0&&T(oe,P)?(j=ie,oe):(j=ie,q=P)}var F=!1,j,q,X=_===void 0?null:_;return[function(){return S(m())},X===null?void 0:function(){return S(X())}]},[m,_,w,T]);var N=r(h,b[0],b[1]);return a(function(){C.hasValue=!0,C.value=N},[N]),f(N),N},Wh}var H_;function AC(){return H_||(H_=1,Hh.exports=CC()),Hh.exports}var kC=AC();function PC(n){n()}function xC(){let n=null,e=null;return{clear(){n=null,e=null},notify(){PC(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const o=e={callback:t,next:null,prev:e};return o.prev?o.prev.next=o:n=o,function(){!r||n===null||(r=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:n=o.next)}}}}var W_={notify(){},get:()=>[]};function bC(n,e){let t,r=W_,o=0,a=!1;function u(N){_();const S=r.subscribe(N);let F=!1;return()=>{F||(F=!0,S(),w())}}function f(){r.notify()}function h(){C.onStateChange&&C.onStateChange()}function m(){return a}function _(){o++,t||(t=n.subscribe(h),r=xC())}function w(){o--,t&&o===0&&(t(),t=void 0,r.clear(),r=W_)}function T(){a||(a=!0,_())}function b(){a&&(a=!1,w())}const C={addNestedSub:u,notifyNestedSubs:f,handleChangeWrapper:h,isSubscribed:m,trySubscribe:T,tryUnsubscribe:b,getListeners:()=>r};return C}var NC=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OC=NC(),DC=()=>typeof navigator<"u"&&navigator.product==="ReactNative",LC=DC(),VC=()=>OC||LC?A.useLayoutEffect:A.useEffect,MC=VC(),qh=Symbol.for("react-redux-context"),Kh=typeof globalThis<"u"?globalThis:{};function FC(){if(!A.createContext)return{};const n=Kh[qh]??(Kh[qh]=new Map);let e=n.get(A.createContext);return e||(e=A.createContext(null),n.set(A.createContext,e)),e}var Wi=FC();function UC(n){const{children:e,context:t,serverState:r,store:o}=n,a=A.useMemo(()=>{const h=bC(o);return{store:o,subscription:h,getServerState:r?()=>r:void 0}},[o,r]),u=A.useMemo(()=>o.getState(),[o]);MC(()=>{const{subscription:h}=a;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),u!==o.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[a,u]);const f=t||Wi;return A.createElement(f.Provider,{value:a},e)}var jC=UC;function cm(n=Wi){return function(){return A.useContext(n)}}var ow=cm();function aw(n=Wi){const e=n===Wi?ow:cm(n),t=()=>{const{store:r}=e();return r};return Object.assign(t,{withTypes:()=>t}),t}var BC=aw();function zC(n=Wi){const e=n===Wi?BC:aw(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var ma=zC(),$C=(n,e)=>n===e;function HC(n=Wi){const e=n===Wi?ow:cm(n),t=(r,o={})=>{const{equalityFn:a=$C}=typeof o=="function"?{equalityFn:o}:o,u=e(),{store:f,subscription:h,getServerState:m}=u;A.useRef(!0);const _=A.useCallback({[r.name](T){return r(T)}}[r.name],[r]),w=kC.useSyncExternalStoreWithSelector(h.addNestedSub,f.getState,m||f.getState,_,a);return A.useDebugValue(w),w};return Object.assign(t,{withTypes:()=>t}),t}var ga=HC();const WC=()=>{const n=Qs(),e=ma(),{users:t}=ga(f=>f.authReducer),r=()=>{n("/add")},o=()=>{n("/home")},a=()=>{e(signOutAync())},u=()=>{n("/signIn")};return V.jsx("div",{className:"px-3 mb-3 bg-white",children:V.jsxs("header",{className:"header d-flex justify-content-between align-items-center",children:[V.jsxs("div",{className:"logo d-flex align-items-center",children:[V.jsx("img",{src:"https://t4.ftcdn.net/jpg/06/70/31/45/360_F_670314597_5iQ2ZyYKdgZsgiibFIUqka8sgG8uPIV2.jpg",className:"img",alt:"Recipe App Logo"}),V.jsx("h1",{className:"text-black ms-2",children:"Recipe App"})]}),V.jsxs("ul",{className:"nav d-flex align-items-center",children:[V.jsx("li",{className:"me-4",children:V.jsxs(Tr,{variant:"dark",onClick:o,children:[V.jsx(TC,{className:"me-2",size:17}),"Home"]})}),V.jsx("li",{className:"me-4",children:V.jsxs(Tr,{variant:"dark",onClick:r,children:[V.jsx(SC,{className:"me-2"}),"Add Recipe"]})}),V.jsx("li",{children:t?V.jsxs(Tr,{variant:"dark",onClick:a,children:[V.jsx(RC,{className:"me-2"}),"SignIn"]}):V.jsxs(Tr,{variant:"dark",onClick:u,children:[V.jsx(IC,{className:"me-2"}),"LogOut"]})})]})]})})};var q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},qC=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],f=n[t++],h=((o&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},uw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,f=u?n[o+1]:0,h=o+2<n.length,m=h?n[o+2]:0,_=a>>2,w=(a&3)<<4|f>>4;let T=(f&15)<<2|m>>6,b=m&63;h||(b=64,u||(T=64)),r.push(t[_],t[w],t[T],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(lw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):qC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||f==null||m==null||w==null)throw new KC;const T=a<<2|f>>4;if(r.push(T),m!==64){const b=f<<4&240|m>>2;if(r.push(b),w!==64){const C=m<<6&192|w;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class KC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GC=function(n){const e=lw(n);return uw.encodeByteArray(e,!0)},Xc=function(n){return GC(n).replace(/\./g,"")},cw=function(n){try{return uw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=()=>QC().__FIREBASE_DEFAULTS__,JC=()=>{if(typeof process>"u"||typeof q_>"u")return;const n=q_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},YC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&cw(n[1]);return e&&JSON.parse(e)},Id=()=>{try{return XC()||JC()||YC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},dw=n=>{var e,t;return(t=(e=Id())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ZC=n=>{const e=dw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},fw=()=>{var n;return(n=Id())===null||n===void 0?void 0:n.config},hw=n=>{var e;return(e=Id())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Xc(JSON.stringify(t)),Xc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function rA(){var n;const e=(n=Id())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function oA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aA(){const n=Kt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function lA(){return!rA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uA(){try{return typeof indexedDB=="object"}catch{return!1}}function cA(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="FirebaseError";class oi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=dA,Object.setPrototypeOf(this,oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?fA(a,r):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new oi(o,f,r)}}function fA(n,e){return n.replace(hA,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const hA=/\{\$([^}]+)}/g;function pA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Jc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(K_(a)&&K_(u)){if(!Jc(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function K_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Tl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function mA(n,e){const t=new gA(n,e);return t.subscribe.bind(t)}class gA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");yA(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Gh),o.error===void 0&&(o.error=Gh),o.complete===void 0&&(o.complete=Gh);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Gh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(n){return n&&n._delegate?n._delegate:n}class $s{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new eA;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EA(e))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ds){return this.instances.has(e)}getOptions(e=Ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);r===f&&u.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vA(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ds){return this.component?this.component.multipleInstances?e:Ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vA(n){return n===Ds?void 0:n}function EA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _A(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const TA={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},IA=Ve.INFO,SA={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},RA=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=SA[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dm{constructor(e){this.name=e,this._logLevel=IA,this._logHandler=RA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const CA=(n,e)=>e.some(t=>n instanceof t);let G_,Q_;function AA(){return G_||(G_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kA(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pw=new WeakMap,vp=new WeakMap,mw=new WeakMap,Qh=new WeakMap,fm=new WeakMap;function PA(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ui(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&pw.set(t,n)}).catch(()=>{}),fm.set(e,n),e}function xA(n){if(vp.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});vp.set(n,e)}let Ep={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return vp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||mw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ui(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function bA(n){Ep=n(Ep)}function NA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Xh(this),e,...t);return mw.set(r,e.sort?e.sort():[e]),Ui(r)}:kA().includes(n)?function(...e){return n.apply(Xh(this),e),Ui(pw.get(this))}:function(...e){return Ui(n.apply(Xh(this),e))}}function OA(n){return typeof n=="function"?NA(n):(n instanceof IDBTransaction&&xA(n),CA(n,AA())?new Proxy(n,Ep):n)}function Ui(n){if(n instanceof IDBRequest)return PA(n);if(Qh.has(n))return Qh.get(n);const e=OA(n);return e!==n&&(Qh.set(n,e),fm.set(e,n)),e}const Xh=n=>fm.get(n);function DA(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),f=Ui(u);return r&&u.addEventListener("upgradeneeded",h=>{r(Ui(u.result),h.oldVersion,h.newVersion,Ui(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{a&&h.addEventListener("close",()=>a()),o&&h.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const LA=["get","getKey","getAll","getAllKeys","count"],VA=["put","add","delete","clear"],Jh=new Map;function X_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jh.get(e))return Jh.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=VA.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||LA.includes(t)))return;const a=async function(u,...f){const h=this.transaction(u,o?"readwrite":"readonly");let m=h.store;return r&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),o&&h.done]))[0]};return Jh.set(e,a),a}bA(n=>({...n,get:(e,t,r)=>X_(e,t)||n.get(e,t,r),has:(e,t)=>!!X_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(FA(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function FA(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wp="@firebase/app",J_="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new dm("@firebase/app"),UA="@firebase/app-compat",jA="@firebase/analytics-compat",BA="@firebase/analytics",zA="@firebase/app-check-compat",$A="@firebase/app-check",HA="@firebase/auth",WA="@firebase/auth-compat",qA="@firebase/database",KA="@firebase/data-connect",GA="@firebase/database-compat",QA="@firebase/functions",XA="@firebase/functions-compat",JA="@firebase/installations",YA="@firebase/installations-compat",ZA="@firebase/messaging",ek="@firebase/messaging-compat",tk="@firebase/performance",nk="@firebase/performance-compat",rk="@firebase/remote-config",ik="@firebase/remote-config-compat",sk="@firebase/storage",ok="@firebase/storage-compat",ak="@firebase/firestore",lk="@firebase/vertexai",uk="@firebase/firestore-compat",ck="firebase",dk="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="[DEFAULT]",fk={[wp]:"fire-core",[UA]:"fire-core-compat",[BA]:"fire-analytics",[jA]:"fire-analytics-compat",[$A]:"fire-app-check",[zA]:"fire-app-check-compat",[HA]:"fire-auth",[WA]:"fire-auth-compat",[qA]:"fire-rtdb",[KA]:"fire-data-connect",[GA]:"fire-rtdb-compat",[QA]:"fire-fn",[XA]:"fire-fn-compat",[JA]:"fire-iid",[YA]:"fire-iid-compat",[ZA]:"fire-fcm",[ek]:"fire-fcm-compat",[tk]:"fire-perf",[nk]:"fire-perf-compat",[rk]:"fire-rc",[ik]:"fire-rc-compat",[sk]:"fire-gcs",[ok]:"fire-gcs-compat",[ak]:"fire-fst",[uk]:"fire-fst-compat",[lk]:"fire-vertex","fire-js":"fire-js",[ck]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new Map,hk=new Map,Ip=new Map;function Y_(n,e){try{n.container.addComponent(e)}catch(t){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function na(n){const e=n.name;if(Ip.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;Ip.set(e,n);for(const t of Yc.values())Y_(t,n);for(const t of hk.values())Y_(t,n);return!0}function hm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ir(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ji=new ql("app","Firebase",pk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=dk;function gw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Tp,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw ji.create("bad-app-name",{appName:String(o)});if(t||(t=fw()),!t)throw ji.create("no-options");const a=Yc.get(o);if(a){if(Jc(t,a.options)&&Jc(r,a.config))return a;throw ji.create("duplicate-app",{appName:o})}const u=new wA(o);for(const h of Ip.values())u.addComponent(h);const f=new mk(t,r,u);return Yc.set(o,f),f}function yw(n=Tp){const e=Yc.get(n);if(!e&&n===Tp&&fw())return gw();if(!e)throw ji.create("no-app",{appName:n});return e}function Bi(n,e,t){var r;let o=(r=fk[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${o}" with version "${e}":`];a&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(f.join(" "));return}na(new $s(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk="firebase-heartbeat-database",yk=1,Ol="firebase-heartbeat-store";let Yh=null;function _w(){return Yh||(Yh=DA(gk,yk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ol)}catch(t){console.warn(t)}}}}).catch(n=>{throw ji.create("idb-open",{originalErrorMessage:n.message})})),Yh}async function _k(n){try{const t=(await _w()).transaction(Ol),r=await t.objectStore(Ol).get(vw(n));return await t.done,r}catch(e){if(e instanceof oi)Zr.warn(e.message);else{const t=ji.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zr.warn(t.message)}}}async function Z_(n,e){try{const r=(await _w()).transaction(Ol,"readwrite");await r.objectStore(Ol).put(e,vw(n)),await r.done}catch(t){if(t instanceof oi)Zr.warn(t.message);else{const r=ji.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Zr.warn(r.message)}}}function vw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=1024,Ek=30*24*60*60*1e3;class wk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ik(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ev();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const f=new Date(u.date).valueOf();return Date.now()-f<=Ek}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Zr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ev(),{heartbeatsToSend:r,unsentEntries:o}=Tk(this._heartbeatsCache.heartbeats),a=Xc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Zr.warn(t),""}}}function ev(){return new Date().toISOString().substring(0,10)}function Tk(n,e=vk){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),tv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),tv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Ik{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uA()?cA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _k(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Z_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Z_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function tv(n){return Xc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(n){na(new $s("platform-logger",e=>new MA(e),"PRIVATE")),na(new $s("heartbeat",e=>new wk(e),"PRIVATE")),Bi(wp,J_,n),Bi(wp,J_,"esm2017"),Bi("fire-js","")}Sk("");var Rk="firebase",Ck="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bi(Rk,Ck,"app");var nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zi,Ew;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,R){function k(){}k.prototype=R.prototype,P.D=R.prototype,P.prototype=new k,P.prototype.constructor=P,P.C=function(D,M,B){for(var O=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)O[Qe-2]=arguments[Qe];return R.prototype[M].apply(D,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,R,k){k||(k=0);var D=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)D[M]=R.charCodeAt(k++)|R.charCodeAt(k++)<<8|R.charCodeAt(k++)<<16|R.charCodeAt(k++)<<24;else for(M=0;16>M;++M)D[M]=R[k++]|R[k++]<<8|R[k++]<<16|R[k++]<<24;R=P.g[0],k=P.g[1],M=P.g[2];var B=P.g[3],O=R+(B^k&(M^B))+D[0]+3614090360&4294967295;R=k+(O<<7&4294967295|O>>>25),O=B+(M^R&(k^M))+D[1]+3905402710&4294967295,B=R+(O<<12&4294967295|O>>>20),O=M+(k^B&(R^k))+D[2]+606105819&4294967295,M=B+(O<<17&4294967295|O>>>15),O=k+(R^M&(B^R))+D[3]+3250441966&4294967295,k=M+(O<<22&4294967295|O>>>10),O=R+(B^k&(M^B))+D[4]+4118548399&4294967295,R=k+(O<<7&4294967295|O>>>25),O=B+(M^R&(k^M))+D[5]+1200080426&4294967295,B=R+(O<<12&4294967295|O>>>20),O=M+(k^B&(R^k))+D[6]+2821735955&4294967295,M=B+(O<<17&4294967295|O>>>15),O=k+(R^M&(B^R))+D[7]+4249261313&4294967295,k=M+(O<<22&4294967295|O>>>10),O=R+(B^k&(M^B))+D[8]+1770035416&4294967295,R=k+(O<<7&4294967295|O>>>25),O=B+(M^R&(k^M))+D[9]+2336552879&4294967295,B=R+(O<<12&4294967295|O>>>20),O=M+(k^B&(R^k))+D[10]+4294925233&4294967295,M=B+(O<<17&4294967295|O>>>15),O=k+(R^M&(B^R))+D[11]+2304563134&4294967295,k=M+(O<<22&4294967295|O>>>10),O=R+(B^k&(M^B))+D[12]+1804603682&4294967295,R=k+(O<<7&4294967295|O>>>25),O=B+(M^R&(k^M))+D[13]+4254626195&4294967295,B=R+(O<<12&4294967295|O>>>20),O=M+(k^B&(R^k))+D[14]+2792965006&4294967295,M=B+(O<<17&4294967295|O>>>15),O=k+(R^M&(B^R))+D[15]+1236535329&4294967295,k=M+(O<<22&4294967295|O>>>10),O=R+(M^B&(k^M))+D[1]+4129170786&4294967295,R=k+(O<<5&4294967295|O>>>27),O=B+(k^M&(R^k))+D[6]+3225465664&4294967295,B=R+(O<<9&4294967295|O>>>23),O=M+(R^k&(B^R))+D[11]+643717713&4294967295,M=B+(O<<14&4294967295|O>>>18),O=k+(B^R&(M^B))+D[0]+3921069994&4294967295,k=M+(O<<20&4294967295|O>>>12),O=R+(M^B&(k^M))+D[5]+3593408605&4294967295,R=k+(O<<5&4294967295|O>>>27),O=B+(k^M&(R^k))+D[10]+38016083&4294967295,B=R+(O<<9&4294967295|O>>>23),O=M+(R^k&(B^R))+D[15]+3634488961&4294967295,M=B+(O<<14&4294967295|O>>>18),O=k+(B^R&(M^B))+D[4]+3889429448&4294967295,k=M+(O<<20&4294967295|O>>>12),O=R+(M^B&(k^M))+D[9]+568446438&4294967295,R=k+(O<<5&4294967295|O>>>27),O=B+(k^M&(R^k))+D[14]+3275163606&4294967295,B=R+(O<<9&4294967295|O>>>23),O=M+(R^k&(B^R))+D[3]+4107603335&4294967295,M=B+(O<<14&4294967295|O>>>18),O=k+(B^R&(M^B))+D[8]+1163531501&4294967295,k=M+(O<<20&4294967295|O>>>12),O=R+(M^B&(k^M))+D[13]+2850285829&4294967295,R=k+(O<<5&4294967295|O>>>27),O=B+(k^M&(R^k))+D[2]+4243563512&4294967295,B=R+(O<<9&4294967295|O>>>23),O=M+(R^k&(B^R))+D[7]+1735328473&4294967295,M=B+(O<<14&4294967295|O>>>18),O=k+(B^R&(M^B))+D[12]+2368359562&4294967295,k=M+(O<<20&4294967295|O>>>12),O=R+(k^M^B)+D[5]+4294588738&4294967295,R=k+(O<<4&4294967295|O>>>28),O=B+(R^k^M)+D[8]+2272392833&4294967295,B=R+(O<<11&4294967295|O>>>21),O=M+(B^R^k)+D[11]+1839030562&4294967295,M=B+(O<<16&4294967295|O>>>16),O=k+(M^B^R)+D[14]+4259657740&4294967295,k=M+(O<<23&4294967295|O>>>9),O=R+(k^M^B)+D[1]+2763975236&4294967295,R=k+(O<<4&4294967295|O>>>28),O=B+(R^k^M)+D[4]+1272893353&4294967295,B=R+(O<<11&4294967295|O>>>21),O=M+(B^R^k)+D[7]+4139469664&4294967295,M=B+(O<<16&4294967295|O>>>16),O=k+(M^B^R)+D[10]+3200236656&4294967295,k=M+(O<<23&4294967295|O>>>9),O=R+(k^M^B)+D[13]+681279174&4294967295,R=k+(O<<4&4294967295|O>>>28),O=B+(R^k^M)+D[0]+3936430074&4294967295,B=R+(O<<11&4294967295|O>>>21),O=M+(B^R^k)+D[3]+3572445317&4294967295,M=B+(O<<16&4294967295|O>>>16),O=k+(M^B^R)+D[6]+76029189&4294967295,k=M+(O<<23&4294967295|O>>>9),O=R+(k^M^B)+D[9]+3654602809&4294967295,R=k+(O<<4&4294967295|O>>>28),O=B+(R^k^M)+D[12]+3873151461&4294967295,B=R+(O<<11&4294967295|O>>>21),O=M+(B^R^k)+D[15]+530742520&4294967295,M=B+(O<<16&4294967295|O>>>16),O=k+(M^B^R)+D[2]+3299628645&4294967295,k=M+(O<<23&4294967295|O>>>9),O=R+(M^(k|~B))+D[0]+4096336452&4294967295,R=k+(O<<6&4294967295|O>>>26),O=B+(k^(R|~M))+D[7]+1126891415&4294967295,B=R+(O<<10&4294967295|O>>>22),O=M+(R^(B|~k))+D[14]+2878612391&4294967295,M=B+(O<<15&4294967295|O>>>17),O=k+(B^(M|~R))+D[5]+4237533241&4294967295,k=M+(O<<21&4294967295|O>>>11),O=R+(M^(k|~B))+D[12]+1700485571&4294967295,R=k+(O<<6&4294967295|O>>>26),O=B+(k^(R|~M))+D[3]+2399980690&4294967295,B=R+(O<<10&4294967295|O>>>22),O=M+(R^(B|~k))+D[10]+4293915773&4294967295,M=B+(O<<15&4294967295|O>>>17),O=k+(B^(M|~R))+D[1]+2240044497&4294967295,k=M+(O<<21&4294967295|O>>>11),O=R+(M^(k|~B))+D[8]+1873313359&4294967295,R=k+(O<<6&4294967295|O>>>26),O=B+(k^(R|~M))+D[15]+4264355552&4294967295,B=R+(O<<10&4294967295|O>>>22),O=M+(R^(B|~k))+D[6]+2734768916&4294967295,M=B+(O<<15&4294967295|O>>>17),O=k+(B^(M|~R))+D[13]+1309151649&4294967295,k=M+(O<<21&4294967295|O>>>11),O=R+(M^(k|~B))+D[4]+4149444226&4294967295,R=k+(O<<6&4294967295|O>>>26),O=B+(k^(R|~M))+D[11]+3174756917&4294967295,B=R+(O<<10&4294967295|O>>>22),O=M+(R^(B|~k))+D[2]+718787259&4294967295,M=B+(O<<15&4294967295|O>>>17),O=k+(B^(M|~R))+D[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,P.g[2]=P.g[2]+M&4294967295,P.g[3]=P.g[3]+B&4294967295}r.prototype.u=function(P,R){R===void 0&&(R=P.length);for(var k=R-this.blockSize,D=this.B,M=this.h,B=0;B<R;){if(M==0)for(;B<=k;)o(this,P,B),B+=this.blockSize;if(typeof P=="string"){for(;B<R;)if(D[M++]=P.charCodeAt(B++),M==this.blockSize){o(this,D),M=0;break}}else for(;B<R;)if(D[M++]=P[B++],M==this.blockSize){o(this,D),M=0;break}}this.h=M,this.o+=R},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;var k=8*this.o;for(R=P.length-8;R<P.length;++R)P[R]=k&255,k/=256;for(this.u(P),P=Array(16),R=k=0;4>R;++R)for(var D=0;32>D;D+=8)P[k++]=this.g[R]>>>D&255;return P};function a(P,R){var k=f;return Object.prototype.hasOwnProperty.call(k,P)?k[P]:k[P]=R(P)}function u(P,R){this.h=R;for(var k=[],D=!0,M=P.length-1;0<=M;M--){var B=P[M]|0;D&&B==R||(k[M]=B,D=!1)}this.g=k}var f={};function h(P){return-128<=P&&128>P?a(P,function(R){return new u([R|0],0>R?-1:0)}):new u([P|0],0>P?-1:0)}function m(P){if(isNaN(P)||!isFinite(P))return w;if(0>P)return S(m(-P));for(var R=[],k=1,D=0;P>=k;D++)R[D]=P/k|0,k*=4294967296;return new u(R,0)}function _(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return S(_(P.substring(1),R));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(R,8)),D=w,M=0;M<P.length;M+=8){var B=Math.min(8,P.length-M),O=parseInt(P.substring(M,M+B),R);8>B?(B=m(Math.pow(R,B)),D=D.j(B).add(m(O))):(D=D.j(k),D=D.add(m(O)))}return D}var w=h(0),T=h(1),b=h(16777216);n=u.prototype,n.m=function(){if(N(this))return-S(this).m();for(var P=0,R=1,k=0;k<this.g.length;k++){var D=this.i(k);P+=(0<=D?D:4294967296+D)*R,R*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(C(this))return"0";if(N(this))return"-"+S(this).toString(P);for(var R=m(Math.pow(P,6)),k=this,D="";;){var M=X(k,R).g;k=F(k,M.j(R));var B=((0<k.g.length?k.g[0]:k.h)>>>0).toString(P);if(k=M,C(k))return B+D;for(;6>B.length;)B="0"+B;D=B+D}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function C(P){if(P.h!=0)return!1;for(var R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function N(P){return P.h==-1}n.l=function(P){return P=F(this,P),N(P)?-1:C(P)?0:1};function S(P){for(var R=P.g.length,k=[],D=0;D<R;D++)k[D]=~P.g[D];return new u(k,~P.h).add(T)}n.abs=function(){return N(this)?S(this):this},n.add=function(P){for(var R=Math.max(this.g.length,P.g.length),k=[],D=0,M=0;M<=R;M++){var B=D+(this.i(M)&65535)+(P.i(M)&65535),O=(B>>>16)+(this.i(M)>>>16)+(P.i(M)>>>16);D=O>>>16,B&=65535,O&=65535,k[M]=O<<16|B}return new u(k,k[k.length-1]&-2147483648?-1:0)};function F(P,R){return P.add(S(R))}n.j=function(P){if(C(this)||C(P))return w;if(N(this))return N(P)?S(this).j(S(P)):S(S(this).j(P));if(N(P))return S(this.j(S(P)));if(0>this.l(b)&&0>P.l(b))return m(this.m()*P.m());for(var R=this.g.length+P.g.length,k=[],D=0;D<2*R;D++)k[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<P.g.length;M++){var B=this.i(D)>>>16,O=this.i(D)&65535,Qe=P.i(M)>>>16,at=P.i(M)&65535;k[2*D+2*M]+=O*at,j(k,2*D+2*M),k[2*D+2*M+1]+=B*at,j(k,2*D+2*M+1),k[2*D+2*M+1]+=O*Qe,j(k,2*D+2*M+1),k[2*D+2*M+2]+=B*Qe,j(k,2*D+2*M+2)}for(D=0;D<R;D++)k[D]=k[2*D+1]<<16|k[2*D];for(D=R;D<2*R;D++)k[D]=0;return new u(k,0)};function j(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function q(P,R){this.g=P,this.h=R}function X(P,R){if(C(R))throw Error("division by zero");if(C(P))return new q(w,w);if(N(P))return R=X(S(P),R),new q(S(R.g),S(R.h));if(N(R))return R=X(P,S(R)),new q(S(R.g),R.h);if(30<P.g.length){if(N(P)||N(R))throw Error("slowDivide_ only works with positive integers.");for(var k=T,D=R;0>=D.l(P);)k=ie(k),D=ie(D);var M=oe(k,1),B=oe(D,1);for(D=oe(D,2),k=oe(k,2);!C(D);){var O=B.add(D);0>=O.l(P)&&(M=M.add(k),B=O),D=oe(D,1),k=oe(k,1)}return R=F(P,M.j(R)),new q(M,R)}for(M=w;0<=P.l(R);){for(k=Math.max(1,Math.floor(P.m()/R.m())),D=Math.ceil(Math.log(k)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),B=m(k),O=B.j(R);N(O)||0<O.l(P);)k-=D,B=m(k),O=B.j(R);C(B)&&(B=T),M=M.add(B),P=F(P,O)}return new q(M,P)}n.A=function(P){return X(this,P).h},n.and=function(P){for(var R=Math.max(this.g.length,P.g.length),k=[],D=0;D<R;D++)k[D]=this.i(D)&P.i(D);return new u(k,this.h&P.h)},n.or=function(P){for(var R=Math.max(this.g.length,P.g.length),k=[],D=0;D<R;D++)k[D]=this.i(D)|P.i(D);return new u(k,this.h|P.h)},n.xor=function(P){for(var R=Math.max(this.g.length,P.g.length),k=[],D=0;D<R;D++)k[D]=this.i(D)^P.i(D);return new u(k,this.h^P.h)};function ie(P){for(var R=P.g.length+1,k=[],D=0;D<R;D++)k[D]=P.i(D)<<1|P.i(D-1)>>>31;return new u(k,P.h)}function oe(P,R){var k=R>>5;R%=32;for(var D=P.g.length-k,M=[],B=0;B<D;B++)M[B]=0<R?P.i(B+k)>>>R|P.i(B+k+1)<<32-R:P.i(B+k);return new u(M,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ew=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=_,zi=u}).apply(typeof nv<"u"?nv:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ww,Il,Tw,Oc,Sp,Iw,Sw,Rw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=t(this);function o(c,g){if(g)e:{var v=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var $=c[I];if(!($ in v))break e;v=v[$]}c=c[c.length-1],I=v[c],g=g(I),g!=I&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var v=0,I=!1,$={next:function(){if(!I&&v<c.length){var G=v++;return{value:g(G,c[G]),done:!1}}return I=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function h(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function _(c,g,v){return c.call.apply(c.bind,arguments)}function w(c,g,v){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,I),c.apply(g,$)}}return function(){return c.apply(g,arguments)}}function T(c,g,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,T.apply(null,arguments)}function b(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function C(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(I,$,G){for(var ae=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ae[Ge-2]=arguments[Ge];return g.prototype[$].apply(I,ae)}}function N(c){const g=c.length;if(0<g){const v=Array(g);for(let I=0;I<g;I++)v[I]=c[I];return v}return[]}function S(c,g){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(h(I)){const $=c.length||0,G=I.length||0;c.length=$+G;for(let ae=0;ae<G;ae++)c[$+ae]=I[ae]}else c.push(I)}}class F{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function j(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function X(c){return X[" "](c),c}X[" "]=function(){};var ie=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function oe(c,g,v){for(const I in c)g.call(v,c[I],I,c)}function P(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function R(c){const g={};for(const v in c)g[v]=c[v];return g}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,g){let v,I;for(let $=1;$<arguments.length;$++){I=arguments[$];for(v in I)c[v]=I[v];for(let G=0;G<k.length;G++)v=k[G],Object.prototype.hasOwnProperty.call(I,v)&&(c[v]=I[v])}}function M(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function B(c){f.setTimeout(()=>{throw c},0)}function O(){var c=ge;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Qe{constructor(){this.h=this.g=null}add(g,v){const I=at.get();I.set(g,v),this.h?this.h.next=I:this.g=I,this.h=I}}var at=new F(()=>new Xe,c=>c.reset());class Xe{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let be,ee=!1,ge=new Qe,le=()=>{const c=f.Promise.resolve(void 0);be=()=>{c.then(z)}};var z=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(v){B(v)}var g=at;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ee=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c}();function ke(c,g){if(de.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ie){e:{try{X(g.nodeName);var $=!0;break e}catch{}$=!1}$||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Oe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ke.aa.h.call(this)}}C(ke,de);var Oe={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function He(c,g,v,I,$){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!I,this.ha=$,this.key=++Fe,this.da=this.fa=!1}function tt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function en(c){this.src=c,this.g={},this.h=0}en.prototype.add=function(c,g,v,I,$){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ae=tn(c,g,I,$);return-1<ae?(g=c[ae],v||(g.fa=!1)):(g=new He(g,this.src,G,!!I,$),g.fa=v,c.push(g)),g};function yn(c,g){var v=g.type;if(v in c.g){var I=c.g[v],$=Array.prototype.indexOf.call(I,g,void 0),G;(G=0<=$)&&Array.prototype.splice.call(I,$,1),G&&(tt(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function tn(c,g,v,I){for(var $=0;$<c.length;++$){var G=c[$];if(!G.da&&G.listener==g&&G.capture==!!v&&G.ha==I)return $}return-1}var nn="closure_lm_"+(1e6*Math.random()|0),qe={};function lr(c,g,v,I,$){if(Array.isArray(g)){for(var G=0;G<g.length;G++)lr(c,g[G],v,I,$);return null}return v=ss(v),c&&c[Le]?c.K(g,v,m(I)?!!I.capture:!1,$):jn(c,g,v,!1,I,$)}function jn(c,g,v,I,$,G){if(!g)throw Error("Invalid event type");var ae=m($)?!!$.capture:!!$,Ge=li(c);if(Ge||(c[nn]=Ge=new en(c)),v=Ge.add(g,v,I,ae,G),v.proxy)return v;if(I=eo(),v.proxy=I,I.src=c,I.listener=v,c.addEventListener)Te||($=ae),$===void 0&&($=!1),c.addEventListener(g.toString(),I,$);else if(c.attachEvent)c.attachEvent(zn(g.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function eo(){function c(v){return g.call(c.src,c.listener,v)}const g=is;return c}function ai(c,g,v,I,$){if(Array.isArray(g))for(var G=0;G<g.length;G++)ai(c,g[G],v,I,$);else I=m(I)?!!I.capture:!!I,v=ss(v),c&&c[Le]?(c=c.i,g=String(g).toString(),g in c.g&&(G=c.g[g],v=tn(G,v,I,$),-1<v&&(tt(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete c.g[g],c.h--)))):c&&(c=li(c))&&(g=c.g[g.toString()],c=-1,g&&(c=tn(g,v,I,$)),(v=-1<c?g[c]:null)&&Bn(v))}function Bn(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Le])yn(g.i,c);else{var v=c.type,I=c.proxy;g.removeEventListener?g.removeEventListener(v,I,c.capture):g.detachEvent?g.detachEvent(zn(v),I):g.addListener&&g.removeListener&&g.removeListener(I),(v=li(g))?(yn(v,c),v.h==0&&(v.src=null,g[nn]=null)):tt(c)}}}function zn(c){return c in qe?qe[c]:qe[c]="on"+c}function is(c,g){if(c.da)c=!0;else{g=new ke(g,this);var v=c.listener,I=c.ha||c.src;c.fa&&Bn(c),c=v.call(I,g)}return c}function li(c){return c=c[nn],c instanceof en?c:null}var br="__closure_events_fn_"+(1e9*Math.random()>>>0);function ss(c){return typeof c=="function"?c:(c[br]||(c[br]=function(g){return c.handleEvent(g)}),c[br])}function we(){J.call(this),this.i=new en(this),this.M=this,this.F=null}C(we,J),we.prototype[Le]=!0,we.prototype.removeEventListener=function(c,g,v,I){ai(this,c,g,v,I)};function Ye(c,g){var v,I=c.F;if(I)for(v=[];I;I=I.F)v.push(I);if(c=c.M,I=g.type||g,typeof g=="string")g=new de(g,c);else if(g instanceof de)g.target=g.target||c;else{var $=g;g=new de(I,c),D(g,$)}if($=!0,v)for(var G=v.length-1;0<=G;G--){var ae=g.g=v[G];$=An(ae,I,!0,g)&&$}if(ae=g.g=c,$=An(ae,I,!0,g)&&$,$=An(ae,I,!1,g)&&$,v)for(G=0;G<v.length;G++)ae=g.g=v[G],$=An(ae,I,!1,g)&&$}we.prototype.N=function(){if(we.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],I=0;I<v.length;I++)tt(v[I]);delete c.g[g],c.h--}}this.F=null},we.prototype.K=function(c,g,v,I){return this.i.add(String(c),g,!1,v,I)},we.prototype.L=function(c,g,v,I){return this.i.add(String(c),g,!0,v,I)};function An(c,g,v,I){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var $=!0,G=0;G<g.length;++G){var ae=g[G];if(ae&&!ae.da&&ae.capture==v){var Ge=ae.listener,Et=ae.ha||ae.src;ae.fa&&yn(c.i,ae),$=Ge.call(Et,I)!==!1&&$}}return $&&!I.defaultPrevented}function Ra(c,g,v){if(typeof c=="function")v&&(c=T(c,v));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:f.setTimeout(c,g||0)}function ui(c){c.g=Ra(()=>{c.g=null,c.i&&(c.i=!1,ui(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class os extends J{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ui(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(c){J.call(this),this.h=c,this.g={}}C(as,J);var Ca=[];function Aa(c){oe(c.g,function(g,v){this.g.hasOwnProperty(v)&&Bn(g)},c),c.g={}}as.prototype.N=function(){as.aa.N.call(this),Aa(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ka=f.JSON.stringify,Pa=f.JSON.parse,xa=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function ls(){}ls.prototype.h=null;function to(c){return c.h||(c.h=c.i())}function no(){}var kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ur(){de.call(this,"d")}C(ur,de);function ro(){de.call(this,"c")}C(ro,de);var cr={},ba=null;function us(){return ba=ba||new we}cr.La="serverreachability";function Na(c){de.call(this,cr.La,c)}C(Na,de);function Nr(c){const g=us();Ye(g,new Na(g))}cr.STAT_EVENT="statevent";function Oa(c,g){de.call(this,cr.STAT_EVENT,c),this.stat=g}C(Oa,de);function ht(c){const g=us();Ye(g,new Oa(g,c))}cr.Ma="timingevent";function io(c,g){de.call(this,cr.Ma,c),this.size=g}C(io,de);function $n(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function cs(){this.g=!0}cs.prototype.xa=function(){this.g=!1};function ds(c,g,v,I,$,G){c.info(function(){if(c.g)if(G)for(var ae="",Ge=G.split("&"),Et=0;Et<Ge.length;Et++){var Be=Ge[Et].split("=");if(1<Be.length){var Ct=Be[0];Be=Be[1];var yt=Ct.split("_");ae=2<=yt.length&&yt[1]=="type"?ae+(Ct+"="+Be+"&"):ae+(Ct+"=redacted&")}}else ae=null;else ae=G;return"XMLHTTP REQ ("+I+") [attempt "+$+"]: "+g+`
`+v+`
`+ae})}function so(c,g,v,I,$,G,ae){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+$+"]: "+g+`
`+v+`
`+G+" "+ae})}function Hn(c,g,v,I){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ef(c,v)+(I?" "+I:"")})}function Da(c,g){c.info(function(){return"TIMEOUT: "+g})}cs.prototype.info=function(){};function ef(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var I=v[c];if(!(2>I.length)){var $=I[1];if(Array.isArray($)&&!(1>$.length)){var G=$[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ae=1;ae<$.length;ae++)$[ae]=""}}}}return ka(v)}catch{return g}}var oo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},au={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function fs(){}C(fs,ls),fs.prototype.g=function(){return new XMLHttpRequest},fs.prototype.i=function(){return{}},Wn=new fs;function qn(c,g,v,I){this.j=c,this.i=g,this.l=v,this.R=I||1,this.U=new as(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lu}function lu(){this.i=null,this.g="",this.h=!1}var La={},ao={};function lo(c,g,v){c.L=1,c.v=pi(vn(g)),c.m=v,c.P=!0,Va(c,null)}function Va(c,g){c.F=Date.now(),Ze(c),c.A=vn(c.v);var v=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),gi(v.i,"t",I),c.C=0,v=c.j.J,c.h=new lu,c.g=Cu(c.j,v?g:null,!c.m),0<c.O&&(c.M=new os(T(c.Y,c,c.g),c.O)),g=c.U,v=c.g,I=c.ca;var $="readystatechange";Array.isArray($)||($&&(Ca[0]=$.toString()),$=Ca);for(var G=0;G<$.length;G++){var ae=lr(v,$[G],I||g.handleEvent,!1,g.h||g);if(!ae)break;g.g[ae.key]=ae}g=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Nr(),ds(c.i,c.u,c.A,c.l,c.R,c.m)}qn.prototype.ca=function(c){c=c.target;const g=this.M;g&&sn(c)==3?g.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{const yt=sn(this.g);var g=this.g.Ba();const bn=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||za(this.g)))){this.J||yt!=4||g==7||(g==8||0>=bn?Nr(3):Nr(2)),hs(this);var v=this.g.Z();this.X=v;t:if(uu(this)){var I=za(this.g);c="";var $=I.length,G=sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pn(this),ci(this);var ae="";break t}this.h.i=new f.TextDecoder}for(g=0;g<$;g++)this.h.h=!0,c+=this.h.i.decode(I[g],{stream:!(G&&g==$-1)});I.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,so(this.i,this.u,this.A,this.l,this.R,yt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Et=this.g;if((Ge=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Ge)){var Be=Ge;break t}}Be=null}if(v=Be)Hn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ma(this,v);else{this.o=!1,this.s=3,ht(12),Pn(this),ci(this);break e}}if(this.P){v=!0;let wn;for(;!this.J&&this.C<ae.length;)if(wn=tf(this,ae),wn==ao){yt==4&&(this.s=4,ht(14),v=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==La){this.s=4,ht(15),Hn(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else Hn(this.i,this.l,wn,null),Ma(this,wn);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||ae.length!=0||this.h.h||(this.s=1,ht(16),v=!1),this.o=this.o&&v,!v)Hn(this.i,this.l,ae,"[Invalid Chunked Response]"),Pn(this),ci(this);else if(0<ae.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Ha(Ct),Ct.M=!0,ht(11))}}else Hn(this.i,this.l,ae,null),Ma(this,ae);yt==4&&Pn(this),this.o&&!this.J&&(yt==4?Eo(this.j,this):(this.o=!1,Ze(this)))}else mo(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),Pn(this),ci(this)}}}catch{}finally{}};function uu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function tf(c,g){var v=c.C,I=g.indexOf(`
`,v);return I==-1?ao:(v=Number(g.substring(v,I)),isNaN(v)?La:(I+=1,I+v>g.length?ao:(g=g.slice(I,I+v),c.C=I+v,g)))}qn.prototype.cancel=function(){this.J=!0,Pn(this)};function Ze(c){c.S=Date.now()+c.I,cu(c,c.I)}function cu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=$n(T(c.ba,c),g)}function hs(c){c.B&&(f.clearTimeout(c.B),c.B=null)}qn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Da(this.i,this.A),this.L!=2&&(Nr(),ht(17)),Pn(this),this.s=2,ci(this)):cu(this,this.S-c)};function ci(c){c.j.G==0||c.J||Eo(c.j,c)}function Pn(c){hs(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Aa(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Ma(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||Gt(v.h,c))){if(!c.K&&Gt(v.h,c)&&v.G==3){try{var I=v.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var $=I;if($[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)vo(v),Jn(v);else break e;_o(v),ht(18)}}else v.za=$[1],0<v.za-v.T&&37500>$[2]&&v.F&&v.v==0&&!v.C&&(v.C=$n(T(v.Za,v),6e3));if(1>=fu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Mr(v,11)}else if((c.K||v.g==c)&&vo(v),!j(g))for($=v.Da.g.parse(g),g=0;g<$.length;g++){let Be=$[g];if(v.T=Be[0],Be=Be[1],v.G==2)if(Be[0]=="c"){v.K=Be[1],v.ia=Be[2];const Ct=Be[3];Ct!=null&&(v.la=Ct,v.j.info("VER="+v.la));const yt=Be[4];yt!=null&&(v.Aa=yt,v.j.info("SVER="+v.Aa));const bn=Be[5];bn!=null&&typeof bn=="number"&&0<bn&&(I=1.5*bn,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const wn=c.g;if(wn){const Es=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Es){var G=I.h;G.g||Es.indexOf("spdy")==-1&&Es.indexOf("quic")==-1&&Es.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Fa(G,G.h),G.h=null))}if(I.D){const To=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;To&&(I.ya=To,Je(I.I,I.D,To))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var ae=c;if(I.qa=Ru(I,I.J?I.ia:null,I.W),ae.K){hu(I.h,ae);var Ge=ae,Et=I.L;Et&&(Ge.I=Et),Ge.B&&(hs(Ge),Ze(Ge)),I.g=ae}else vs(I);0<v.i.length&&pr(v)}else Be[0]!="stop"&&Be[0]!="close"||Mr(v,7);else v.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Mr(v,7):Nt(v):Be[0]!="noop"&&v.l&&v.l.ta(Be),v.v=0)}}Nr(4)}catch{}}var du=class{constructor(c,g){this.g=c,this.map=g}};function ps(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _n(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fu(c){return c.h?1:c.g?c.g.size:0}function Gt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Fa(c,g){c.g?c.g.add(g):c.h=g}function hu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}ps.prototype.cancel=function(){if(this.i=pu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function pu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return N(c.i)}function uo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(h(c)){for(var g=[],v=c.length,I=0;I<v;I++)g.push(c[I]);return g}g=[],v=0;for(I in c)g[v++]=c[I];return g}function co(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(h(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const I in c)g[v++]=I;return g}}}function di(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(h(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=co(c),I=uo(c),$=I.length,G=0;G<$;G++)g.call(void 0,I[G],v&&v[G],c)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nf(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var I=c[v].indexOf("="),$=null;if(0<=I){var G=c[v].substring(0,I);$=c[v].substring(I+1)}else G=c[v];g(G,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Or(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Or){this.h=c.h,gs(this,c.j),this.o=c.o,this.g=c.g,fi(this,c.s),this.l=c.l;var g=c.i,v=new dr;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),hi(this,v),this.m=c.m}else c&&(g=String(c).match(ms))?(this.h=!1,gs(this,g[1]||"",!0),this.o=Ue(g[2]||""),this.g=Ue(g[3]||"",!0),fi(this,g[4]),this.l=Ue(g[5]||"",!0),hi(this,g[6]||"",!0),this.m=Ue(g[7]||"")):(this.h=!1,this.i=new dr(null,this.h))}Or.prototype.toString=function(){var c=[],g=this.j;g&&c.push(mi(g,fo,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(mi(g,fo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(mi(v,v.charAt(0)=="/"?yu:gu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",mi(v,Ua)),c.join("")};function vn(c){return new Or(c)}function gs(c,g,v){c.j=v?Ue(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function fi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function hi(c,g,v){g instanceof dr?(c.i=g,fr(c.i,c.h)):(v||(g=mi(g,_u)),c.i=new dr(g,c.h))}function Je(c,g,v){c.i.set(g,v)}function pi(c){return Je(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ue(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function mi(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,mu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function mu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fo=/[#\/\?@]/g,gu=/[#\?:]/g,yu=/[#\?]/g,_u=/[#\?@]/g,Ua=/#/g;function dr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function bt(c){c.g||(c.g=new Map,c.h=0,c.i&&nf(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}n=dr.prototype,n.add=function(c,g){bt(this),this.i=null,c=xn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Kn(c,g){bt(c),g=xn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Gn(c,g){return bt(c),g=xn(c,g),c.g.has(g)}n.forEach=function(c,g){bt(this),this.g.forEach(function(v,I){v.forEach(function($){c.call(g,$,I,this)},this)},this)},n.na=function(){bt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let I=0;I<g.length;I++){const $=c[I];for(let G=0;G<$.length;G++)v.push(g[I])}return v},n.V=function(c){bt(this);let g=[];if(typeof c=="string")Gn(this,c)&&(g=g.concat(this.g.get(xn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},n.set=function(c,g){return bt(this),this.i=null,c=xn(this,c),Gn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function gi(c,g,v){Kn(c,g),0<v.length&&(c.i=null,c.g.set(xn(c,g),N(v)),c.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var I=g[v];const G=encodeURIComponent(String(I)),ae=this.V(I);for(I=0;I<ae.length;I++){var $=G;ae[I]!==""&&($+="="+encodeURIComponent(String(ae[I]))),c.push($)}}return this.i=c.join("&")};function xn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function fr(c,g){g&&!c.j&&(bt(c),c.i=null,c.g.forEach(function(v,I){var $=I.toLowerCase();I!=$&&(Kn(this,I),gi(this,$,v))},c)),c.j=g}function rf(c,g){const v=new cs;if(f.Image){const I=new Image;I.onload=b(rn,v,"TestLoadImage: loaded",!0,g,I),I.onerror=b(rn,v,"TestLoadImage: error",!1,g,I),I.onabort=b(rn,v,"TestLoadImage: abort",!1,g,I),I.ontimeout=b(rn,v,"TestLoadImage: timeout",!1,g,I),f.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else g(!1)}function vu(c,g){const v=new cs,I=new AbortController,$=setTimeout(()=>{I.abort(),rn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:I.signal}).then(G=>{clearTimeout($),G.ok?rn(v,"TestPingServer: ok",!0,g):rn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout($),rn(v,"TestPingServer: error",!1,g)})}function rn(c,g,v,I,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),I(v)}catch{}}function sf(){this.g=new xa}function Eu(c,g,v){const I=v||"";try{di(c,function($,G){let ae=$;m($)&&(ae=ka($)),g.push(I+G+"="+encodeURIComponent(ae))})}catch($){throw g.push(I+"type="+encodeURIComponent("_badmap")),$}}function Dr(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Dr,ls),Dr.prototype.g=function(){return new ys(this.l,this.j)},Dr.prototype.i=function(c){return function(){return c}}({});function ys(c,g){we.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(ys,we),n=ys.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Xn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||f).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function wu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Qn(this):Xn(this),this.readyState==3&&wu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Qn(this))},n.Qa=function(c){this.g&&(this.response=c,Qn(this))},n.ga=function(){this.g&&Qn(this)};function Qn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Xn(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Lr(c){let g="";return oe(c,function(v,I){g+=I,g+=":",g+=v,g+=`\r
`}),g}function yi(c,g,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=Lr(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Je(c,g,v))}function it(c){we.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(it,we);var of=/^https?$/i,ja=["POST","PUT"];n=it.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?to(this.o):to(Wn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){_s(this,G);return}if(c=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var $ in I)v.set($,I[$]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const G of I.keys())v.set(G,I.get(G));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),$=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ja,g,void 0))||I||$||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ae]of v)this.g.setRequestHeader(G,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{po(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){_s(this,G)}};function _s(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,ho(c),En(c)}function ho(c){c.A||(c.A=!0,Ye(c,"complete"),Ye(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ye(this,"complete"),Ye(this,"abort"),En(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),En(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ba(this):this.bb())},n.bb=function(){Ba(this)};function Ba(c){if(c.h&&typeof u<"u"&&(!c.v[1]||sn(c)!=4||c.Z()!=2)){if(c.u&&sn(c)==4)Ra(c.Ea,0,c);else if(Ye(c,"readystatechange"),sn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var I;if(I=ae===0){var $=String(c.D).match(ms)[1]||null;!$&&f.self&&f.self.location&&($=f.self.location.protocol.slice(0,-1)),I=!of.test($?$.toLowerCase():"")}v=I}if(v)Ye(c,"complete"),Ye(c,"success");else{c.m=6;try{var G=2<sn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",ho(c)}}finally{En(c)}}}}function En(c,g){if(c.g){po(c);const v=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ye(c,"ready");try{v.onreadystatechange=I}catch{}}}function po(c){c.I&&(f.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function sn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<sn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Pa(g)}};function za(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function mo(c){const g={};c=(c.g&&2<=sn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(j(c[I]))continue;var v=M(c[I]);const $=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=g[$]||[];g[$]=G,G.push(v)}P(g,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hr(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function $a(c){this.Aa=0,this.i=[],this.j=new cs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hr("baseRetryDelayMs",5e3,c),this.cb=hr("retryDelaySeedMs",1e4,c),this.Wa=hr("forwardChannelMaxRetries",2,c),this.wa=hr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ps(c&&c.concurrentRequestLimit),this.Da=new sf,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=$a.prototype,n.la=8,n.G=1,n.connect=function(c,g,v,I){ht(0),this.W=c,this.H=g||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=Ru(this,null,this.W),pr(this)};function Nt(c){if(go(c),c.G==3){var g=c.U++,v=vn(c.I);if(Je(v,"SID",c.K),Je(v,"RID",g),Je(v,"TYPE","terminate"),Vr(c,v),g=new qn(c,c.j,g),g.L=2,g.v=pi(vn(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.v,v=!0),v||(g.g=Cu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Ze(g)}Su(c)}function Jn(c){c.g&&(Ha(c),c.g.cancel(),c.g=null)}function go(c){Jn(c),c.u&&(f.clearTimeout(c.u),c.u=null),vo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function pr(c){if(!_n(c.h)&&!c.s){c.s=!0;var g=c.Ga;be||le(),ee||(be(),ee=!0),ge.add(g,c),c.B=0}}function af(c,g){return fu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=$n(T(c.Ga,c,g),Iu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const $=new qn(this,this.j,c);let G=this.o;if(this.S&&(G?(G=R(G),D(G,this.S)):G=this.S),this.m!==null||this.O||($.H=G,G=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=_i(this,$,g),v=vn(this.I),Je(v,"RID",c),Je(v,"CVER",22),this.D&&Je(v,"X-HTTP-Session-Id",this.D),Vr(this,v),G&&(this.O?g="headers="+encodeURIComponent(String(Lr(G)))+"&"+g:this.m&&yi(v,this.m,G)),Fa(this.h,$),this.Ua&&Je(v,"TYPE","init"),this.P?(Je(v,"$req",g),Je(v,"SID","null"),$.T=!0,lo($,v,null)):lo($,v,g),this.G=2}}else this.G==3&&(c?yo(this,c):this.i.length==0||_n(this.h)||yo(this))};function yo(c,g){var v;g?v=g.l:v=c.U++;const I=vn(c.I);Je(I,"SID",c.K),Je(I,"RID",v),Je(I,"AID",c.T),Vr(c,I),c.m&&c.o&&yi(I,c.m,c.o),v=new qn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=_i(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Fa(c.h,v),lo(v,I,g)}function Vr(c,g){c.H&&oe(c.H,function(v,I){Je(g,I,v)}),c.l&&di({},function(v,I){Je(g,I,v)})}function _i(c,g,v){v=Math.min(c.i.length,v);var I=c.l?T(c.l.Na,c.l,c):null;e:{var $=c.i;let G=-1;for(;;){const ae=["count="+v];G==-1?0<v?(G=$[0].g,ae.push("ofs="+G)):G=0:ae.push("ofs="+G);let Ge=!0;for(let Et=0;Et<v;Et++){let Be=$[Et].g;const Ct=$[Et].map;if(Be-=G,0>Be)G=Math.max(0,$[Et].g-100),Ge=!1;else try{Eu(Ct,ae,"req"+Be+"_")}catch{I&&I(Ct)}}if(Ge){I=ae.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,I}function vs(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;be||le(),ee||(be(),ee=!0),ge.add(g,c),c.v=0}}function _o(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=$n(T(c.Fa,c),Iu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=$n(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),Jn(this),Tu(this))};function Ha(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function Tu(c){c.g=new qn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=vn(c.qa);Je(g,"RID","rpc"),Je(g,"SID",c.K),Je(g,"AID",c.T),Je(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Je(g,"TO",c.ja),Je(g,"TYPE","xmlhttp"),Vr(c,g),c.m&&c.o&&yi(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=pi(vn(g)),v.m=null,v.P=!0,Va(v,c)}n.Za=function(){this.C!=null&&(this.C=null,Jn(this),_o(this),ht(19))};function vo(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Eo(c,g){var v=null;if(c.g==g){vo(c),Ha(c),c.g=null;var I=2}else if(Gt(c.h,g))v=g.D,hu(c.h,g),I=1;else return;if(c.G!=0){if(g.o)if(I==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var $=c.B;I=us(),Ye(I,new io(I,v)),pr(c)}else vs(c);else if($=g.s,$==3||$==0&&0<g.X||!(I==1&&af(c,g)||I==2&&_o(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),$){case 1:Mr(c,5);break;case 4:Mr(c,10);break;case 3:Mr(c,6);break;default:Mr(c,2)}}}function Iu(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function Mr(c,g){if(c.j.info("Error code "+g),g==2){var v=T(c.fb,c),I=c.Xa;const $=!I;I=new Or(I||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||gs(I,"https"),pi(I),$?rf(I.toString(),v):vu(I.toString(),v)}else ht(2);c.G=0,c.l&&c.l.sa(g),Su(c),go(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Su(c){if(c.G=0,c.ka=[],c.l){const g=pu(c.h);(g.length!=0||c.i.length!=0)&&(S(c.ka,g),S(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function Ru(c,g,v){var I=v instanceof Or?vn(v):new Or(v);if(I.g!="")g&&(I.g=g+"."+I.g),fi(I,I.s);else{var $=f.location;I=$.protocol,g=g?g+"."+$.hostname:$.hostname,$=+$.port;var G=new Or(null);I&&gs(G,I),g&&(G.g=g),$&&fi(G,$),v&&(G.l=v),I=G}return v=c.D,g=c.ya,v&&g&&Je(I,v,g),Je(I,"VER",c.la),Vr(c,I),I}function Cu(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new it(new Dr({eb:v})):new it(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wa(){}n=Wa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function wo(){}wo.prototype.g=function(c,g){return new Qt(c,g)};function Qt(c,g){we.call(this),this.g=new $a(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!j(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!j(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new mr(this)}C(Qt,we),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){Nt(this.g)},Qt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=ka(c),c=v);g.i.push(new du(g.Ya++,c)),g.G==3&&pr(g)},Qt.prototype.N=function(){this.g.l=null,delete this.j,Nt(this.g),delete this.g,Qt.aa.N.call(this)};function Au(c){ur.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}C(Au,ur);function ku(){ro.call(this),this.status=1}C(ku,ro);function mr(c){this.g=c}C(mr,Wa),mr.prototype.ua=function(){Ye(this.g,"a")},mr.prototype.ta=function(c){Ye(this.g,new Au(c))},mr.prototype.sa=function(c){Ye(this.g,new ku)},mr.prototype.ra=function(){Ye(this.g,"b")},wo.prototype.createWebChannel=wo.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,Rw=function(){return new wo},Sw=function(){return us()},Iw=cr,Sp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oo.NO_ERROR=0,oo.TIMEOUT=8,oo.HTTP_ERROR=6,Oc=oo,au.COMPLETE="complete",Tw=au,no.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",we.prototype.listen=we.prototype.K,Il=no,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,ww=it}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const rv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _a="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new dm("@firebase/firestore");function Ko(){return Hs.logLevel}function ce(n,...e){if(Hs.logLevel<=Ve.DEBUG){const t=e.map(pm);Hs.debug(`Firestore (${_a}): ${n}`,...t)}}function ei(n,...e){if(Hs.logLevel<=Ve.ERROR){const t=e.map(pm);Hs.error(`Firestore (${_a}): ${n}`,...t)}}function ra(n,...e){if(Hs.logLevel<=Ve.WARN){const t=e.map(pm);Hs.warn(`Firestore (${_a}): ${n}`,...t)}}function pm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n="Unexpected state"){const e=`FIRESTORE (${_a}) INTERNAL ASSERTION FAILED: `+n;throw ei(e),new Error(e)}function Ke(n,e){n||Re()}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends oi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ak{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ht.UNAUTHENTICATED))}shutdown(){}}class kk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Pk{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0);let r=this.i;const o=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Jr,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await o(this.currentUser)})},f=h=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>f(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Jr)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string"),new Cw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new Ht(e)}}class xk{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class bk{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new xk(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Nk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ok{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ke(this.o===void 0);const r=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke(typeof t.token=="string"),this.R=t.token,new Nk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=Dk(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%e.length))}return r}}function je(n,e){return n<e?-1:n>e?1:0}function ia(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new St(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new St(0,0))}static max(){return new Ce(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Re(),r===void 0?r=e.length-t:r>e.length-t&&Re(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return wr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=wr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=wr.isNumericId(e),o=wr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?wr.extractNumericId(e).compare(wr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zi.fromString(e.substring(4,e.length-2))}}class ot extends wr{construct(e,t,r){return new ot(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new ot(t)}static emptyPath(){return new ot([])}}const Lk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends wr{construct(e,t,r){return new Mt(e,t,r)}static isValidIdentifier(e){return Lk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Mt(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new ye(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ye(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ye(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(r+=f,o++):(a(),o++)}if(a(),u)throw new ye(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(t)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ot.fromString(e))}static fromName(e){return new Ee(ot.fromString(e).popFirst(5))}static empty(){return new Ee(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ot(e.slice()))}}function Vk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(r===1e9?new St(t+1,0):new St(t,r));return new qi(o,Ee.empty(),e)}function Mk(n){return new qi(n.readTime,n.key,-1)}class qi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new qi(Ce.min(),Ee.empty(),-1)}static max(){return new qi(Ce.max(),Ee.empty(),-1)}}function Fk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function va(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==Uk)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.reject(t)}static resolve(e){return new Y((t,r)=>{t(e)})}static reject(e){return new Y((t,r)=>{r(e)})}static waitFor(e){return new Y((t,r)=>{let o=0,a=0,u=!1;e.forEach(f=>{++o,f.next(()=>{++a,u&&a===o&&t()},h=>r(h))}),u=!0,a===o&&t()})}static or(e){let t=Y.resolve(!1);for(const r of e)t=t.next(o=>o?Y.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new Y((r,o)=>{const a=e.length,u=new Array(a);let f=0;for(let h=0;h<a;h++){const m=h;t(e[m]).next(_=>{u[m]=_,++f,f===a&&r(u)},_=>o(_))}})}static doWhile(e,t){return new Y((r,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):r()};a()})}}function Bk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ea(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Sd.oe=-1;function Rd(n){return n==null}function Zc(n){return n===0&&1/n==-1/0}function zk(n){return typeof n=="number"&&Number.isInteger(n)&&!Zc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=iv(e)),e=Hk(n.get(t),e);return iv(e)}function Hk(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function iv(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Yi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function kw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||Vt.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cc(this.root,e,this.comparator,!0)}}class Cc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Vt.RED,this.left=o??Vt.EMPTY,this.right=a??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Vt(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Vt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,t,r,o,a){return this}insert(e,t,r){return new Vt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ov(this.data.getIterator())}getIteratorFrom(e){return new ov(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Rt(this.comparator);return t.data=e,t}}class ov{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new Rn([])}unionWith(e){let t=new Rt(Mt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Rn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ia(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Pw("Invalid base64 string: "+a):a}}(e);return new Ft(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Ft(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const Wk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ki(n){if(Ke(!!n),typeof n=="string"){let e=0;const t=Wk.exec(n);if(Ke(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(n.seconds),nanos:mt(n.nanos)}}function mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Gi(n){return typeof n=="string"?Ft.fromBase64String(n):Ft.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Cd(n){const e=n.mapValue.fields.__previous_value__;return mm(e)?Cd(e):e}function Dl(n){const e=Ki(n.mapValue.fields.__local_write_time__.timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,t,r,o,a,u,f,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=m}}class Ll{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?mm(n)?4:Gk(n)?9007199254740991:Kk(n)?10:11:Re()}function Ar(n,e){if(n===e)return!0;const t=Qi(n);if(t!==Qi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Dl(n).isEqual(Dl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Ki(o.timestampValue),f=Ki(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Gi(o.bytesValue).isEqual(Gi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return mt(o.geoPointValue.latitude)===mt(a.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return mt(o.integerValue)===mt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=mt(o.doubleValue),f=mt(a.doubleValue);return u===f?Zc(u)===Zc(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return ia(n.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},f=a.mapValue.fields||{};if(sv(u)!==sv(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!Ar(u[h],f[h])))return!1;return!0}(n,e);default:return Re()}}function Vl(n,e){return(n.values||[]).find(t=>Ar(t,e))!==void 0}function sa(n,e){if(n===e)return 0;const t=Qi(n),r=Qi(e);if(t!==r)return je(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(n.booleanValue,e.booleanValue);case 2:return function(a,u){const f=mt(a.integerValue||a.doubleValue),h=mt(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1}(n,e);case 3:return av(n.timestampValue,e.timestampValue);case 4:return av(Dl(n),Dl(e));case 5:return je(n.stringValue,e.stringValue);case 6:return function(a,u){const f=Gi(a),h=Gi(u);return f.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),h=u.split("/");for(let m=0;m<f.length&&m<h.length;m++){const _=je(f[m],h[m]);if(_!==0)return _}return je(f.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const f=je(mt(a.latitude),mt(u.latitude));return f!==0?f:je(mt(a.longitude),mt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return lv(n.arrayValue,e.arrayValue);case 10:return function(a,u){var f,h,m,_;const w=a.fields||{},T=u.fields||{},b=(f=w.value)===null||f===void 0?void 0:f.arrayValue,C=(h=T.value)===null||h===void 0?void 0:h.arrayValue,N=je(((m=b==null?void 0:b.values)===null||m===void 0?void 0:m.length)||0,((_=C==null?void 0:C.values)===null||_===void 0?void 0:_.length)||0);return N!==0?N:lv(b,C)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Ac.mapValue&&u===Ac.mapValue)return 0;if(a===Ac.mapValue)return 1;if(u===Ac.mapValue)return-1;const f=a.fields||{},h=Object.keys(f),m=u.fields||{},_=Object.keys(m);h.sort(),_.sort();for(let w=0;w<h.length&&w<_.length;++w){const T=je(h[w],_[w]);if(T!==0)return T;const b=sa(f[h[w]],m[_[w]]);if(b!==0)return b}return je(h.length,_.length)}(n.mapValue,e.mapValue);default:throw Re()}}function av(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return je(n,e);const t=Ki(n),r=Ki(e),o=je(t.seconds,r.seconds);return o!==0?o:je(t.nanos,r.nanos)}function lv(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=sa(t[o],r[o]);if(a)return a}return je(t.length,r.length)}function oa(n){return Rp(n)}function Rp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ki(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Gi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=Rp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${Rp(t.fields[u])}`;return o+"}"}(n.mapValue):Re()}function Dc(n){switch(Qi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cd(n);return e?16+Dc(e):16;case 5:return 2*n.stringValue.length;case 6:return Gi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+Dc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return Yi(r.fields,(a,u)=>{o+=a.length+Dc(u)}),o}(n.mapValue);default:throw Re()}}function Cp(n){return!!n&&"integerValue"in n}function gm(n){return!!n&&"arrayValue"in n}function uv(n){return!!n&&"nullValue"in n}function cv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Lc(n){return!!n&&"mapValue"in n}function Kk(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Al(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Yi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Al(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Al(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Gk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Lc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Al(t)}setAll(e){let t=Mt.emptyPath(),r={},o=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,r,o),r={},o=[],t=f.popLast()}u?r[f.lastSegment()]=Al(u):o.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Lc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Lc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Yi(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new hn(Al(this.value))}}function xw(n){const e=[];return Yi(n.fields,(t,r)=>{const o=new Mt([t]);if(Lc(r)){const a=xw(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,r,o,a,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Wt(e,0,Ce.min(),Ce.min(),Ce.min(),hn.empty(),0)}static newFoundDocument(e,t,r,o){return new Wt(e,1,t,Ce.min(),r,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,Ce.min(),Ce.min(),hn.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,Ce.min(),Ce.min(),hn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t){this.position=e,this.inclusive=t}}function dv(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=Ee.comparator(Ee.fromName(u.referenceValue),t.key):r=sa(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function fv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ar(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,t="asc"){this.field=e,this.dir=t}}function Qk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{}class It extends bw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Jk(e,t,r):t==="array-contains"?new eP(e,r):t==="in"?new tP(e,r):t==="not-in"?new nP(e,r):t==="array-contains-any"?new rP(e,r):new It(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Yk(e,r):new Zk(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(sa(t,this.value)):t!==null&&Qi(this.value)===Qi(t)&&this.matchesComparison(sa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends bw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new kr(e,t)}matches(e){return Nw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Nw(n){return n.op==="and"}function Ow(n){return Xk(n)&&Nw(n)}function Xk(n){for(const e of n.filters)if(e instanceof kr)return!1;return!0}function Ap(n){if(n instanceof It)return n.field.canonicalString()+n.op.toString()+oa(n.value);if(Ow(n))return n.filters.map(e=>Ap(e)).join(",");{const e=n.filters.map(t=>Ap(t)).join(",");return`${n.op}(${e})`}}function Dw(n,e){return n instanceof It?function(r,o){return o instanceof It&&r.op===o.op&&r.field.isEqual(o.field)&&Ar(r.value,o.value)}(n,e):n instanceof kr?function(r,o){return o instanceof kr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,f)=>a&&Dw(u,o.filters[f]),!0):!1}(n,e):void Re()}function Lw(n){return n instanceof It?function(t){return`${t.field.canonicalString()} ${t.op} ${oa(t.value)}`}(n):n instanceof kr?function(t){return t.op.toString()+" {"+t.getFilters().map(Lw).join(" ,")+"}"}(n):"Filter"}class Jk extends It{constructor(e,t,r){super(e,t,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class Yk extends It{constructor(e,t){super(e,"in",t),this.keys=Vw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Zk extends It{constructor(e,t){super(e,"not-in",t),this.keys=Vw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Vw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class eP extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gm(t)&&Vl(t.arrayValue,this.value)}}class tP extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Vl(this.value.arrayValue,t)}}class nP extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Vl(this.value.arrayValue,t)}}class rP extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Vl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,t=null,r=[],o=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=f,this.ue=null}}function hv(n,e=null,t=[],r=[],o=null,a=null,u=null){return new iP(n,e,t,r,o,a,u)}function ym(n){const e=Pe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Ap(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Rd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>oa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>oa(r)).join(",")),e.ue=t}return e.ue}function _m(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Qk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Dw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!fv(n.startAt,e.startAt)&&fv(n.endAt,e.endAt)}function kp(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t=null,r=[],o=[],a=null,u="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function sP(n,e,t,r,o,a,u,f){return new Ad(n,e,t,r,o,a,u,f)}function vm(n){return new Ad(n)}function pv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function oP(n){return n.collectionGroup!==null}function kl(n){const e=Pe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Rt(Mt.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new td(a,r))}),t.has(Mt.keyField().canonicalString())||e.ce.push(new td(Mt.keyField(),r))}return e.ce}function Ir(n){const e=Pe(n);return e.le||(e.le=aP(e,kl(n))),e.le}function aP(n,e){if(n.limitType==="F")return hv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new td(o.field,a)});const t=n.endAt?new ed(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ed(n.startAt.position,n.startAt.inclusive):null;return hv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Pp(n,e,t){return new Ad(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kd(n,e){return _m(Ir(n),Ir(e))&&n.limitType===e.limitType}function Mw(n){return`${ym(Ir(n))}|lt:${n.limitType}`}function Go(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>Lw(o)).join(", ")}]`),Rd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>oa(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>oa(o)).join(",")),`Target(${r})`}(Ir(n))}; limitType=${n.limitType})`}function Pd(n,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ee.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,o){for(const a of kl(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(u,f,h){const m=dv(u,f,h);return u.inclusive?m<=0:m<0}(r.startAt,kl(r),o)||r.endAt&&!function(u,f,h){const m=dv(u,f,h);return u.inclusive?m>=0:m>0}(r.endAt,kl(r),o))}(n,e)}function lP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Fw(n){return(e,t)=>{let r=!1;for(const o of kl(n)){const a=uP(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function uP(n,e,t){const r=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(a,u,f){const h=u.data.field(a),m=f.data.field(a);return h!==null&&m!==null?sa(h,m):Re()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Yi(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return kw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=new dt(Ee.comparator);function ti(){return cP}const Uw=new dt(Ee.comparator);function Sl(...n){let e=Uw;for(const t of n)e=e.insert(t.key,t);return e}function jw(n){let e=Uw;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ms(){return Pl()}function Bw(){return Pl()}function Pl(){return new Xs(n=>n.toString(),(n,e)=>n.isEqual(e))}const dP=new dt(Ee.comparator),fP=new Rt(Ee.comparator);function Me(...n){let e=fP;for(const t of n)e=e.add(t);return e}const hP=new Rt(je);function pP(){return hP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(e)?"-0":e}}function zw(n){return{integerValue:""+n}}function mP(n,e){return zk(e)?zw(e):Em(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(){this._=void 0}}function gP(n,e,t){return n instanceof nd?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&mm(a)&&(a=Cd(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof Ml?Hw(n,e):n instanceof Fl?Ww(n,e):function(o,a){const u=$w(o,a),f=mv(u)+mv(o.Pe);return Cp(u)&&Cp(o.Pe)?zw(f):Em(o.serializer,f)}(n,e)}function yP(n,e,t){return n instanceof Ml?Hw(n,e):n instanceof Fl?Ww(n,e):t}function $w(n,e){return n instanceof rd?function(r){return Cp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class nd extends xd{}class Ml extends xd{constructor(e){super(),this.elements=e}}function Hw(n,e){const t=qw(e);for(const r of n.elements)t.some(o=>Ar(o,r))||t.push(r);return{arrayValue:{values:t}}}class Fl extends xd{constructor(e){super(),this.elements=e}}function Ww(n,e){let t=qw(e);for(const r of n.elements)t=t.filter(o=>!Ar(o,r));return{arrayValue:{values:t}}}class rd extends xd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function mv(n){return mt(n.integerValue||n.doubleValue)}function qw(n){return gm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function _P(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof Ml&&o instanceof Ml||r instanceof Fl&&o instanceof Fl?ia(r.elements,o.elements,Ar):r instanceof rd&&o instanceof rd?Ar(r.Pe,o.Pe):r instanceof nd&&o instanceof nd}(n.transform,e.transform)}class vP{constructor(e,t){this.version=e,this.transformResults=t}}class Fn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class bd{}function Kw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new wm(n.key,Fn.none()):new Gl(n.key,n.data,Fn.none());{const t=n.data,r=hn.empty();let o=new Rt(Mt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new Zi(n.key,r,new Rn(o.toArray()),Fn.none())}}function EP(n,e,t){n instanceof Gl?function(o,a,u){const f=o.value.clone(),h=yv(o.fieldTransforms,a,u.transformResults);f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Zi?function(o,a,u){if(!Vc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const f=yv(o.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(Gw(o)),h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function xl(n,e,t,r){return n instanceof Gl?function(a,u,f,h){if(!Vc(a.precondition,u))return f;const m=a.value.clone(),_=_v(a.fieldTransforms,h,u);return m.setAll(_),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof Zi?function(a,u,f,h){if(!Vc(a.precondition,u))return f;const m=_v(a.fieldTransforms,h,u),_=u.data;return _.setAll(Gw(a)),_.setAll(m),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,u,f){return Vc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function wP(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=$w(r.transform,o||null);a!=null&&(t===null&&(t=hn.empty()),t.set(r.field,a))}return t||null}function gv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ia(r,o,(a,u)=>_P(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Gl extends bd{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zi extends bd{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Gw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function yv(n,e,t){const r=new Map;Ke(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,f=e.data.field(a.field);r.set(a.field,yP(u,f,t[o]))}return r}function _v(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,gP(a,u,e))}return r}class wm extends bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TP extends bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&EP(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=xl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=xl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Bw();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(o.key)?null:f;const h=Kw(u,f);h!==null&&r.set(o.key,h),u.isValidDocument()||u.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&ia(this.mutations,e.mutations,(t,r)=>gv(t,r))&&ia(this.baseMutations,e.baseMutations,(t,r)=>gv(t,r))}}class Tm{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Ke(e.mutations.length===r.length);let o=function(){return dP}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new Tm(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,ze;function CP(n){switch(n){default:return Re();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function Qw(n){if(n===void 0)return ei("GRPC error has no .code"),ne.UNKNOWN;switch(n){case vt.OK:return ne.OK;case vt.CANCELLED:return ne.CANCELLED;case vt.UNKNOWN:return ne.UNKNOWN;case vt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case vt.INTERNAL:return ne.INTERNAL;case vt.UNAVAILABLE:return ne.UNAVAILABLE;case vt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case vt.NOT_FOUND:return ne.NOT_FOUND;case vt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case vt.ABORTED:return ne.ABORTED;case vt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case vt.DATA_LOSS:return ne.DATA_LOSS;default:return Re()}}(ze=vt||(vt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=new zi([4294967295,4294967295],0);function vv(n){const e=AP().encode(n),t=new Ew;return t.update(e),new Uint8Array(t.digest())}function Ev(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new zi([t,r],0),new zi([o,a],0)]}class Im{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Rl(`Invalid padding: ${t}`);if(r<0)throw new Rl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=zi.fromNumber(this.Te)}de(e,t,r){let o=e.add(t.multiply(zi.fromNumber(r)));return o.compare(kP)===1&&(o=new zi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=vv(e),[r,o]=Ev(t);for(let a=0;a<this.hashCount;a++){const u=this.de(r,o,a);if(!this.Ee(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Im(a,o,t);return r.forEach(f=>u.insert(f)),u}insert(e){if(this.Te===0)return;const t=vv(e),[r,o]=Ev(t);for(let a=0;a<this.hashCount;a++){const u=this.de(r,o,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Ql.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Nd(Ce.min(),o,new dt(je),ti(),Me())}}class Ql{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ql(r,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,t,r,o){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=o}}class Xw{constructor(e,t){this.targetId=e,this.me=t}}class Jw{constructor(e,t,r=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class wv{constructor(){this.fe=0,this.ge=Tv(),this.pe=Ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Me(),t=Me(),r=Me();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Re()}}),new Ql(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Tv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class PP{constructor(e){this.Be=e,this.Le=new Map,this.ke=ti(),this.qe=kc(),this.Qe=kc(),this.Ke=new dt(je)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Re()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((r,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,r=e.me.count,o=this.Ye(t);if(o){const a=o.target;if(kp(a))if(r===0){const u=new Ee(a.path);this.We(t,u,Wt.newNoDocument(u,Ce.min()))}else Ke(r===1);else{const u=this.Ze(t);if(u!==r){const f=this.Xe(e),h=f?this.et(f,e,u):1;if(h!==0){this.He(t);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,f;try{u=Gi(r).toUint8Array()}catch(h){if(h instanceof Pw)return ra("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new Im(u,o,a)}catch(h){return ra(h instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.Te===0?null:f}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Be.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const u=this.Be.nt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.We(t,a,null),o++)}),o}it(e){const t=new Map;this.Le.forEach((a,u)=>{const f=this.Ye(u);if(f){if(a.current&&kp(f.target)){const h=new Ee(f.target.path);this.st(h).has(u)||this.ot(u,h)||this.We(u,h,Wt.newNoDocument(h,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let r=Me();this.Qe.forEach((a,u)=>{let f=!0;u.forEachWhile(h=>{const m=this.Ye(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const o=new Nd(e,t,this.Ke,this.ke,r);return this.ke=ti(),this.qe=kc(),this.Qe=kc(),this.Ke=new dt(je),o}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new wv,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Rt(je),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Rt(je),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new wv),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function kc(){return new dt(Ee.comparator)}function Tv(){return new dt(Ee.comparator)}const xP={asc:"ASCENDING",desc:"DESCENDING"},bP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NP={and:"AND",or:"OR"};class OP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xp(n,e){return n.useProto3Json||Rd(e)?e:{value:e}}function id(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function DP(n,e){return id(n,e.toTimestamp())}function Sr(n){return Ke(!!n),Ce.fromTimestamp(function(t){const r=Ki(t);return new St(r.seconds,r.nanos)}(n))}function Sm(n,e){return bp(n,e).canonicalString()}function bp(n,e){const t=function(o){return new ot(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Zw(n){const e=ot.fromString(n);return Ke(iT(e)),e}function Np(n,e){return Sm(n.databaseId,e.path)}function Zh(n,e){const t=Zw(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(tT(t))}function eT(n,e){return Sm(n.databaseId,e)}function LP(n){const e=Zw(n);return e.length===4?ot.emptyPath():tT(e)}function Op(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tT(n){return Ke(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Iv(n,e,t){return{name:Np(n,e),fields:t.value.mapValue.fields}}function VP(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,_){return m.useProto3Json?(Ke(_===void 0||typeof _=="string"),Ft.fromBase64String(_||"")):(Ke(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Ft.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(m){const _=m.code===void 0?ne.UNKNOWN:Qw(m.code);return new ye(_,m.message||"")}(u);t=new Jw(r,o,a,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Zh(n,r.document.name),a=Sr(r.document.updateTime),u=r.document.createTime?Sr(r.document.createTime):Ce.min(),f=new hn({mapValue:{fields:r.document.fields}}),h=Wt.newFoundDocument(o,a,u,f),m=r.targetIds||[],_=r.removedTargetIds||[];t=new Mc(m,_,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Zh(n,r.document),a=r.readTime?Sr(r.readTime):Ce.min(),u=Wt.newNoDocument(o,a),f=r.removedTargetIds||[];t=new Mc([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Zh(n,r.document),a=r.removedTargetIds||[];t=new Mc([],a,o,null)}else{if(!("filter"in e))return Re();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new RP(o,a),f=r.targetId;t=new Xw(f,u)}}return t}function MP(n,e){let t;if(e instanceof Gl)t={update:Iv(n,e.key,e.value)};else if(e instanceof wm)t={delete:Np(n,e.key)};else if(e instanceof Zi)t={update:Iv(n,e.key,e.data),updateMask:qP(e.fieldMask)};else{if(!(e instanceof TP))return Re();t={verify:Np(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const f=u.transform;if(f instanceof nd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ml)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Fl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof rd)return{fieldPath:u.field.canonicalString(),increment:f.Pe};throw Re()}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:DP(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Re()}(n,e.precondition)),t}function FP(n,e){return n&&n.length>0?(Ke(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?Sr(o.updateTime):Sr(a);return u.isEqual(Ce.min())&&(u=Sr(a)),new vP(u,o.transformResults||[])}(t,e))):[]}function UP(n,e){return{documents:[eT(n,e.path)]}}function jP(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=eT(n,o);const a=function(m){if(m.length!==0)return rT(kr.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(_=>function(T){return{field:Qo(T.field),direction:$P(T.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=xp(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ct:t,parent:o}}function BP(n){let e=LP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Ke(r===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(w){const T=nT(w);return T instanceof kr&&Ow(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(T=>function(C){return new td(Xo(C.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(T))}(t.orderBy));let f=null;t.limit&&(f=function(w){let T;return T=typeof w=="object"?w.value:w,Rd(T)?null:T}(t.limit));let h=null;t.startAt&&(h=function(w){const T=!!w.before,b=w.values||[];return new ed(b,T)}(t.startAt));let m=null;return t.endAt&&(m=function(w){const T=!w.before,b=w.values||[];return new ed(b,T)}(t.endAt)),sP(e,o,u,a,f,"F",h,m)}function zP(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function nT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Xo(t.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Xo(t.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Xo(t.unaryFilter.field);return It.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Xo(t.unaryFilter.field);return It.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(n):n.fieldFilter!==void 0?function(t){return It.create(Xo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return kr.create(t.compositeFilter.filters.map(r=>nT(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re()}}(t.compositeFilter.op))}(n):Re()}function $P(n){return xP[n]}function HP(n){return bP[n]}function WP(n){return NP[n]}function Qo(n){return{fieldPath:n.canonicalString()}}function Xo(n){return Mt.fromServerFormat(n.fieldPath)}function rT(n){return n instanceof It?function(t){if(t.op==="=="){if(cv(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NAN"}};if(uv(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(cv(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NAN"}};if(uv(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(t.field),op:HP(t.op),value:t.value}}}(n):n instanceof kr?function(t){const r=t.getFilters().map(o=>rT(o));return r.length===1?r[0]:{compositeFilter:{op:WP(t.op),filters:r}}}(n):Re()}function qP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function iT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,t,r,o,a=Ce.min(),u=Ce.min(),f=Ft.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.ht=e}}function GP(n){const e=BP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Pp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(){this.ln=new XP}addToCollectionParentIndex(e,t){return this.ln.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(qi.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(qi.min())}updateCollectionGroup(e,t,r){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class XP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Rt(ot.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Rt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(41943040,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new aa(0)}static Qn(){return new aa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv([n,e],[t,r]){const o=je(n,t);return o===0?je(e,r):o}class JP{constructor(e){this.Gn=e,this.buffer=new Rt(Rv),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Rv(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class YP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ce("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ea(t)?ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await va(t)}await this.Yn(3e5)})}}class ZP{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Y.resolve(Sd.oe);const r=new JP(t);return this.Zn.forEachTarget(e,o=>r.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>r.Hn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Sv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sv):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,o,a,u,f,h,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(r=w,f=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(m=Date.now(),Ko()<=Ve.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${a} targets in `+(h-f)+`ms
	Removed ${w} documents in `+(m-h)+`ms
Total Duration: ${m-_}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w})))}}function ex(n,e){return new ZP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.changes=new Xs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Y.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&xl(r.mutation,o,Rn.empty(),St.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Me()){const o=Ms();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let u=Sl();return a.forEach((f,h)=>{u=u.insert(f,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Ms();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Me()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,o){let a=ti();const u=Pl(),f=function(){return Pl()}();return t.forEach((h,m)=>{const _=r.get(m.key);o.has(m.key)&&(_===void 0||_.mutation instanceof Zi)?a=a.insert(m.key,m):_!==void 0?(u.set(m.key,_.mutation.getFieldMask()),xl(_.mutation,m,_.mutation.getFieldMask(),St.now())):u.set(m.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((m,_)=>u.set(m,_)),t.forEach((m,_)=>{var w;return f.set(m,new nx(_,(w=u.get(m))!==null&&w!==void 0?w:null))}),f))}recalculateAndSaveOverlays(e,t){const r=Pl();let o=new dt((u,f)=>u-f),a=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(h=>{const m=t.get(h);if(m===null)return;let _=r.get(h)||Rn.empty();_=f.applyToLocalView(m,_),r.set(h,_);const w=(o.get(f.batchId)||Me()).add(h);o=o.insert(f.batchId,w)})}).next(()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),m=h.key,_=h.value,w=Bw();_.forEach(T=>{if(!a.has(T)){const b=Kw(t.get(T),r.get(T));b!==null&&w.set(T,b),a=a.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,w))}return Y.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(u){return Ee.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):oP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):Y.resolve(Ms());let f=-1,h=a;return u.next(m=>Y.forEach(m,(_,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),a.get(_)?Y.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{h=h.insert(_,T)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,h,m,Me())).next(_=>({batchId:f,changes:jw(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(r=>{let o=Sl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=Sl();return this.indexManager.getCollectionParents(e,a).next(f=>Y.forEach(f,h=>{const m=function(w,T){return new Ad(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(_=>{_.forEach((w,T)=>{u=u.insert(w,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o))).next(u=>{a.forEach((h,m)=>{const _=m.getKey();u.get(_)===null&&(u=u.insert(_,Wt.newInvalidDocument(_)))});let f=Sl();return u.forEach((h,m)=>{const _=a.get(h);_!==void 0&&xl(_.mutation,m,Rn.empty(),St.now()),Pd(t,m)&&(f=f.insert(h,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Y.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Sr(o.createTime)}}(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:GP(o.bundledQuery),readTime:Sr(o.readTime)}}(t)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.overlays=new dt(Ee.comparator),this.dr=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ms();return Y.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.Tt(e,t,a)}),Y.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.dr.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.dr.delete(r)),Y.resolve()}getOverlaysForCollection(e,t,r){const o=Ms(),a=t.length+1,u=new Ee(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,m=h.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&h.largestBatchId>r&&o.set(h.getKey(),h)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new dt((m,_)=>m-_);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let _=a.get(m.largestBatchId);_===null&&(_=Ms(),a=a.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const f=Ms(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((m,_)=>f.set(m,_)),!(f.size()>=o)););return Y.resolve(f)}Tt(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.dr.get(o.largestBatchId).delete(r.key);this.dr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new SP(t,r));let a=this.dr.get(t);a===void 0&&(a=Me(),this.dr.set(t,a)),this.dr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(){this.Er=new Rt(xt.Ar),this.Rr=new Rt(xt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const r=new xt(e,t);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new xt(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new Ee(new ot([])),r=new xt(t,e),o=new xt(t,e+1),a=[];return this.Rr.forEachInRange([r,o],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Ee(new ot([])),r=new xt(t,e),o=new xt(t,e+1);let a=Me();return this.Rr.forEachInRange([r,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new xt(e,0),r=this.Er.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class xt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Ee.comparator(e.key,t.key)||je(e.br,t.br)}static Vr(e,t){return je(e.br,t.br)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Rt(xt.Ar)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new IP(a,t,r,o);this.mutationQueue.push(u);for(const f of o)this.vr=this.vr.add(new xt(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Y.resolve(u)}lookupMutationBatch(e,t){return Y.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Fr(r),a=o<0?0:o;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new xt(t,0),o=new xt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,o],u=>{const f=this.Cr(u.br);a.push(f)}),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Rt(je);return t.forEach(o=>{const a=new xt(o,0),u=new xt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],f=>{r=r.add(f.br)})}),Y.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;Ee.isDocumentKey(a)||(a=a.child(""));const u=new xt(new Ee(a),0);let f=new Rt(je);return this.vr.forEachWhile(h=>{const m=h.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(f=f.add(h.br)),!0)},u),Y.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(r=>{const o=this.Cr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ke(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return Y.forEach(t.mutations,o=>{const a=new xt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,t){const r=new xt(t,0),o=this.vr.firstAfterOrEqual(r);return Y.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.Nr=e,this.docs=function(){return new dt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Y.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let r=ti();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Wt.newInvalidDocument(o))}),Y.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=ti();const u=t.path,f=new Ee(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:m,value:{document:_}}=h.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||Fk(Mk(_),r)<=0||(o.has(_.key)||Pd(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Re()}Br(e,t){return Y.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new ux(this)}getSize(e){return Y.resolve(this.size)}}class ux extends tx{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(r)}),Y.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.persistence=e,this.Lr=new Xs(t=>ym(t),_m),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.kr=0,this.qr=new Rm,this.targetCount=0,this.Qr=aa.qn()}forEachTarget(e,t){return this.Lr.forEach((r,o)=>t(o)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),Y.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new aa(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.Un(t),Y.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.Lr.forEach((u,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.Lr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),Y.waitFor(a).next(()=>o)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const r=this.Lr.get(t)||null;return Y.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),Y.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),Y.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return Y.resolve(r)}containsKey(e,t){return Y.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Sd(0),this.Ur=!1,this.Ur=!0,this.Wr=new ox,this.referenceDelegate=e(this),this.Gr=new cx(this),this.indexManager=new QP,this.remoteDocumentCache=function(o){return new lx(o)}(r=>this.referenceDelegate.zr(r)),this.serializer=new KP(t),this.jr=new ix(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new ax(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){ce("MemoryPersistence","Starting transaction:",e);const o=new dx(this.$r.next());return this.referenceDelegate.Hr(),r(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,t){return Y.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class dx extends jk{constructor(e){super(),this.currentSequenceNumber=e}}class Cm{constructor(e){this.persistence=e,this.Zr=new Rm,this.Xr=null}static ei(e){return new Cm(e)}get ti(){if(this.Xr)return this.Xr;throw Re()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),Y.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.ti,r=>{const o=Ee.fromPath(r);return this.ni(e,o).next(a=>{a||t.removeEntry(o,Ce.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Y.or([()=>Y.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class sd{constructor(e,t){this.persistence=e,this.ri=new Xs(r=>$k(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=ex(this,t)}static ei(e,t){return new sd(e,t)}Hr(){}Jr(e){return Y.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return Y.forEach(this.ri,(r,o)=>this.ir(e,r,o).next(a=>a?Y.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Br(e,u=>this.ir(e,u,t).next(f=>{f||(r++,a.removeEntry(u,Ce.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Y.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Y.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Dc(e.data.value)),t}ir(e,t,r){return Y.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return Y.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=o}static zi(e,t){let r=Me(),o=Me();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Am(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return lA()?8:Bk(Kt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,o,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new fx;return this.ts(e,t,u).next(f=>{if(a.result=f,this.Hi)return this.ns(e,t,u,f.size)})}).next(()=>a.result)}ns(e,t,r,o){return r.documentReadCount<this.Ji?(Ko()<=Ve.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Go(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Y.resolve()):(Ko()<=Ve.DEBUG&&ce("QueryEngine","Query:",Go(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Yi*o?(Ko()<=Ve.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Go(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ir(t))):Y.resolve())}Xi(e,t){if(pv(t))return Y.resolve(null);let r=Ir(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Pp(t,null,"F"),r=Ir(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Me(...a);return this.Zi.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(h=>{const m=this.rs(t,f);return this.ss(t,m,u,h.readTime)?this.Xi(e,Pp(t,null,"F")):this.os(e,m,t,h)}))})))}es(e,t,r,o){return pv(t)||o.isEqual(Ce.min())?Y.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const u=this.rs(t,a);return this.ss(t,u,r,o)?Y.resolve(null):(Ko()<=Ve.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Go(t)),this.os(e,u,t,Vk(o,-1)).next(f=>f))})}rs(e,t){let r=new Rt(Fw(e));return t.forEach((o,a)=>{Pd(e,a)&&(r=r.add(a))}),r}ss(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,t,r){return Ko()<=Ve.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Go(t)),this.Zi.getDocumentsMatchingQuery(e,t,qi.min(),r)}os(e,t,r,o){return this.Zi.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,t,r,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new dt(je),this.cs=new Xs(a=>ym(a),_m),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rx(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function mx(n,e,t,r){return new px(n,e,t,r)}async function oT(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],f=[];let h=Me();for(const m of o){u.push(m.batchId);for(const _ of m.mutations)h=h.add(_.key)}for(const m of a){f.push(m.batchId);for(const _ of m.mutations)h=h.add(_.key)}return t.localDocuments.getDocuments(r,h).next(m=>({Ts:m,removedBatchIds:u,addedBatchIds:f}))})})}function gx(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,h,m,_){const w=m.batch,T=w.keys();let b=Y.resolve();return T.forEach(C=>{b=b.next(()=>_.getEntry(h,C)).next(N=>{const S=m.docVersions.get(C);Ke(S!==null),N.version.compareTo(S)<0&&(w.applyToRemoteDocument(N,m),N.isValidDocument()&&(N.setReadTime(m.commitVersion),_.addEntry(N)))})}),b.next(()=>f.mutationQueue.removeMutationBatch(h,w))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let h=Me();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(h=h.add(f.batch.mutations[m].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function aT(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function yx(n,e){const t=Pe(n),r=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((_,w)=>{const T=o.get(w);if(!T)return;f.push(t.Gr.removeMatchingKeys(a,_.removedDocuments,w).next(()=>t.Gr.addMatchingKeys(a,_.addedDocuments,w)));let b=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?b=b.withResumeToken(Ft.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):_.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(_.resumeToken,r)),o=o.insert(w,b),function(N,S,F){return N.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(T,b,_)&&f.push(t.Gr.updateTargetData(a,b))});let h=ti(),m=Me();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),f.push(_x(a,u,e.documentUpdates).next(_=>{h=_.Is,m=_.ds})),!r.isEqual(Ce.min())){const _=t.Gr.getLastRemoteSnapshotVersion(a).next(w=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(_)}return Y.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,m)).next(()=>h)}).then(a=>(t.us=o,a))}function _x(n,e,t){let r=Me(),o=Me();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=ti();return t.forEach((f,h)=>{const m=a.get(f);h.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(f)),h.isNoDocument()&&h.version.isEqual(Ce.min())?(e.removeEntry(f,h.readTime),u=u.insert(f,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),u=u.insert(f,h)):ce("LocalStore","Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",h.version)}),{Is:u,ds:o}})}function vx(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ex(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Gr.getTargetData(r,e).next(a=>a?(o=a,Y.resolve(o)):t.Gr.allocateTargetId(r).next(u=>(o=new Fi(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.us.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function Dp(n,e,t){const r=Pe(n),o=r.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!Ea(u))throw u;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.us=r.us.remove(e),r.cs.delete(o.target)}function Cv(n,e,t){const r=Pe(n);let o=Ce.min(),a=Me();return r.persistence.runTransaction("Execute query","readwrite",u=>function(h,m,_){const w=Pe(h),T=w.cs.get(_);return T!==void 0?Y.resolve(w.us.get(T)):w.Gr.getTargetData(m,_)}(r,u,Ir(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(u,f.targetId).next(h=>{a=h})}).next(()=>r._s.getDocumentsMatchingQuery(u,e,t?o:Ce.min(),t?a:Me())).next(f=>(wx(r,lP(e),f),{documents:f,Es:a})))}function wx(n,e,t){let r=n.ls.get(e)||Ce.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ls.set(e,r)}class Av{constructor(){this.activeTargetIds=pP()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tx{constructor(){this._o=new Av,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Av,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc=null;function ep(){return Pc===null?Pc=function(){return 268435456+Math.round(2147483648*Math.random())}():Pc++,"0x"+Pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class Cx extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(t,r,o,a,u){const f=ep(),h=this.No(t,r.toUriEncodedString());ce("RestConnection",`Sending RPC '${t}' ${f}:`,h,o);const m={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(m,a,u),this.Lo(t,h,m,o).then(_=>(ce("RestConnection",`Received RPC '${t}' ${f}: `,_),_),_=>{throw ra("RestConnection",`RPC '${t}' ${f} failed with error: `,_,"url: ",h,"request:",o),_})}ko(t,r,o,a,u,f){return this.Oo(t,r,o,a,u)}Bo(t,r,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_a}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,u)=>t[u]=a),o&&o.headers.forEach((a,u)=>t[u]=a)}No(t,r){const o=Sx[t];return`${this.Fo}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,r,o){const a=ep();return new Promise((u,f)=>{const h=new ww;h.setWithCredentials(!0),h.listenOnce(Tw.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Oc.NO_ERROR:const _=h.getResponseJson();ce($t,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),u(_);break;case Oc.TIMEOUT:ce($t,`RPC '${e}' ${a} timed out`),f(new ye(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const w=h.getStatus();if(ce($t,`RPC '${e}' ${a} failed with status:`,w,"response text:",h.getResponseText()),w>0){let T=h.getResponseJson();Array.isArray(T)&&(T=T[0]);const b=T==null?void 0:T.error;if(b&&b.status&&b.message){const C=function(S){const F=S.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(F)>=0?F:ne.UNKNOWN}(b.status);f(new ye(C,b.message))}else f(new ye(ne.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new ye(ne.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{ce($t,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(o);ce($t,`RPC '${e}' ${a} sending request:`,o),h.send(t,"POST",m,r,15)})}qo(e,t,r){const o=ep(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Rw(),f=Sw(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Bo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const _=a.join("");ce($t,`Creating RPC '${e}' stream ${o}: ${_}`,h);const w=u.createWebChannel(_,h);let T=!1,b=!1;const C=new Rx({Eo:S=>{b?ce($t,`Not sending because RPC '${e}' stream ${o} is closed:`,S):(T||(ce($t,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),ce($t,`RPC '${e}' stream ${o} sending:`,S),w.send(S))},Ao:()=>w.close()}),N=(S,F,j)=>{S.listen(F,q=>{try{j(q)}catch(X){setTimeout(()=>{throw X},0)}})};return N(w,Il.EventType.OPEN,()=>{b||(ce($t,`RPC '${e}' stream ${o} transport opened.`),C.So())}),N(w,Il.EventType.CLOSE,()=>{b||(b=!0,ce($t,`RPC '${e}' stream ${o} transport closed`),C.Do())}),N(w,Il.EventType.ERROR,S=>{b||(b=!0,ra($t,`RPC '${e}' stream ${o} transport errored:`,S),C.Do(new ye(ne.UNAVAILABLE,"The operation could not be completed")))}),N(w,Il.EventType.MESSAGE,S=>{var F;if(!b){const j=S.data[0];Ke(!!j);const q=j,X=(q==null?void 0:q.error)||((F=q[0])===null||F===void 0?void 0:F.error);if(X){ce($t,`RPC '${e}' stream ${o} received error:`,X);const ie=X.status;let oe=function(k){const D=vt[k];if(D!==void 0)return Qw(D)}(ie),P=X.message;oe===void 0&&(oe=ne.INTERNAL,P="Unknown error status: "+ie+" with message "+X.message),b=!0,C.Do(new ye(oe,P)),w.close()}else ce($t,`RPC '${e}' stream ${o} received:`,j),C.vo(j)}}),N(f,Iw.STAT_EVENT,S=>{S.stat===Sp.PROXY?ce($t,`RPC '${e}' stream ${o} detected buffering proxy`):S.stat===Sp.NOPROXY&&ce($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{C.bo()},0),C}}function tp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(n){return new OP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,t,r=1e3,o=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-r);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,t,r,o,a,u,f,h){this.li=e,this.Yo=r,this.Zo=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new lT(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(ei(t.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Xo===t&&this.I_(r,o)},r=>{e(()=>{const o=new ye(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(o)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{r(()=>this.d_(o))}),this.stream.onMessage(o=>{r(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ax extends uT{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=VP(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ce.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?Sr(u.readTime):Ce.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=Op(this.serializer),t.addTarget=function(a,u){let f;const h=u.target;if(f=kp(h)?{documents:UP(a,h)}:{query:jP(a,h).ct},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=Yw(a,u.resumeToken);const m=xp(a,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ce.min())>0){f.readTime=id(a,u.snapshotVersion.toTimestamp());const m=xp(a,u.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const r=zP(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=Op(this.serializer),t.removeTarget=e,this.c_(t)}}class kx extends uT{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=FP(e.writeResults,e.commitTime),r=Sr(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=Op(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>MP(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,bp(t,r),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ye(ne.UNKNOWN,a.toString())})}ko(e,t,r,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.ko(e,bp(t,r),o,u,f,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(ne.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class xx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ei(t),this.C_=!1):ce("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{r.enqueueAndForget(async()=>{Js(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(h){const m=Pe(h);m.k_.add(4),await Xl(m),m.K_.set("Unknown"),m.k_.delete(4),await Dd(m)}(this))})}),this.K_=new xx(r,o)}}async function Dd(n){if(Js(n))for(const e of n.q_)await e(!0)}async function Xl(n){for(const e of n.q_)await e(!1)}function cT(n,e){const t=Pe(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),bm(t)?xm(t):wa(t).s_()&&Pm(t,e))}function km(n,e){const t=Pe(n),r=wa(t);t.L_.delete(e),r.s_()&&dT(t,e),t.L_.size===0&&(r.s_()?r.a_():Js(t)&&t.K_.set("Unknown"))}function Pm(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wa(n).V_(e)}function dT(n,e){n.U_.xe(e),wa(n).m_(e)}function xm(n){n.U_=new PP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),wa(n).start(),n.K_.F_()}function bm(n){return Js(n)&&!wa(n).i_()&&n.L_.size>0}function Js(n){return Pe(n).k_.size===0}function fT(n){n.U_=void 0}async function Nx(n){n.K_.set("Online")}async function Ox(n){n.L_.forEach((e,t)=>{Pm(n,e)})}async function Dx(n,e){fT(n),bm(n)?(n.K_.O_(e),xm(n)):n.K_.set("Unknown")}async function Lx(n,e,t){if(n.K_.set("Online"),e instanceof Jw&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const f of a.targetIds)o.L_.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.L_.delete(f),o.U_.removeTarget(f))}(n,e)}catch(r){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await od(n,r)}else if(e instanceof Mc?n.U_.$e(e):e instanceof Xw?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ce.min()))try{const r=await aT(n.localStore);t.compareTo(r)>=0&&await function(a,u){const f=a.U_.it(u);return f.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const _=a.L_.get(m);_&&a.L_.set(m,_.withResumeToken(h.resumeToken,u))}}),f.targetMismatches.forEach((h,m)=>{const _=a.L_.get(h);if(!_)return;a.L_.set(h,_.withResumeToken(Ft.EMPTY_BYTE_STRING,_.snapshotVersion)),dT(a,h);const w=new Fi(_.target,h,m,_.sequenceNumber);Pm(a,w)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(r){ce("RemoteStore","Failed to raise snapshot:",r),await od(n,r)}}async function od(n,e,t){if(!Ea(e))throw e;n.k_.add(1),await Xl(n),n.K_.set("Offline"),t||(t=()=>aT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Dd(n)})}function hT(n,e){return e().catch(t=>od(n,t,e))}async function Ld(n){const e=Pe(n),t=Xi(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;Vx(e);)try{const o=await vx(e.localStore,r);if(o===null){e.B_.length===0&&t.a_();break}r=o.batchId,Mx(e,o)}catch(o){await od(e,o)}pT(e)&&mT(e)}function Vx(n){return Js(n)&&n.B_.length<10}function Mx(n,e){n.B_.push(e);const t=Xi(n);t.s_()&&t.f_&&t.g_(e.mutations)}function pT(n){return Js(n)&&!Xi(n).i_()&&n.B_.length>0}function mT(n){Xi(n).start()}async function Fx(n){Xi(n).w_()}async function Ux(n){const e=Xi(n);for(const t of n.B_)e.g_(t.mutations)}async function jx(n,e,t){const r=n.B_.shift(),o=Tm.from(r,e,t);await hT(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Ld(n)}async function Bx(n,e){e&&Xi(n).f_&&await async function(r,o){if(function(u){return CP(u)&&u!==ne.ABORTED}(o.code)){const a=r.B_.shift();Xi(r).__(),await hT(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Ld(r)}}(n,e),pT(n)&&mT(n)}async function Pv(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const r=Js(t);t.k_.add(3),await Xl(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Dd(t)}async function zx(n,e){const t=Pe(n);e?(t.k_.delete(2),await Dd(t)):e||(t.k_.add(2),await Xl(t),t.K_.set("Unknown"))}function wa(n){return n.W_||(n.W_=function(t,r,o){const a=Pe(t);return a.b_(),new Ax(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:Nx.bind(null,n),mo:Ox.bind(null,n),po:Dx.bind(null,n),R_:Lx.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),bm(n)?xm(n):n.K_.set("Unknown")):(await n.W_.stop(),fT(n))})),n.W_}function Xi(n){return n.G_||(n.G_=function(t,r,o){const a=Pe(t);return a.b_(),new kx(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:Fx.bind(null,n),po:Bx.bind(null,n),p_:Ux.bind(null,n),y_:jx.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Ld(n)):(await n.G_.stop(),n.B_.length>0&&(ce("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,f=new Nm(e,t,u,o,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Om(n,e){if(ei("AsyncQueue",`${e}: ${n}`),Ea(n))return new ye(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ee.comparator(t.key,r.key):(t,r)=>Ee.comparator(t.key,r.key),this.keyedMap=Sl(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Yo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(){this.z_=new dt(Ee.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Re():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class la{constructor(e,t,r,o,a,u,f,h,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new la(e,t,Yo.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class Hx{constructor(){this.queries=bv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const o=Pe(t),a=o.queries;o.queries=bv(),a.forEach((u,f)=>{for(const h of f.J_)h.onError(r)})})(this,new ye(ne.ABORTED,"Firestore shutting down"))}}function bv(){return new Xs(n=>Mw(n),kd)}async function gT(n,e){const t=Pe(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.Y_()&&e.Z_()&&(r=2):(a=new $x,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await t.onListen(o,!0);break;case 1:a.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const f=Om(u,`Initialization of query '${Go(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&Dm(t)}async function yT(n,e){const t=Pe(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Wx(n,e){const t=Pe(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const f of u.J_)f.ta(o)&&(r=!0);u.H_=o}}r&&Dm(t)}function qx(n,e,t){const r=Pe(n),o=r.queries.get(e);if(o)for(const a of o.J_)a.onError(t);r.queries.delete(e)}function Dm(n){n.X_.forEach(e=>{e.next()})}var Lp,Nv;(Nv=Lp||(Lp={})).na="default",Nv.Cache="cache";class _T{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new la(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=la.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.key=e}}class ET{constructor(e){this.key=e}}class Kx{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Me(),this.mutatedKeys=Me(),this.Va=Fw(e),this.ma=new Yo(this.Va)}get fa(){return this.Ea}ga(e,t){const r=t?t.pa:new xv,o=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,f=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,w)=>{const T=o.get(_),b=Pd(this.query,w)?w:null,C=!!T&&this.mutatedKeys.has(T.key),N=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let S=!1;T&&b?T.data.isEqual(b.data)?C!==N&&(r.track({type:3,doc:b}),S=!0):this.ya(T,b)||(r.track({type:2,doc:b}),S=!0,(h&&this.Va(b,h)>0||m&&this.Va(b,m)<0)&&(f=!0)):!T&&b?(r.track({type:0,doc:b}),S=!0):T&&!b&&(r.track({type:1,doc:T}),S=!0,(h||m)&&(f=!0)),S&&(b?(u=u.add(b),a=N?a.add(_):a.delete(_)):(u=u.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),a=a.delete(_.key),r.track({type:1,doc:_})}return{ma:u,pa:r,ss:f,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((_,w)=>function(b,C){const N=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return N(b)-N(C)}(_.type,w.type)||this.Va(_.doc,w.doc)),this.wa(r),o=o!=null&&o;const f=t&&!o?this.Sa():[],h=this.Ra.size===0&&this.current&&!o?1:0,m=h!==this.Aa;return this.Aa=h,u.length!==0||m?{snapshot:new la(this.query,e.ma,a,u,e.mutatedKeys,h===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new xv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Me(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new ET(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new vT(r))}),t}va(e){this.Ea=e.Es,this.Ra=Me();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return la.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Gx{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Qx{constructor(e){this.key=e,this.Fa=!1}}class Xx{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new Xs(f=>Mw(f),kd),this.Oa=new Map,this.Na=new Set,this.Ba=new dt(Ee.comparator),this.La=new Map,this.ka=new Rm,this.qa={},this.Qa=new Map,this.Ka=aa.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Jx(n,e,t=!0){const r=CT(n);let o;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await wT(r,e,t,!0),o}async function Yx(n,e){const t=CT(n);await wT(t,e,!0,!1)}async function wT(n,e,t,r){const o=await Ex(n.localStore,Ir(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let f;return r&&(f=await Zx(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&cT(n.remoteStore,o),f}async function Zx(n,e,t,r,o){n.Ua=(w,T,b)=>async function(N,S,F,j){let q=S.view.ga(F);q.ss&&(q=await Cv(N.localStore,S.query,!1).then(({documents:P})=>S.view.ga(P,q)));const X=j&&j.targetChanges.get(S.targetId),ie=j&&j.targetMismatches.get(S.targetId)!=null,oe=S.view.applyChanges(q,N.isPrimaryClient,X,ie);return Dv(N,S.targetId,oe.ba),oe.snapshot}(n,w,T,b);const a=await Cv(n.localStore,e,!0),u=new Kx(e,a.Es),f=u.ga(a.documents),h=Ql.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=u.applyChanges(f,n.isPrimaryClient,h);Dv(n,t,m.ba);const _=new Gx(e,t,u);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),m.snapshot}async function eb(n,e,t){const r=Pe(n),o=r.xa.get(e),a=r.Oa.get(o.targetId);if(a.length>1)return r.Oa.set(o.targetId,a.filter(u=>!kd(u,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Dp(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&km(r.remoteStore,o.targetId),Vp(r,o.targetId)}).catch(va)):(Vp(r,o.targetId),await Dp(r.localStore,o.targetId,!0))}async function tb(n,e){const t=Pe(n),r=t.xa.get(e),o=t.Oa.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),km(t.remoteStore,r.targetId))}async function nb(n,e,t){const r=ub(n);try{const o=await function(u,f){const h=Pe(u),m=St.now(),_=f.reduce((b,C)=>b.add(C.key),Me());let w,T;return h.persistence.runTransaction("Locally write mutations","readwrite",b=>{let C=ti(),N=Me();return h.hs.getEntries(b,_).next(S=>{C=S,C.forEach((F,j)=>{j.isValidDocument()||(N=N.add(F))})}).next(()=>h.localDocuments.getOverlayedDocuments(b,C)).next(S=>{w=S;const F=[];for(const j of f){const q=wP(j,w.get(j.key).overlayedDocument);q!=null&&F.push(new Zi(j.key,q,xw(q.value.mapValue),Fn.exists(!0)))}return h.mutationQueue.addMutationBatch(b,m,F,f)}).next(S=>{T=S;const F=S.applyToLocalDocumentSet(w,N);return h.documentOverlayCache.saveOverlays(b,S.batchId,F)})}).then(()=>({batchId:T.batchId,changes:jw(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,f,h){let m=u.qa[u.currentUser.toKey()];m||(m=new dt(je)),m=m.insert(f,h),u.qa[u.currentUser.toKey()]=m}(r,o.batchId,t),await Jl(r,o.changes),await Ld(r.remoteStore)}catch(o){const a=Om(o,"Failed to persist write");t.reject(a)}}async function TT(n,e){const t=Pe(n);try{const r=await yx(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.La.get(a);u&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Fa=!0:o.modifiedDocuments.size>0?Ke(u.Fa):o.removedDocuments.size>0&&(Ke(u.Fa),u.Fa=!1))}),await Jl(t,r,e)}catch(r){await va(r)}}function Ov(n,e,t){const r=Pe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.xa.forEach((a,u)=>{const f=u.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(u,f){const h=Pe(u);h.onlineState=f;let m=!1;h.queries.forEach((_,w)=>{for(const T of w.J_)T.ea(f)&&(m=!0)}),m&&Dm(h)}(r.eventManager,e),o.length&&r.Ma.R_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rb(n,e,t){const r=Pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.La.get(e),a=o&&o.key;if(a){let u=new dt(Ee.comparator);u=u.insert(a,Wt.newNoDocument(a,Ce.min()));const f=Me().add(a),h=new Nd(Ce.min(),new Map,new dt(je),u,f);await TT(r,h),r.Ba=r.Ba.remove(a),r.La.delete(e),Lm(r)}else await Dp(r.localStore,e,!1).then(()=>Vp(r,e,t)).catch(va)}async function ib(n,e){const t=Pe(n),r=e.batch.batchId;try{const o=await gx(t.localStore,e);ST(t,r,null),IT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Jl(t,o)}catch(o){await va(o)}}async function sb(n,e,t){const r=Pe(n);try{const o=await function(u,f){const h=Pe(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return h.mutationQueue.lookupMutationBatch(m,f).next(w=>(Ke(w!==null),_=w.keys(),h.mutationQueue.removeMutationBatch(m,w))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,_,f)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>h.localDocuments.getDocuments(m,_))})}(r.localStore,e);ST(r,e,t),IT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Jl(r,o)}catch(o){await va(o)}}function IT(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function ST(n,e,t){const r=Pe(n);let o=r.qa[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.qa[r.currentUser.toKey()]=o}}function Vp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||RT(n,r)})}function RT(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(km(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),Lm(n))}function Dv(n,e,t){for(const r of t)r instanceof vT?(n.ka.addReference(r.key,e),ob(n,r)):r instanceof ET?(ce("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||RT(n,r.key)):Re()}function ob(n,e){const t=e.key,r=t.path.canonicalString();n.Ba.get(t)||n.Na.has(r)||(ce("SyncEngine","New document in limbo: "+t),n.Na.add(r),Lm(n))}function Lm(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Ee(ot.fromString(e)),r=n.Ka.next();n.La.set(r,new Qx(t)),n.Ba=n.Ba.insert(t,r),cT(n.remoteStore,new Fi(Ir(vm(t.path)),r,"TargetPurposeLimboResolution",Sd.oe))}}async function Jl(n,e,t){const r=Pe(n),o=[],a=[],u=[];r.xa.isEmpty()||(r.xa.forEach((f,h)=>{u.push(r.Ua(h,e,t).then(m=>{var _;if((m||t)&&r.isPrimaryClient){const w=m?!m.fromCache:(_=t==null?void 0:t.targetChanges.get(h.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(h.targetId,w?"current":"not-current")}if(m){o.push(m);const w=Am.zi(h.targetId,m);a.push(w)}}))}),await Promise.all(u),r.Ma.R_(o),await async function(h,m){const _=Pe(h);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Y.forEach(m,T=>Y.forEach(T.Wi,b=>_.persistence.referenceDelegate.addReference(w,T.targetId,b)).next(()=>Y.forEach(T.Gi,b=>_.persistence.referenceDelegate.removeReference(w,T.targetId,b)))))}catch(w){if(!Ea(w))throw w;ce("LocalStore","Failed to update sequence numbers: "+w)}for(const w of m){const T=w.targetId;if(!w.fromCache){const b=_.us.get(T),C=b.snapshotVersion,N=b.withLastLimboFreeSnapshotVersion(C);_.us=_.us.insert(T,N)}}}(r.localStore,a))}async function ab(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const r=await oT(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(f=>{f.forEach(h=>{h.reject(new ye(ne.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jl(t,r.Ts)}}function lb(n,e){const t=Pe(n),r=t.La.get(e);if(r&&r.Fa)return Me().add(r.key);{let o=Me();const a=t.Oa.get(e);if(!a)return o;for(const u of a){const f=t.xa.get(u);o=o.unionWith(f.view.fa)}return o}}function CT(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=TT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rb.bind(null,e),e.Ma.R_=Wx.bind(null,e.eventManager),e.Ma.Wa=qx.bind(null,e.eventManager),e}function ub(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ib.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sb.bind(null,e),e}class ad{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Od(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return mx(this.persistence,new hx,e.initialUser,this.serializer)}ja(e){return new sT(Cm.ei,this.serializer)}za(e){return new Tx}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ad.provider={build:()=>new ad};class cb extends ad{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Ke(this.persistence.referenceDelegate instanceof sd);const r=this.persistence.referenceDelegate.garbageCollector;return new YP(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new sT(r=>sd.ei(r,t),this.serializer)}}class Mp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ov(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ab.bind(null,this.syncEngine),await zx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Hx}()}createDatastore(e){const t=Od(e.databaseInfo.databaseId),r=function(a){return new Cx(a)}(e.databaseInfo);return function(a,u,f,h){return new Px(a,u,f,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,a,u,f){return new bx(r,o,a,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Ov(this.syncEngine,t,0),function(){return kv.p()?new kv:new Ix}())}createSyncEngine(e,t){return function(o,a,u,f,h,m,_){const w=new Xx(o,a,u,f,h,m);return _&&(w.$a=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Pe(o);ce("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await Xl(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Mp.provider={build:()=>new Mp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Ht.UNAUTHENTICATED,this.clientId=Aw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{ce("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ce("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Om(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function np(n,e){n.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await oT(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Lv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await fb(n);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Pv(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>Pv(e.remoteStore,o)),n._onlineComponents=e}async function fb(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await np(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ra("Error using user provided cache. Falling back to memory cache: "+t),await np(n,new ad)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await np(n,new cb(void 0));return n._offlineComponents}async function kT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await Lv(n,n._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await Lv(n,new Mp))),n._onlineComponents}function hb(n){return kT(n).then(e=>e.syncEngine)}async function PT(n){const e=await kT(n),t=e.eventManager;return t.onListen=Jx.bind(null,e.syncEngine),t.onUnlisten=eb.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Yx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=tb.bind(null,e.syncEngine),t}function pb(n,e,t={}){const r=new Jr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,h,m){const _=new AT({next:T=>{_.eu(),u.enqueueAndForget(()=>yT(a,w));const b=T.docs.has(f);!b&&T.fromCache?m.reject(new ye(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&T.fromCache&&h&&h.source==="server"?m.reject(new ye(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new _T(vm(f.path),_,{includeMetadataChanges:!0,ua:!0});return gT(a,w)}(await PT(n),n.asyncQueue,e,t,r)),r.promise}function mb(n,e,t={}){const r=new Jr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,h,m){const _=new AT({next:T=>{_.eu(),u.enqueueAndForget(()=>yT(a,w)),T.fromCache&&h.source==="server"?m.reject(new ye(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new _T(f,_,{includeMetadataChanges:!0,ua:!0});return gT(a,w)}(await PT(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(n,e,t){if(!t)throw new ye(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function gb(n,e,t,r){if(e===!0&&r===!0)throw new ye(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Mv(n){if(!Ee.isDocumentKey(n))throw new ye(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Fv(n){if(Ee.isDocumentKey(n))throw new ye(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Vm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re()}function or(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Vm(n);throw new ye(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vd{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ak;switch(r.type){case"firstParty":return new bk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Vv.get(t);r&&(ce("ComponentProvider","Removing Datastore"),Vv.delete(t),r.terminate())}(this),Promise.resolve()}}function yb(n,e,t,r={}){var o;const a=(n=or(n,Vd))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let f,h;if(typeof r.mockUserToken=="string")f=r.mockUserToken,h=Ht.MOCK_USER;else{f=tA(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ye(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ht(m)}n._authCredentials=new kk(new Cw(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Md(this.firestore,e,this._query)}}class pn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class $i extends Md{constructor(e,t,r){super(e,t,vm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new Ee(e))}withConverter(e){return new $i(this.firestore,e,this._path)}}function NT(n,e,...t){if(n=Zt(n),bT("collection","path",e),n instanceof Vd){const r=ot.fromString(e,...t);return Fv(r),new $i(n,null,r)}{if(!(n instanceof pn||n instanceof $i))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ot.fromString(e,...t));return Fv(r),new $i(n.firestore,null,r)}}function Ys(n,e,...t){if(n=Zt(n),arguments.length===1&&(e=Aw.newId()),bT("doc","path",e),n instanceof Vd){const r=ot.fromString(e,...t);return Mv(r),new pn(n,null,new Ee(r))}{if(!(n instanceof pn||n instanceof $i))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ot.fromString(e,...t));return Mv(r),new pn(n.firestore,n instanceof $i?n.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new lT(this,"async_queue_retry"),this.fu=()=>{const r=tp();r&&ce("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=tp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=tp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new Jr;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ea(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const o=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(r);throw ei("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Nm.createAndSchedule(this,e,t,r,a=>this.Su(a));return this.Eu.push(o),o}pu(){this.Au&&Re()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}class Zs extends Vd{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new jv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jv(e),this._firestoreClient=void 0,await e}}}function _b(n,e){const t=typeof n=="object"?n:yw(),r=typeof n=="string"?n:"(default)",o=hm(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=ZC("firestore");a&&yb(o,...a)}return o}function Mm(n){if(n._terminated)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||vb(n),n._firestoreClient}function vb(n){var e,t,r;const o=n._freezeSettings(),a=function(f,h,m,_){return new qk(f,h,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,xT(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new db(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(f){const h=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ua(Ft.fromBase64String(e))}catch(t){throw new ye(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ua(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=/^__.*__$/;class wb{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gl(e,this.data,t,this.fieldTransforms)}}class OT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Zi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function DT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class Bm{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Bm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:r,Nu:!1});return o.Bu(e),o}Lu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:r,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return ld(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(DT(this.Mu)&&Eb.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class Tb{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Od(e)}$u(e,t,r,o=!1){return new Bm({Mu:e,methodName:t,Ku:r,path:Mt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zm(n){const e=n._freezeSettings(),t=Od(n._databaseId);return new Tb(n._databaseId,!!e.ignoreUndefinedProperties,t)}function LT(n,e,t,r,o,a={}){const u=n.$u(a.merge||a.mergeFields?2:0,e,t,o);$m("Data must be an object, but it was:",u,r);const f=VT(r,u);let h,m;if(a.merge)h=new Rn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const _=[];for(const w of a.mergeFields){const T=Fp(e,w,t);if(!u.contains(T))throw new ye(ne.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);FT(_,T)||_.push(T)}h=new Rn(_),m=u.fieldTransforms.filter(w=>h.covers(w.field))}else h=null,m=u.fieldTransforms;return new wb(new hn(f),h,m)}class Ud extends Fm{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ud}}function Ib(n,e,t,r){const o=n.$u(1,e,t);$m("Data must be an object, but it was:",o,r);const a=[],u=hn.empty();Yi(r,(h,m)=>{const _=Hm(e,h,t);m=Zt(m);const w=o.Lu(_);if(m instanceof Ud)a.push(_);else{const T=jd(m,w);T!=null&&(a.push(_),u.set(_,T))}});const f=new Rn(a);return new OT(u,f,o.fieldTransforms)}function Sb(n,e,t,r,o,a){const u=n.$u(1,e,t),f=[Fp(e,r,t)],h=[o];if(a.length%2!=0)throw new ye(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)f.push(Fp(e,a[T])),h.push(a[T+1]);const m=[],_=hn.empty();for(let T=f.length-1;T>=0;--T)if(!FT(m,f[T])){const b=f[T];let C=h[T];C=Zt(C);const N=u.Lu(b);if(C instanceof Ud)m.push(b);else{const S=jd(C,N);S!=null&&(m.push(b),_.set(b,S))}}const w=new Rn(m);return new OT(_,w,u.fieldTransforms)}function jd(n,e){if(MT(n=Zt(n)))return $m("Unsupported field value:",e,n),VT(n,e);if(n instanceof Fm)return function(r,o){if(!DT(o.Mu))throw o.qu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const f of r){let h=jd(f,o.ku(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,o){if((r=Zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mP(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=St.fromDate(r);return{timestampValue:id(o.serializer,a)}}if(r instanceof St){const a=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:id(o.serializer,a)}}if(r instanceof Um)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ua)return{bytesValue:Yw(o.serializer,r._byteString)};if(r instanceof pn){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Sm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof jm)return function(u,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(h=>{if(typeof h!="number")throw f.qu("VectorValues must only contain numeric values.");return Em(f.serializer,h)})}}}}}}(r,o);throw o.qu(`Unsupported field value: ${Vm(r)}`)}(n,e)}function VT(n,e){const t={};return kw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yi(n,(r,o)=>{const a=jd(o,e.Ou(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function MT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof St||n instanceof Um||n instanceof ua||n instanceof pn||n instanceof Fm||n instanceof jm)}function $m(n,e,t){if(!MT(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const r=Vm(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function Fp(n,e,t){if((e=Zt(e))instanceof Fd)return e._internalPath;if(typeof e=="string")return Hm(n,e);throw ld("Field path arguments must be of type string or ",n,!1,void 0,t)}const Rb=new RegExp("[~\\*/\\[\\]]");function Hm(n,e,t){if(e.search(Rb)>=0)throw ld(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Fd(...e.split("."))._internalPath}catch{throw ld(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ld(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${r}`),u&&(h+=` in document ${o}`),h+=")"),new ye(ne.INVALID_ARGUMENT,f+n+h)}function FT(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Cb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Cb extends UT{data(){return super.data()}}function jT(n,e){return typeof e=="string"?Hm(n,e):e instanceof Fd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ye(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kb{convertValue(e,t="none"){switch(Qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Yi(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,o;const a=(o=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(u=>mt(u.doubleValue));return new jm(a)}convertGeoPoint(e){return new Um(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Cd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Dl(e));default:return null}}convertTimestamp(e){const t=Ki(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ot.fromString(e);Ke(iT(r));const o=new Ll(r.get(1),r.get(3)),a=new Ee(r.popFirst(5));return o.isEqual(t)||ei(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zT extends UT{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(jT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Fc extends zT{data(e={}){return super.data(e)}}class Pb{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Cl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Fc(this._firestore,this._userDataWriter,r.key,r,new Cl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(f=>{const h=new Fc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Cl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const h=new Fc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Cl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,_=-1;return f.type!==0&&(m=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),_=u.indexOf(f.doc.key)),{type:xb(f.type),doc:h,oldIndex:m,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function xb(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(n){n=or(n,pn);const e=or(n.firestore,Zs);return pb(Mm(e),n._key).then(t=>Lb(e,n,t))}class HT extends kb{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,t)}}function bb(n){n=or(n,Md);const e=or(n.firestore,Zs),t=Mm(e),r=new HT(e);return Ab(n._query),mb(t,n._query).then(o=>new Pb(e,r,n,o))}function WT(n,e,t){n=or(n,pn);const r=or(n.firestore,Zs),o=BT(n.converter,e);return Bd(r,[LT(zm(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Fn.none())])}function Nb(n,e,t,...r){n=or(n,pn);const o=or(n.firestore,Zs),a=zm(o);let u;return u=typeof(e=Zt(e))=="string"||e instanceof Fd?Sb(a,"updateDoc",n._key,e,t,r):Ib(a,"updateDoc",n._key,e),Bd(o,[u.toMutation(n._key,Fn.exists(!0))])}function Ob(n){return Bd(or(n.firestore,Zs),[new wm(n._key,Fn.none())])}function Db(n,e){const t=or(n.firestore,Zs),r=Ys(n),o=BT(n.converter,e);return Bd(t,[LT(zm(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,Fn.exists(!1))]).then(()=>r)}function Bd(n,e){return function(r,o){const a=new Jr;return r.asyncQueue.enqueueAndForget(async()=>nb(await hb(r),o,a)),a.promise}(Mm(n),e)}function Lb(n,e,t){const r=t.docs.get(e._key),o=new HT(n);return new zT(n,o,e._key,r,new Cl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){_a=o})(ya),na(new $s("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),f=new Zs(new Pk(r.getProvider("auth-internal")),new Ok(r.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ye(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(m.options.projectId,_)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),Bi(rv,"4.7.6",e),Bi(rv,"4.7.6","esm2017")})();function Wm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function qT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vb=qT,KT=new ql("auth","Firebase",qT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=new dm("@firebase/auth");function Mb(n,...e){ud.logLevel<=Ve.WARN&&ud.warn(`Auth (${ya}): ${n}`,...e)}function Uc(n,...e){ud.logLevel<=Ve.ERROR&&ud.error(`Auth (${ya}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(n,...e){throw Km(n,...e)}function sr(n,...e){return Km(n,...e)}function qm(n,e,t){const r=Object.assign(Object.assign({},Vb()),{[e]:t});return new ql("auth","Firebase",r).create(e,{appName:n.name})}function Yr(n){return qm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fb(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Un(n,"argument-error"),qm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Km(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return KT.create(n,...e)}function Ie(n,e,...t){if(!n)throw Km(e,...t)}function Kr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Uc(e),new Error(e)}function ni(n,e){n||Kr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Ub(){return Bv()==="http:"||Bv()==="https:"}function Bv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ub()||sA()||"connection"in navigator)?navigator.onLine:!0}function Bb(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,t){this.shortDelay=e,this.longDelay=t,ni(t>e,"Short delay should be less than long delay!"),this.isMobile=nA()||oA()}get(){return jb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(n,e){ni(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=new Yl(3e4,6e4);function es(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ts(n,e,t,r,o={}){return QT(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const f=Kl(Object.assign({key:n.config.apiKey},u)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:h},a);return iA()||(m.referrerPolicy="no-referrer"),GT.fetch()(XT(n,n.config.apiHost,t,f),m)})}async function QT(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},zb),e);try{const o=new Wb(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw xc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[h,m]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw xc(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw xc(n,"user-disabled",u);const _=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw qm(n,_,m);Un(n,_)}}catch(o){if(o instanceof oi)throw o;Un(n,"network-request-failed",{message:String(o)})}}async function Zl(n,e,t,r,o={}){const a=await ts(n,e,t,r,o);return"mfaPendingCredential"in a&&Un(n,"multi-factor-auth-required",{_serverResponse:a}),a}function XT(n,e,t,r){const o=`${e}${t}?${r}`;return n.config.emulator?Gm(n.config,o):`${n.config.apiScheme}://${o}`}function Hb(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Wb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(sr(this.auth,"network-request-failed")),$b.get())})}}function xc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=sr(n,e,r);return o.customData._tokenResponse=t,o}function zv(n){return n!==void 0&&n.enterprise!==void 0}class qb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Hb(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Kb(n,e){return ts(n,"GET","/v2/recaptchaConfig",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gb(n,e){return ts(n,"POST","/v1/accounts:delete",e)}async function JT(n,e){return ts(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Qb(n,e=!1){const t=Zt(n),r=await t.getIdToken(e),o=Qm(r);Ie(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:bl(rp(o.auth_time)),issuedAtTime:bl(rp(o.iat)),expirationTime:bl(rp(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function rp(n){return Number(n)*1e3}function Qm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const o=cw(t);return o?JSON.parse(o):(Uc("Failed to decode base64 JWT payload"),null)}catch(o){return Uc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function $v(n){const e=Qm(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof oi&&Xb(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Xb({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cd(n){var e;const t=n.auth,r=await n.getIdToken(),o=await Ul(n,JT(t,{idToken:r}));Ie(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?YT(a.providerUserInfo):[],f=Zb(n.providerData,u),h=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(f!=null&&f.length),_=h?m:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new jp(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,w)}async function Yb(n){const e=Zt(n);await cd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zb(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function YT(n){return n.map(e=>{var{providerId:t}=e,r=Wm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(n,e){const t=await QT(n,{},async()=>{const r=Kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=XT(n,o,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",GT.fetch()(u,{method:"POST",headers:f,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function tN(n,e){return ts(n,"POST","/v2/accounts:revokeToken",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$v(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=$v(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await eN(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new Zo;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Ie(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ie(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return Kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Gr{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,a=Wm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new jp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ul(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Qb(this,e)}reload(){return Yb(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Gr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await cd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(Yr(this.auth));const e=await this.getIdToken();return await Ul(this,Gb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,a,u,f,h,m,_;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,b=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,C=(u=t.photoURL)!==null&&u!==void 0?u:void 0,N=(f=t.tenantId)!==null&&f!==void 0?f:void 0,S=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,F=(m=t.createdAt)!==null&&m!==void 0?m:void 0,j=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:q,emailVerified:X,isAnonymous:ie,providerData:oe,stsTokenManager:P}=t;Ie(q&&P,e,"internal-error");const R=Zo.fromJSON(this.name,P);Ie(typeof q=="string",e,"internal-error"),Oi(w,e.name),Oi(T,e.name),Ie(typeof X=="boolean",e,"internal-error"),Ie(typeof ie=="boolean",e,"internal-error"),Oi(b,e.name),Oi(C,e.name),Oi(N,e.name),Oi(S,e.name),Oi(F,e.name),Oi(j,e.name);const k=new Gr({uid:q,auth:e,email:T,emailVerified:X,displayName:w,isAnonymous:ie,photoURL:C,phoneNumber:b,tenantId:N,stsTokenManager:R,createdAt:F,lastLoginAt:j});return oe&&Array.isArray(oe)&&(k.providerData=oe.map(D=>Object.assign({},D))),S&&(k._redirectEventId=S),k}static async _fromIdTokenResponse(e,t,r=!1){const o=new Zo;o.updateFromServerResponse(t);const a=new Gr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await cd(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ie(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?YT(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),f=new Zo;f.updateFromIdToken(r);const h=new Gr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new jp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=new Map;function Qr(n){ni(n instanceof Function,"Expected a class definition");let e=Hv.get(n);return e?(ni(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Hv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ZT.type="NONE";const Wv=ZT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(n,e,t){return`firebase:${n}:${e}:${t}`}class ea{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=jc(this.userKey,o.apiKey,a),this.fullPersistenceKey=jc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Gr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ea(Qr(Wv),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||Qr(Wv);const u=jc(r,e.config.apiKey,e.name);let f=null;for(const m of t)try{const _=await m._get(u);if(_){const w=Gr._fromJSON(e,_);m!==a&&(f=w),a=m;break}}catch{}const h=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new ea(a,e,r):(a=h[0],f&&await a._set(u,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new ea(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(r0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(e0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(s0(e))return"Blackberry";if(o0(e))return"Webos";if(t0(e))return"Safari";if((e.includes("chrome/")||n0(e))&&!e.includes("edge/"))return"Chrome";if(i0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function e0(n=Kt()){return/firefox\//i.test(n)}function t0(n=Kt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function n0(n=Kt()){return/crios\//i.test(n)}function r0(n=Kt()){return/iemobile/i.test(n)}function i0(n=Kt()){return/android/i.test(n)}function s0(n=Kt()){return/blackberry/i.test(n)}function o0(n=Kt()){return/webos/i.test(n)}function Xm(n=Kt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function nN(n=Kt()){var e;return Xm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rN(){return aA()&&document.documentMode===10}function a0(n=Kt()){return Xm(n)||i0(n)||o0(n)||s0(n)||/windows phone/i.test(n)||r0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(n,e=[]){let t;switch(n){case"Browser":t=qv(Kt());break;case"Worker":t=`${qv(Kt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ya}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,f)=>{try{const h=e(a);u(h)}catch(h){f(h)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(n,e={}){return ts(n,"GET","/v2/passwordPolicy",es(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=6;class aN{constructor(e){var t,r,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:oN,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,a,u,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsLowercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kv(this),this.idTokenSubscription=new Kv(this),this.beforeStateQueue=new iN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Qr(t)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await ea.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await JT(this,{idToken:e}),r=await Gr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ir(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===f)&&(h!=null&&h.user)&&(o=h.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await cd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Bb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ir(this.app))return Promise.reject(Yr(this));const t=e?Zt(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(Yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ir(this.app)?Promise.reject(Yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sN(this),t=new aN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ql("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await tN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Qr(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await ea.create(this,[Qr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,o);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=l0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Mb(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ns(n){return Zt(n)}class Kv{constructor(e){this.auth=e,this.observer=null,this.addObserver=mA(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uN(n){zd=n}function u0(n){return zd.loadJS(n)}function cN(){return zd.recaptchaEnterpriseScript}function dN(){return zd.gapiScript}function fN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class hN{constructor(){this.enterprise=new pN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class pN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const mN="recaptcha-enterprise",c0="NO_RECAPTCHA";class gN{constructor(e){this.type=mN,this.auth=ns(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,f)=>{Kb(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new qb(h);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(h=>{f(h)})})}function o(a,u,f){const h=window.grecaptcha;zv(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(c0)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hN().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(f=>{if(!t&&zv(window.grecaptcha))o(f,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=cN();h.length!==0&&(h+=f),u0(h).then(()=>{o(f,a,u)}).catch(m=>{u(m)})}}).catch(f=>{u(f)})})}}async function Gv(n,e,t,r=!1,o=!1){const a=new gN(n);let u;if(o)u=c0;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Bp(n,e,t,r,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Gv(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Gv(n,e,t,t==="getOobCode");return r(n,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(n,e){const t=hm(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Jc(a,e??{}))return o;Un(o,"already-initialized")}return t.initialize({options:e})}function _N(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Qr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vN(n,e,t){const r=ns(n);Ie(r._canInitEmulator,r,"emulator-config-failed"),Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=d0(e),{host:u,port:f}=EN(e),h=f===null?"":`:${f}`;r.config.emulator={url:`${a}//${u}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),wN()}function d0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function EN(n){const e=d0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:Qv(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:Qv(u)}}}function Qv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function wN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Kr("not implemented")}_getIdTokenResponse(e){return Kr("not implemented")}_linkToIdToken(e,t){return Kr("not implemented")}_getReauthenticationResolver(e){return Kr("not implemented")}}async function TN(n,e){return ts(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(n,e){return Zl(n,"POST","/v1/accounts:signInWithPassword",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(n,e){return Zl(n,"POST","/v1/accounts:signInWithEmailLink",es(n,e))}async function RN(n,e){return Zl(n,"POST","/v1/accounts:signInWithEmailLink",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends Jm{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new jl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new jl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bp(e,t,"signInWithPassword",IN);case"emailLink":return SN(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bp(e,r,"signUpPassword",TN);case"emailLink":return RN(e,{idToken:t,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(n,e){return Zl(n,"POST","/v1/accounts:signInWithIdp",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="http://localhost";class Ws extends Jm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Un("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,a=Wm(t,["providerId","signInMethod"]);if(!r||!o)return null;const u=new Ws(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ta(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ta(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ta(e,t)}buildRequest(){const e={requestUri:CN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Kl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kN(n){const e=wl(Tl(n)).link,t=e?wl(Tl(e)).deep_link_id:null,r=wl(Tl(n)).deep_link_id;return(r?wl(Tl(r)).link:null)||r||t||e||n}class Ym{constructor(e){var t,r,o,a,u,f;const h=wl(Tl(e)),m=(t=h.apiKey)!==null&&t!==void 0?t:null,_=(r=h.oobCode)!==null&&r!==void 0?r:null,w=AN((o=h.mode)!==null&&o!==void 0?o:null);Ie(m&&_&&w,"argument-error"),this.apiKey=m,this.operation=w,this.code=_,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=h.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(f=h.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=kN(e);try{return new Ym(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.providerId=Ta.PROVIDER_ID}static credential(e,t){return jl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Ym.parseLink(t);return Ie(r,"argument-error"),jl._fromEmailAndCode(e,r.code,r.tenantId)}}Ta.PROVIDER_ID="password";Ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends Zm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends eu{constructor(){super("facebook.com")}static credential(e){return Ws._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ws._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return qr.credential(t,r)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends eu{constructor(){super("github.com")}static credential(e){return Ws._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.GITHUB_SIGN_IN_METHOD="github.com";Vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends eu{constructor(){super("twitter.com")}static credential(e,t){return Ws._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Mi.credential(t,r)}catch{return null}}}Mi.TWITTER_SIGN_IN_METHOD="twitter.com";Mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(n,e){return Zl(n,"POST","/v1/accounts:signUp",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await Gr._fromIdTokenResponse(e,r,o),u=Xv(r);return new qs({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=Xv(r);return new qs({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function Xv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd extends oi{constructor(e,t,r,o){var a;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,dd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new dd(e,t,r,o)}}function f0(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?dd._fromErrorAndOperation(n,a,e,r):a})}async function xN(n,e,t=!1){const r=await Ul(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return qs._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(n,e,t=!1){const{auth:r}=n;if(ir(r.app))return Promise.reject(Yr(r));const o="reauthenticate";try{const a=await Ul(n,f0(r,o,e,n),t);Ie(a.idToken,r,"internal-error");const u=Qm(a.idToken);Ie(u,r,"internal-error");const{sub:f}=u;return Ie(n.uid===f,r,"user-mismatch"),qs._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Un(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h0(n,e,t=!1){if(ir(n.app))return Promise.reject(Yr(n));const r="signIn",o=await f0(n,r,e),a=await qs._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function NN(n,e){return h0(ns(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p0(n){const e=ns(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function m0(n,e,t){if(ir(n.app))return Promise.reject(Yr(n));const r=ns(n),u=await Bp(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PN).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&p0(n),h}),f=await qs._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(f.user),f}function g0(n,e,t){return ir(n.app)?Promise.reject(Yr(n)):NN(Zt(n),Ta.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&p0(n),r})}function ON(n,e,t,r){return Zt(n).onIdTokenChanged(e,t,r)}function DN(n,e,t){return Zt(n).beforeAuthStateChanged(e,t)}const fd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(fd,"1"),this.storage.removeItem(fd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=1e3,VN=10;class _0 extends y0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=a0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,h)=>{this.notifyListeners(u,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);rN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,VN):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},LN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_0.type="LOCAL";const MN=_0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0 extends y0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}v0.type="SESSION";const E0=v0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new $d(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const f=Array.from(u).map(async m=>m(t.origin,a)),h=await FN(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$d.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((f,h)=>{const m=eg("",20);o.port1.start();const _=setTimeout(()=>{h(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(T.data.response);break;default:clearTimeout(_),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return window}function jN(n){Rr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(){return typeof Rr().WorkerGlobalScope<"u"&&typeof Rr().importScripts=="function"}async function BN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function $N(){return w0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="firebaseLocalStorageDb",HN=1,hd="firebaseLocalStorage",I0="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hd(n,e){return n.transaction([hd],e?"readwrite":"readonly").objectStore(hd)}function WN(){const n=indexedDB.deleteDatabase(T0);return new tu(n).toPromise()}function zp(){const n=indexedDB.open(T0,HN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(hd,{keyPath:I0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(hd)?e(r):(r.close(),await WN(),e(await zp()))})})}async function Jv(n,e,t){const r=Hd(n,!0).put({[I0]:e,value:t});return new tu(r).toPromise()}async function qN(n,e){const t=Hd(n,!1).get(e),r=await new tu(t).toPromise();return r===void 0?null:r.value}function Yv(n,e){const t=Hd(n,!0).delete(e);return new tu(t).toPromise()}const KN=800,GN=3;class S0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>GN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return w0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$d._getInstance($N()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await BN(),!this.activeServiceWorker)return;this.sender=new UN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zp();return await Jv(e,fd,"1"),await Yv(e,fd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Jv(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>qN(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Yv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Hd(o,!1).getAll();return new tu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S0.type="LOCAL";const QN=S0;new Yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(n,e){return e?Qr(e):(Ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg extends Jm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ta(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ta(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function XN(n){return h0(n.auth,new tg(n),n.bypassAuthState)}function JN(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),bN(t,new tg(n),n.bypassAuthState)}async function YN(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),xN(t,new tg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XN;case"linkViaPopup":case"linkViaRedirect":return YN;case"reauthViaPopup":case"reauthViaRedirect":return JN;default:Un(this.auth,"internal-error")}}resolve(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=new Yl(2e3,1e4);async function A0(n,e,t){if(ir(n.app))return Promise.reject(sr(n,"operation-not-supported-in-this-environment"));const r=ns(n);Fb(n,e,Zm);const o=R0(r,t);return new Fs(r,"signInViaPopup",e,o).executeNotNull()}class Fs extends C0{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Fs.currentPopupAction&&Fs.currentPopupAction.cancel(),Fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){ni(this.filter.length===1,"Popup operations only handle one event");const e=eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZN.get())};e()}}Fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="pendingRedirect",Bc=new Map;class t2 extends C0{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Bc.get(this.auth._key());if(!e){try{const r=await n2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Bc.set(this.auth._key(),e)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n2(n,e){const t=s2(e),r=i2(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function r2(n,e){Bc.set(n._key(),e)}function i2(n){return Qr(n._redirectPersistence)}function s2(n){return jc(e2,n.config.apiKey,n.name)}async function o2(n,e,t=!1){if(ir(n.app))return Promise.reject(Yr(n));const r=ns(n),o=R0(r,e),u=await new t2(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=10*60*1e3;class l2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!u2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!k0(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(sr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zv(e))}saveEventToCache(e){this.cachedEventUids.add(Zv(e)),this.lastProcessedEventTime=Date.now()}}function Zv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function k0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function u2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(n,e={}){return ts(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f2=/^https?/;async function h2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await c2(n);for(const t of e)try{if(p2(t))return}catch{}Un(n,"unauthorized-domain")}function p2(n){const e=Up(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!f2.test(t))return!1;if(d2.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new Yl(3e4,6e4);function eE(){const n=Rr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function g2(n){return new Promise((e,t)=>{var r,o,a;function u(){eE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eE(),t(sr(n,"network-request-failed"))},timeout:m2.get()})}if(!((o=(r=Rr().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Rr().gapi)===null||a===void 0)&&a.load)u();else{const f=fN("iframefcb");return Rr()[f]=()=>{gapi.load?u():t(sr(n,"network-request-failed"))},u0(`${dN()}?onload=${f}`).catch(h=>t(h))}}).catch(e=>{throw zc=null,e})}let zc=null;function y2(n){return zc=zc||g2(n),zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=new Yl(5e3,15e3),v2="__/auth/iframe",E2="emulator/auth/iframe",w2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I2(n){const e=n.config;Ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Gm(e,E2):`https://${n.config.authDomain}/${v2}`,r={apiKey:e.apiKey,appName:n.name,v:ya},o=T2.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Kl(r).slice(1)}`}async function S2(n){const e=await y2(n),t=Rr().gapi;return Ie(t,n,"internal-error"),e.open({where:document.body,url:I2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w2,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=sr(n,"network-request-failed"),f=Rr().setTimeout(()=>{a(u)},_2.get());function h(){Rr().clearTimeout(f),o(r)}r.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C2=500,A2=600,k2="_blank",P2="http://localhost";class tE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function x2(n,e,t,r=C2,o=A2){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const h=Object.assign(Object.assign({},R2),{width:r.toString(),height:o.toString(),top:a,left:u}),m=Kt().toLowerCase();t&&(f=n0(m)?k2:t),e0(m)&&(e=e||P2,h.scrollbars="yes");const _=Object.entries(h).reduce((T,[b,C])=>`${T}${b}=${C},`,"");if(nN(m)&&f!=="_self")return b2(e||"",f),new tE(null);const w=window.open(e||"",f,_);Ie(w,n,"popup-blocked");try{w.focus()}catch{}return new tE(w)}function b2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="__/auth/handler",O2="emulator/auth/handler",D2=encodeURIComponent("fac");async function nE(n,e,t,r,o,a){Ie(n.config.authDomain,n,"auth-domain-config-required"),Ie(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ya,eventId:o};if(e instanceof Zm){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",pA(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))u[_]=w}if(e instanceof eu){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const h=await n._getAppCheckToken(),m=h?`#${D2}=${encodeURIComponent(h)}`:"";return`${L2(n)}?${Kl(f).slice(1)}${m}`}function L2({config:n}){return n.emulator?Gm(n,O2):`https://${n.authDomain}/${N2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="webStorageSupport";class V2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=E0,this._completeRedirectFn=o2,this._overrideRedirectResult=r2}async _openPopup(e,t,r,o){var a;ni((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await nE(e,t,r,Up(),o);return x2(e,u,eg())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await nE(e,t,r,Up(),o);return jN(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(ni(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await S2(e),r=new l2(e);return t.register("authEvent",o=>(Ie(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ip,{type:ip},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[ip];u!==void 0&&t(!!u),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=h2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return a0()||t0()||Xm()}}const M2=V2;var rE="@firebase/auth",iE="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j2(n){na(new $s("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;Ie(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l0(n)},m=new lN(r,o,a,h);return _N(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),na(new $s("auth-internal",e=>{const t=ns(e.getProvider("auth").getImmediate());return(r=>new F2(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bi(rE,iE,U2(n)),Bi(rE,iE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=5*60,z2=hw("authIdTokenMaxAge")||B2;let sE=null;const $2=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>z2)return;const o=t==null?void 0:t.token;sE!==o&&(sE=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function H2(n=yw()){const e=hm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=yN(n,{popupRedirectResolver:M2,persistence:[QN,MN,E0]}),r=hw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=$2(a.toString());DN(t,u,()=>u(t.currentUser)),ON(t,f=>u(f))}}const o=dw("auth");return o&&vN(t,`http://${o}`),t}function W2(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}uN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=sr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",W2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j2("Browser");const q2={apiKey:"AIzaSyAKnPSRYdeNJP0ARa7MQ5u5YDJgMHCT2TQ",authDomain:"user-recipee.firebaseapp.com",projectId:"user-recipee",storageBucket:"user-recipee.appspot.com",messagingSenderId:"369882448584",appId:"1:369882448584:web:78aa421c8d63b863ccdbfd"},P0=gw(q2),rs=_b(P0),ca=H2(P0),x0=new qr,nu=n=>({type:"Error",payload:n}),K2=()=>({type:"ADD_DATA"}),G2=()=>({type:"EDIT_DATA"}),Q2=n=>({type:"GET_DATA",payload:n}),X2=n=>({type:"SET_DATA",payload:n}),J2=n=>({type:"SEARCH",payload:n}),Y2=n=>async e=>{try{await Db(NT(rs,"user"),n),e(K2())}catch(t){e(nu(t.message))}},b0=()=>async n=>{try{let e=[];(await bb(NT(rs,"user"))).forEach(r=>{e.push({id:r.id,...r.data()})}),n(Q2(e))}catch(e){n(nu(e.message))}},Z2=n=>async e=>{try{await Ob(Ys(rs,"user",`${n}`)),e(b0())}catch{e(nu(err.message))}},eO=n=>(console.log(n),async e=>{try{let r=(await $T(Ys(rs,"user",`${n}`))).data();r.id=n,e(X2(r))}catch(t){e(nu(t.message))}}),tO=n=>async e=>{try{await Nb(Ys(rs,"user",`${n.id}`),n),console.log(n),e(G2())}catch(t){e(nu(t.message))}};function N0(n,e){return function(){return n.apply(e,arguments)}}const{toString:nO}=Object.prototype,{getPrototypeOf:ng}=Object,Wd=(n=>e=>{const t=nO.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ar=n=>(n=n.toLowerCase(),e=>Wd(e)===n),qd=n=>e=>typeof e===n,{isArray:Ia}=Array,Bl=qd("undefined");function rO(n){return n!==null&&!Bl(n)&&n.constructor!==null&&!Bl(n.constructor)&&Cn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const O0=ar("ArrayBuffer");function iO(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&O0(n.buffer),e}const sO=qd("string"),Cn=qd("function"),D0=qd("number"),Kd=n=>n!==null&&typeof n=="object",oO=n=>n===!0||n===!1,$c=n=>{if(Wd(n)!=="object")return!1;const e=ng(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},aO=ar("Date"),lO=ar("File"),uO=ar("Blob"),cO=ar("FileList"),dO=n=>Kd(n)&&Cn(n.pipe),fO=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Cn(n.append)&&((e=Wd(n))==="formdata"||e==="object"&&Cn(n.toString)&&n.toString()==="[object FormData]"))},hO=ar("URLSearchParams"),[pO,mO,gO,yO]=["ReadableStream","Request","Response","Headers"].map(ar),_O=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ru(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,o;if(typeof n!="object"&&(n=[n]),Ia(n))for(r=0,o=n.length;r<o;r++)e.call(null,n[r],r,n);else{const a=t?Object.getOwnPropertyNames(n):Object.keys(n),u=a.length;let f;for(r=0;r<u;r++)f=a[r],e.call(null,n[f],f,n)}}function L0(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,o;for(;r-- >0;)if(o=t[r],e===o.toLowerCase())return o;return null}const Us=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,V0=n=>!Bl(n)&&n!==Us;function $p(){const{caseless:n}=V0(this)&&this||{},e={},t=(r,o)=>{const a=n&&L0(e,o)||o;$c(e[a])&&$c(r)?e[a]=$p(e[a],r):$c(r)?e[a]=$p({},r):Ia(r)?e[a]=r.slice():e[a]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&ru(arguments[r],t);return e}const vO=(n,e,t,{allOwnKeys:r}={})=>(ru(e,(o,a)=>{t&&Cn(o)?n[a]=N0(o,t):n[a]=o},{allOwnKeys:r}),n),EO=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),wO=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},TO=(n,e,t,r)=>{let o,a,u;const f={};if(e=e||{},n==null)return e;do{for(o=Object.getOwnPropertyNames(n),a=o.length;a-- >0;)u=o[a],(!r||r(u,n,e))&&!f[u]&&(e[u]=n[u],f[u]=!0);n=t!==!1&&ng(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},IO=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},SO=n=>{if(!n)return null;if(Ia(n))return n;let e=n.length;if(!D0(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},RO=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&ng(Uint8Array)),CO=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let o;for(;(o=r.next())&&!o.done;){const a=o.value;e.call(n,a[0],a[1])}},AO=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},kO=ar("HTMLFormElement"),PO=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,o){return r.toUpperCase()+o}),oE=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),xO=ar("RegExp"),M0=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};ru(t,(o,a)=>{let u;(u=e(o,a,n))!==!1&&(r[a]=u||o)}),Object.defineProperties(n,r)},bO=n=>{M0(n,(e,t)=>{if(Cn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Cn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},NO=(n,e)=>{const t={},r=o=>{o.forEach(a=>{t[a]=!0})};return Ia(n)?r(n):r(String(n).split(e)),t},OO=()=>{},DO=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,sp="abcdefghijklmnopqrstuvwxyz",aE="0123456789",F0={DIGIT:aE,ALPHA:sp,ALPHA_DIGIT:sp+sp.toUpperCase()+aE},LO=(n=16,e=F0.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function VO(n){return!!(n&&Cn(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const MO=n=>{const e=new Array(10),t=(r,o)=>{if(Kd(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[o]=r;const a=Ia(r)?[]:{};return ru(r,(u,f)=>{const h=t(u,o+1);!Bl(h)&&(a[f]=h)}),e[o]=void 0,a}}return r};return t(n,0)},FO=ar("AsyncFunction"),UO=n=>n&&(Kd(n)||Cn(n))&&Cn(n.then)&&Cn(n.catch),U0=((n,e)=>n?setImmediate:e?((t,r)=>(Us.addEventListener("message",({source:o,data:a})=>{o===Us&&a===t&&r.length&&r.shift()()},!1),o=>{r.push(o),Us.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Cn(Us.postMessage)),jO=typeof queueMicrotask<"u"?queueMicrotask.bind(Us):typeof process<"u"&&process.nextTick||U0,Q={isArray:Ia,isArrayBuffer:O0,isBuffer:rO,isFormData:fO,isArrayBufferView:iO,isString:sO,isNumber:D0,isBoolean:oO,isObject:Kd,isPlainObject:$c,isReadableStream:pO,isRequest:mO,isResponse:gO,isHeaders:yO,isUndefined:Bl,isDate:aO,isFile:lO,isBlob:uO,isRegExp:xO,isFunction:Cn,isStream:dO,isURLSearchParams:hO,isTypedArray:RO,isFileList:cO,forEach:ru,merge:$p,extend:vO,trim:_O,stripBOM:EO,inherits:wO,toFlatObject:TO,kindOf:Wd,kindOfTest:ar,endsWith:IO,toArray:SO,forEachEntry:CO,matchAll:AO,isHTMLForm:kO,hasOwnProperty:oE,hasOwnProp:oE,reduceDescriptors:M0,freezeMethods:bO,toObjectSet:NO,toCamelCase:PO,noop:OO,toFiniteNumber:DO,findKey:L0,global:Us,isContextDefined:V0,ALPHABET:F0,generateString:LO,isSpecCompliantForm:VO,toJSONObject:MO,isAsyncFn:FO,isThenable:UO,setImmediate:U0,asap:jO};function xe(n,e,t,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}Q.inherits(xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const j0=xe.prototype,B0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{B0[n]={value:n}});Object.defineProperties(xe,B0);Object.defineProperty(j0,"isAxiosError",{value:!0});xe.from=(n,e,t,r,o,a)=>{const u=Object.create(j0);return Q.toFlatObject(n,u,function(h){return h!==Error.prototype},f=>f!=="isAxiosError"),xe.call(u,n.message,e,t,r,o),u.cause=n,u.name=n.name,a&&Object.assign(u,a),u};const BO=null;function Hp(n){return Q.isPlainObject(n)||Q.isArray(n)}function z0(n){return Q.endsWith(n,"[]")?n.slice(0,-2):n}function lE(n,e,t){return n?n.concat(e).map(function(o,a){return o=z0(o),!t&&a?"["+o+"]":o}).join(t?".":""):e}function zO(n){return Q.isArray(n)&&!n.some(Hp)}const $O=Q.toFlatObject(Q,{},null,function(e){return/^is[A-Z]/.test(e)});function Gd(n,e,t){if(!Q.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Q.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,S){return!Q.isUndefined(S[N])});const r=t.metaTokens,o=t.visitor||_,a=t.dots,u=t.indexes,h=(t.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(e);if(!Q.isFunction(o))throw new TypeError("visitor must be a function");function m(C){if(C===null)return"";if(Q.isDate(C))return C.toISOString();if(!h&&Q.isBlob(C))throw new xe("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(C)||Q.isTypedArray(C)?h&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function _(C,N,S){let F=C;if(C&&!S&&typeof C=="object"){if(Q.endsWith(N,"{}"))N=r?N:N.slice(0,-2),C=JSON.stringify(C);else if(Q.isArray(C)&&zO(C)||(Q.isFileList(C)||Q.endsWith(N,"[]"))&&(F=Q.toArray(C)))return N=z0(N),F.forEach(function(q,X){!(Q.isUndefined(q)||q===null)&&e.append(u===!0?lE([N],X,a):u===null?N:N+"[]",m(q))}),!1}return Hp(C)?!0:(e.append(lE(S,N,a),m(C)),!1)}const w=[],T=Object.assign($O,{defaultVisitor:_,convertValue:m,isVisitable:Hp});function b(C,N){if(!Q.isUndefined(C)){if(w.indexOf(C)!==-1)throw Error("Circular reference detected in "+N.join("."));w.push(C),Q.forEach(C,function(F,j){(!(Q.isUndefined(F)||F===null)&&o.call(e,F,Q.isString(j)?j.trim():j,N,T))===!0&&b(F,N?N.concat(j):[j])}),w.pop()}}if(!Q.isObject(n))throw new TypeError("data must be an object");return b(n),e}function uE(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function rg(n,e){this._pairs=[],n&&Gd(n,this,e)}const $0=rg.prototype;$0.append=function(e,t){this._pairs.push([e,t])};$0.toString=function(e){const t=e?function(r){return e.call(this,r,uE)}:uE;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function HO(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function H0(n,e,t){if(!e)return n;const r=t&&t.encode||HO;Q.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let a;if(o?a=o(e,t):a=Q.isURLSearchParams(e)?e.toString():new rg(e,t).toString(r),a){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class cE{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Q.forEach(this.handlers,function(r){r!==null&&e(r)})}}const W0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},WO=typeof URLSearchParams<"u"?URLSearchParams:rg,qO=typeof FormData<"u"?FormData:null,KO=typeof Blob<"u"?Blob:null,GO={isBrowser:!0,classes:{URLSearchParams:WO,FormData:qO,Blob:KO},protocols:["http","https","file","blob","url","data"]},ig=typeof window<"u"&&typeof document<"u",Wp=typeof navigator=="object"&&navigator||void 0,QO=ig&&(!Wp||["ReactNative","NativeScript","NS"].indexOf(Wp.product)<0),XO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",JO=ig&&window.location.href||"http://localhost",YO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ig,hasStandardBrowserEnv:QO,hasStandardBrowserWebWorkerEnv:XO,navigator:Wp,origin:JO},Symbol.toStringTag,{value:"Module"})),qt={...YO,...GO};function ZO(n,e){return Gd(n,new qt.classes.URLSearchParams,Object.assign({visitor:function(t,r,o,a){return qt.isNode&&Q.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function eD(n){return Q.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function tD(n){const e={},t=Object.keys(n);let r;const o=t.length;let a;for(r=0;r<o;r++)a=t[r],e[a]=n[a];return e}function q0(n){function e(t,r,o,a){let u=t[a++];if(u==="__proto__")return!0;const f=Number.isFinite(+u),h=a>=t.length;return u=!u&&Q.isArray(o)?o.length:u,h?(Q.hasOwnProp(o,u)?o[u]=[o[u],r]:o[u]=r,!f):((!o[u]||!Q.isObject(o[u]))&&(o[u]=[]),e(t,r,o[u],a)&&Q.isArray(o[u])&&(o[u]=tD(o[u])),!f)}if(Q.isFormData(n)&&Q.isFunction(n.entries)){const t={};return Q.forEachEntry(n,(r,o)=>{e(eD(r),o,t,0)}),t}return null}function nD(n,e,t){if(Q.isString(n))try{return(e||JSON.parse)(n),Q.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(n)}const iu={transitional:W0,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",o=r.indexOf("application/json")>-1,a=Q.isObject(e);if(a&&Q.isHTMLForm(e)&&(e=new FormData(e)),Q.isFormData(e))return o?JSON.stringify(q0(e)):e;if(Q.isArrayBuffer(e)||Q.isBuffer(e)||Q.isStream(e)||Q.isFile(e)||Q.isBlob(e)||Q.isReadableStream(e))return e;if(Q.isArrayBufferView(e))return e.buffer;if(Q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ZO(e,this.formSerializer).toString();if((f=Q.isFileList(e))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Gd(f?{"files[]":e}:e,h&&new h,this.formSerializer)}}return a||o?(t.setContentType("application/json",!1),nD(e)):e}],transformResponse:[function(e){const t=this.transitional||iu.transitional,r=t&&t.forcedJSONParsing,o=this.responseType==="json";if(Q.isResponse(e)||Q.isReadableStream(e))return e;if(e&&Q.isString(e)&&(r&&!this.responseType||o)){const u=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(f){if(u)throw f.name==="SyntaxError"?xe.from(f,xe.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qt.classes.FormData,Blob:qt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],n=>{iu.headers[n]={}});const rD=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iD=n=>{const e={};let t,r,o;return n&&n.split(`
`).forEach(function(u){o=u.indexOf(":"),t=u.substring(0,o).trim().toLowerCase(),r=u.substring(o+1).trim(),!(!t||e[t]&&rD[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},dE=Symbol("internals");function vl(n){return n&&String(n).trim().toLowerCase()}function Hc(n){return n===!1||n==null?n:Q.isArray(n)?n.map(Hc):String(n)}function sD(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const oD=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function op(n,e,t,r,o){if(Q.isFunction(r))return r.call(this,e,t);if(o&&(e=t),!!Q.isString(e)){if(Q.isString(r))return e.indexOf(r)!==-1;if(Q.isRegExp(r))return r.test(e)}}function aD(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function lD(n,e){const t=Q.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(o,a,u){return this[r].call(this,e,o,a,u)},configurable:!0})})}class mn{constructor(e){e&&this.set(e)}set(e,t,r){const o=this;function a(f,h,m){const _=vl(h);if(!_)throw new Error("header name must be a non-empty string");const w=Q.findKey(o,_);(!w||o[w]===void 0||m===!0||m===void 0&&o[w]!==!1)&&(o[w||h]=Hc(f))}const u=(f,h)=>Q.forEach(f,(m,_)=>a(m,_,h));if(Q.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(Q.isString(e)&&(e=e.trim())&&!oD(e))u(iD(e),t);else if(Q.isHeaders(e))for(const[f,h]of e.entries())a(h,f,r);else e!=null&&a(t,e,r);return this}get(e,t){if(e=vl(e),e){const r=Q.findKey(this,e);if(r){const o=this[r];if(!t)return o;if(t===!0)return sD(o);if(Q.isFunction(t))return t.call(this,o,r);if(Q.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=vl(e),e){const r=Q.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||op(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let o=!1;function a(u){if(u=vl(u),u){const f=Q.findKey(r,u);f&&(!t||op(r,r[f],f,t))&&(delete r[f],o=!0)}}return Q.isArray(e)?e.forEach(a):a(e),o}clear(e){const t=Object.keys(this);let r=t.length,o=!1;for(;r--;){const a=t[r];(!e||op(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const t=this,r={};return Q.forEach(this,(o,a)=>{const u=Q.findKey(r,a);if(u){t[u]=Hc(o),delete t[a];return}const f=e?aD(a):String(a).trim();f!==a&&delete t[a],t[f]=Hc(o),r[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Q.forEach(this,(r,o)=>{r!=null&&r!==!1&&(t[o]=e&&Q.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[dE]=this[dE]={accessors:{}}).accessors,o=this.prototype;function a(u){const f=vl(u);r[f]||(lD(o,u),r[f]=!0)}return Q.isArray(e)?e.forEach(a):a(e),this}}mn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(mn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});Q.freezeMethods(mn);function ap(n,e){const t=this||iu,r=e||t,o=mn.from(r.headers);let a=r.data;return Q.forEach(n,function(f){a=f.call(t,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function K0(n){return!!(n&&n.__CANCEL__)}function Sa(n,e,t){xe.call(this,n??"canceled",xe.ERR_CANCELED,e,t),this.name="CanceledError"}Q.inherits(Sa,xe,{__CANCEL__:!0});function G0(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new xe("Request failed with status code "+t.status,[xe.ERR_BAD_REQUEST,xe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function uD(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function cD(n,e){n=n||10;const t=new Array(n),r=new Array(n);let o=0,a=0,u;return e=e!==void 0?e:1e3,function(h){const m=Date.now(),_=r[a];u||(u=m),t[o]=h,r[o]=m;let w=a,T=0;for(;w!==o;)T+=t[w++],w=w%n;if(o=(o+1)%n,o===a&&(a=(a+1)%n),m-u<e)return;const b=_&&m-_;return b?Math.round(T*1e3/b):void 0}}function dD(n,e){let t=0,r=1e3/e,o,a;const u=(m,_=Date.now())=>{t=_,o=null,a&&(clearTimeout(a),a=null),n.apply(null,m)};return[(...m)=>{const _=Date.now(),w=_-t;w>=r?u(m,_):(o=m,a||(a=setTimeout(()=>{a=null,u(o)},r-w)))},()=>o&&u(o)]}const pd=(n,e,t=3)=>{let r=0;const o=cD(50,250);return dD(a=>{const u=a.loaded,f=a.lengthComputable?a.total:void 0,h=u-r,m=o(h),_=u<=f;r=u;const w={loaded:u,total:f,progress:f?u/f:void 0,bytes:h,rate:m||void 0,estimated:m&&f&&_?(f-u)/m:void 0,event:a,lengthComputable:f!=null,[e?"download":"upload"]:!0};n(w)},t)},fE=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},hE=n=>(...e)=>Q.asap(()=>n(...e)),fD=qt.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,qt.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(qt.origin),qt.navigator&&/(msie|trident)/i.test(qt.navigator.userAgent)):()=>!0,hD=qt.hasStandardBrowserEnv?{write(n,e,t,r,o,a){const u=[n+"="+encodeURIComponent(e)];Q.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),Q.isString(r)&&u.push("path="+r),Q.isString(o)&&u.push("domain="+o),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function pD(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function mD(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Q0(n,e){return n&&!pD(e)?mD(n,e):e}const pE=n=>n instanceof mn?{...n}:n;function Ks(n,e){e=e||{};const t={};function r(m,_,w,T){return Q.isPlainObject(m)&&Q.isPlainObject(_)?Q.merge.call({caseless:T},m,_):Q.isPlainObject(_)?Q.merge({},_):Q.isArray(_)?_.slice():_}function o(m,_,w,T){if(Q.isUndefined(_)){if(!Q.isUndefined(m))return r(void 0,m,w,T)}else return r(m,_,w,T)}function a(m,_){if(!Q.isUndefined(_))return r(void 0,_)}function u(m,_){if(Q.isUndefined(_)){if(!Q.isUndefined(m))return r(void 0,m)}else return r(void 0,_)}function f(m,_,w){if(w in e)return r(m,_);if(w in n)return r(void 0,m)}const h={url:a,method:a,data:a,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(m,_,w)=>o(pE(m),pE(_),w,!0)};return Q.forEach(Object.keys(Object.assign({},n,e)),function(_){const w=h[_]||o,T=w(n[_],e[_],_);Q.isUndefined(T)&&w!==f||(t[_]=T)}),t}const X0=n=>{const e=Ks({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:a,headers:u,auth:f}=e;e.headers=u=mn.from(u),e.url=H0(Q0(e.baseURL,e.url),n.params,n.paramsSerializer),f&&u.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let h;if(Q.isFormData(t)){if(qt.hasStandardBrowserEnv||qt.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((h=u.getContentType())!==!1){const[m,..._]=h?h.split(";").map(w=>w.trim()).filter(Boolean):[];u.setContentType([m||"multipart/form-data",..._].join("; "))}}if(qt.hasStandardBrowserEnv&&(r&&Q.isFunction(r)&&(r=r(e)),r||r!==!1&&fD(e.url))){const m=o&&a&&hD.read(a);m&&u.set(o,m)}return e},gD=typeof XMLHttpRequest<"u",yD=gD&&function(n){return new Promise(function(t,r){const o=X0(n);let a=o.data;const u=mn.from(o.headers).normalize();let{responseType:f,onUploadProgress:h,onDownloadProgress:m}=o,_,w,T,b,C;function N(){b&&b(),C&&C(),o.cancelToken&&o.cancelToken.unsubscribe(_),o.signal&&o.signal.removeEventListener("abort",_)}let S=new XMLHttpRequest;S.open(o.method.toUpperCase(),o.url,!0),S.timeout=o.timeout;function F(){if(!S)return;const q=mn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),ie={data:!f||f==="text"||f==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:q,config:n,request:S};G0(function(P){t(P),N()},function(P){r(P),N()},ie),S=null}"onloadend"in S?S.onloadend=F:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(F)},S.onabort=function(){S&&(r(new xe("Request aborted",xe.ECONNABORTED,n,S)),S=null)},S.onerror=function(){r(new xe("Network Error",xe.ERR_NETWORK,n,S)),S=null},S.ontimeout=function(){let X=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const ie=o.transitional||W0;o.timeoutErrorMessage&&(X=o.timeoutErrorMessage),r(new xe(X,ie.clarifyTimeoutError?xe.ETIMEDOUT:xe.ECONNABORTED,n,S)),S=null},a===void 0&&u.setContentType(null),"setRequestHeader"in S&&Q.forEach(u.toJSON(),function(X,ie){S.setRequestHeader(ie,X)}),Q.isUndefined(o.withCredentials)||(S.withCredentials=!!o.withCredentials),f&&f!=="json"&&(S.responseType=o.responseType),m&&([T,C]=pd(m,!0),S.addEventListener("progress",T)),h&&S.upload&&([w,b]=pd(h),S.upload.addEventListener("progress",w),S.upload.addEventListener("loadend",b)),(o.cancelToken||o.signal)&&(_=q=>{S&&(r(!q||q.type?new Sa(null,n,S):q),S.abort(),S=null)},o.cancelToken&&o.cancelToken.subscribe(_),o.signal&&(o.signal.aborted?_():o.signal.addEventListener("abort",_)));const j=uD(o.url);if(j&&qt.protocols.indexOf(j)===-1){r(new xe("Unsupported protocol "+j+":",xe.ERR_BAD_REQUEST,n));return}S.send(a||null)})},_D=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,o;const a=function(m){if(!o){o=!0,f();const _=m instanceof Error?m:this.reason;r.abort(_ instanceof xe?_:new Sa(_ instanceof Error?_.message:_))}};let u=e&&setTimeout(()=>{u=null,a(new xe(`timeout ${e} of ms exceeded`,xe.ETIMEDOUT))},e);const f=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(a):m.removeEventListener("abort",a)}),n=null)};n.forEach(m=>m.addEventListener("abort",a));const{signal:h}=r;return h.unsubscribe=()=>Q.asap(f),h}},vD=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,o;for(;r<t;)o=r+e,yield n.slice(r,o),r=o},ED=async function*(n,e){for await(const t of wD(n))yield*vD(t,e)},wD=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},mE=(n,e,t,r)=>{const o=ED(n,e);let a=0,u,f=h=>{u||(u=!0,r&&r(h))};return new ReadableStream({async pull(h){try{const{done:m,value:_}=await o.next();if(m){f(),h.close();return}let w=_.byteLength;if(t){let T=a+=w;t(T)}h.enqueue(new Uint8Array(_))}catch(m){throw f(m),m}},cancel(h){return f(h),o.return()}},{highWaterMark:2})},Qd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",J0=Qd&&typeof ReadableStream=="function",TD=Qd&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Y0=(n,...e)=>{try{return!!n(...e)}catch{return!1}},ID=J0&&Y0(()=>{let n=!1;const e=new Request(qt.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),gE=64*1024,qp=J0&&Y0(()=>Q.isReadableStream(new Response("").body)),md={stream:qp&&(n=>n.body)};Qd&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!md[e]&&(md[e]=Q.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new xe(`Response type '${e}' is not supported`,xe.ERR_NOT_SUPPORT,r)})})})(new Response);const SD=async n=>{if(n==null)return 0;if(Q.isBlob(n))return n.size;if(Q.isSpecCompliantForm(n))return(await new Request(qt.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(n)||Q.isArrayBuffer(n))return n.byteLength;if(Q.isURLSearchParams(n)&&(n=n+""),Q.isString(n))return(await TD(n)).byteLength},RD=async(n,e)=>{const t=Q.toFiniteNumber(n.getContentLength());return t??SD(e)},CD=Qd&&(async n=>{let{url:e,method:t,data:r,signal:o,cancelToken:a,timeout:u,onDownloadProgress:f,onUploadProgress:h,responseType:m,headers:_,withCredentials:w="same-origin",fetchOptions:T}=X0(n);m=m?(m+"").toLowerCase():"text";let b=_D([o,a&&a.toAbortSignal()],u),C;const N=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let S;try{if(h&&ID&&t!=="get"&&t!=="head"&&(S=await RD(_,r))!==0){let ie=new Request(e,{method:"POST",body:r,duplex:"half"}),oe;if(Q.isFormData(r)&&(oe=ie.headers.get("content-type"))&&_.setContentType(oe),ie.body){const[P,R]=fE(S,pd(hE(h)));r=mE(ie.body,gE,P,R)}}Q.isString(w)||(w=w?"include":"omit");const F="credentials"in Request.prototype;C=new Request(e,{...T,signal:b,method:t.toUpperCase(),headers:_.normalize().toJSON(),body:r,duplex:"half",credentials:F?w:void 0});let j=await fetch(C);const q=qp&&(m==="stream"||m==="response");if(qp&&(f||q&&N)){const ie={};["status","statusText","headers"].forEach(k=>{ie[k]=j[k]});const oe=Q.toFiniteNumber(j.headers.get("content-length")),[P,R]=f&&fE(oe,pd(hE(f),!0))||[];j=new Response(mE(j.body,gE,P,()=>{R&&R(),N&&N()}),ie)}m=m||"text";let X=await md[Q.findKey(md,m)||"text"](j,n);return!q&&N&&N(),await new Promise((ie,oe)=>{G0(ie,oe,{data:X,headers:mn.from(j.headers),status:j.status,statusText:j.statusText,config:n,request:C})})}catch(F){throw N&&N(),F&&F.name==="TypeError"&&/fetch/i.test(F.message)?Object.assign(new xe("Network Error",xe.ERR_NETWORK,n,C),{cause:F.cause||F}):xe.from(F,F&&F.code,n,C)}}),Kp={http:BO,xhr:yD,fetch:CD};Q.forEach(Kp,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const yE=n=>`- ${n}`,AD=n=>Q.isFunction(n)||n===null||n===!1,Z0={getAdapter:n=>{n=Q.isArray(n)?n:[n];const{length:e}=n;let t,r;const o={};for(let a=0;a<e;a++){t=n[a];let u;if(r=t,!AD(t)&&(r=Kp[(u=String(t)).toLowerCase()],r===void 0))throw new xe(`Unknown adapter '${u}'`);if(r)break;o[u||"#"+a]=r}if(!r){const a=Object.entries(o).map(([f,h])=>`adapter ${f} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=e?a.length>1?`since :
`+a.map(yE).join(`
`):" "+yE(a[0]):"as no adapter specified";throw new xe("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:Kp};function lp(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Sa(null,n)}function _E(n){return lp(n),n.headers=mn.from(n.headers),n.data=ap.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Z0.getAdapter(n.adapter||iu.adapter)(n).then(function(r){return lp(n),r.data=ap.call(n,n.transformResponse,r),r.headers=mn.from(r.headers),r},function(r){return K0(r)||(lp(n),r&&r.response&&(r.response.data=ap.call(n,n.transformResponse,r.response),r.response.headers=mn.from(r.response.headers))),Promise.reject(r)})}const eI="1.7.9",Xd={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Xd[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const vE={};Xd.transitional=function(e,t,r){function o(a,u){return"[Axios v"+eI+"] Transitional option '"+a+"'"+u+(r?". "+r:"")}return(a,u,f)=>{if(e===!1)throw new xe(o(u," has been removed"+(t?" in "+t:"")),xe.ERR_DEPRECATED);return t&&!vE[u]&&(vE[u]=!0,console.warn(o(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,u,f):!0}};Xd.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function kD(n,e,t){if(typeof n!="object")throw new xe("options must be an object",xe.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let o=r.length;for(;o-- >0;){const a=r[o],u=e[a];if(u){const f=n[a],h=f===void 0||u(f,a,n);if(h!==!0)throw new xe("option "+a+" must be "+h,xe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new xe("Unknown option "+a,xe.ERR_BAD_OPTION)}}const Wc={assertOptions:kD,validators:Xd},Er=Wc.validators;class Bs{constructor(e){this.defaults=e,this.interceptors={request:new cE,response:new cE}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ks(this.defaults,t);const{transitional:r,paramsSerializer:o,headers:a}=t;r!==void 0&&Wc.assertOptions(r,{silentJSONParsing:Er.transitional(Er.boolean),forcedJSONParsing:Er.transitional(Er.boolean),clarifyTimeoutError:Er.transitional(Er.boolean)},!1),o!=null&&(Q.isFunction(o)?t.paramsSerializer={serialize:o}:Wc.assertOptions(o,{encode:Er.function,serialize:Er.function},!0)),Wc.assertOptions(t,{baseUrl:Er.spelling("baseURL"),withXsrfToken:Er.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=a&&Q.merge(a.common,a[t.method]);a&&Q.forEach(["delete","get","head","post","put","patch","common"],C=>{delete a[C]}),t.headers=mn.concat(u,a);const f=[];let h=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(t)===!1||(h=h&&N.synchronous,f.unshift(N.fulfilled,N.rejected))});const m=[];this.interceptors.response.forEach(function(N){m.push(N.fulfilled,N.rejected)});let _,w=0,T;if(!h){const C=[_E.bind(this),void 0];for(C.unshift.apply(C,f),C.push.apply(C,m),T=C.length,_=Promise.resolve(t);w<T;)_=_.then(C[w++],C[w++]);return _}T=f.length;let b=t;for(w=0;w<T;){const C=f[w++],N=f[w++];try{b=C(b)}catch(S){N.call(this,S);break}}try{_=_E.call(this,b)}catch(C){return Promise.reject(C)}for(w=0,T=m.length;w<T;)_=_.then(m[w++],m[w++]);return _}getUri(e){e=Ks(this.defaults,e);const t=Q0(e.baseURL,e.url);return H0(t,e.params,e.paramsSerializer)}}Q.forEach(["delete","get","head","options"],function(e){Bs.prototype[e]=function(t,r){return this.request(Ks(r||{},{method:e,url:t,data:(r||{}).data}))}});Q.forEach(["post","put","patch"],function(e){function t(r){return function(a,u,f){return this.request(Ks(f||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:u}))}}Bs.prototype[e]=t(),Bs.prototype[e+"Form"]=t(!0)});class sg{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(o=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](o);r._listeners=null}),this.promise.then=o=>{let a;const u=new Promise(f=>{r.subscribe(f),a=f}).then(o);return u.cancel=function(){r.unsubscribe(a)},u},e(function(a,u,f){r.reason||(r.reason=new Sa(a,u,f),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new sg(function(o){e=o}),cancel:e}}}function PD(n){return function(t){return n.apply(null,t)}}function xD(n){return Q.isObject(n)&&n.isAxiosError===!0}const Gp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gp).forEach(([n,e])=>{Gp[e]=n});function tI(n){const e=new Bs(n),t=N0(Bs.prototype.request,e);return Q.extend(t,Bs.prototype,e,{allOwnKeys:!0}),Q.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return tI(Ks(n,o))},t}const gt=tI(iu);gt.Axios=Bs;gt.CanceledError=Sa;gt.CancelToken=sg;gt.isCancel=K0;gt.VERSION=eI;gt.toFormData=Gd;gt.AxiosError=xe;gt.Cancel=gt.CanceledError;gt.all=function(e){return Promise.all(e)};gt.spread=PD;gt.isAxiosError=xD;gt.mergeConfig=Ks;gt.AxiosHeaders=mn;gt.formToJSON=n=>q0(Q.isHTMLForm(n)?new FormData(n):n);gt.getAdapter=Z0.getAdapter;gt.HttpStatusCode=Gp;gt.default=gt;function nI(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=nI(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function zs(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=nI(n))&&(r&&(r+=" "),r+=e);return r}function bD(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}bD(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var su=n=>typeof n=="number"&&!isNaN(n),Gs=n=>typeof n=="string",ri=n=>typeof n=="function",ND=n=>Gs(n)||su(n),Qp=n=>Gs(n)||ri(n)?n:null,OD=(n,e)=>n===!1||su(n)&&n>0?n:e,Xp=n=>A.isValidElement(n)||Gs(n)||ri(n)||su(n);function DD(n,e,t=300){let{scrollHeight:r,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=r+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function LD({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:o=300}){return function({children:a,position:u,preventExitTransition:f,done:h,nodeRef:m,isIn:_,playToast:w}){let T=t?`${n}--${u}`:n,b=t?`${e}--${u}`:e,C=A.useRef(0);return A.useLayoutEffect(()=>{let N=m.current,S=T.split(" "),F=j=>{j.target===m.current&&(w(),N.removeEventListener("animationend",F),N.removeEventListener("animationcancel",F),C.current===0&&j.type!=="animationcancel"&&N.classList.remove(...S))};N.classList.add(...S),N.addEventListener("animationend",F),N.addEventListener("animationcancel",F)},[]),A.useEffect(()=>{let N=m.current,S=()=>{N.removeEventListener("animationend",S),r?DD(N,h,o):h()};_||(f?S():(C.current=1,N.className+=` ${b}`,N.addEventListener("animationend",S)))},[_]),Ne.createElement(Ne.Fragment,null,a)}}function EE(n,e){return{content:rI(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function rI(n,e,t=!1){return A.isValidElement(n)&&!Gs(n.type)?A.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):ri(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function VD({closeToast:n,theme:e,ariaLabel:t="close"}){return Ne.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},Ne.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ne.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function MD({delay:n,isRunning:e,closeToast:t,type:r="default",hide:o,className:a,controlledProgress:u,progress:f,rtl:h,isIn:m,theme:_}){let w=o||u&&f===0,T={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};u&&(T.transform=`scaleX(${f})`);let b=zs("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${_}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":h}),C=ri(a)?a({rtl:h,type:r,defaultClassName:b}):zs(b,a),N={[u&&f>=1?"onTransitionEnd":"onAnimationEnd"]:u&&f<1?null:()=>{m&&t()}};return Ne.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":w},Ne.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${_} Toastify__progress-bar--${r}`}),Ne.createElement("div",{role:"progressbar","aria-hidden":w?"true":"false","aria-label":"notification timer",className:C,style:T,...N}))}var FD=1,iI=()=>`${FD++}`;function UD(n,e,t){let r=1,o=0,a=[],u=[],f=e,h=new Map,m=new Set,_=j=>(m.add(j),()=>m.delete(j)),w=()=>{u=Array.from(h.values()),m.forEach(j=>j())},T=({containerId:j,toastId:q,updateId:X})=>{let ie=j?j!==n:n!==1,oe=h.has(q)&&X==null;return ie||oe},b=(j,q)=>{h.forEach(X=>{var ie;(q==null||q===X.props.toastId)&&((ie=X.toggle)==null||ie.call(X,j))})},C=j=>{var q,X;(X=(q=j.props)==null?void 0:q.onClose)==null||X.call(q,j.removalReason),j.isActive=!1},N=j=>{if(j==null)h.forEach(C);else{let q=h.get(j);q&&C(q)}w()},S=()=>{o-=a.length,a=[]},F=j=>{var q,X;let{toastId:ie,updateId:oe}=j.props,P=oe==null;j.staleId&&h.delete(j.staleId),j.isActive=!0,h.set(ie,j),w(),t(EE(j,P?"added":"updated")),P&&((X=(q=j.props).onOpen)==null||X.call(q))};return{id:n,props:f,observe:_,toggle:b,removeToast:N,toasts:h,clearQueue:S,buildToast:(j,q)=>{if(T(q))return;let{toastId:X,updateId:ie,data:oe,staleId:P,delay:R}=q,k=ie==null;k&&o++;let D={...f,style:f.toastStyle,key:r++,...Object.fromEntries(Object.entries(q).filter(([B,O])=>O!=null)),toastId:X,updateId:ie,data:oe,isIn:!1,className:Qp(q.className||f.toastClassName),progressClassName:Qp(q.progressClassName||f.progressClassName),autoClose:q.isLoading?!1:OD(q.autoClose,f.autoClose),closeToast(B){h.get(X).removalReason=B,N(X)},deleteToast(){let B=h.get(X);if(B!=null){if(t(EE(B,"removed")),h.delete(X),o--,o<0&&(o=0),a.length>0){F(a.shift());return}w()}}};D.closeButton=f.closeButton,q.closeButton===!1||Xp(q.closeButton)?D.closeButton=q.closeButton:q.closeButton===!0&&(D.closeButton=Xp(f.closeButton)?f.closeButton:!0);let M={content:j,props:D,staleId:P};f.limit&&f.limit>0&&o>f.limit&&k?a.push(M):su(R)?setTimeout(()=>{F(M)},R):F(M)},setProps(j){f=j},setToggle:(j,q)=>{let X=h.get(j);X&&(X.toggle=q)},isToastActive:j=>{var q;return(q=h.get(j))==null?void 0:q.isActive},getSnapshot:()=>u}}var Yt=new Map,zl=[],Jp=new Set,jD=n=>Jp.forEach(e=>e(n)),sI=()=>Yt.size>0;function BD(){zl.forEach(n=>aI(n.content,n.options)),zl=[]}var zD=(n,{containerId:e})=>{var t;return(t=Yt.get(e||1))==null?void 0:t.toasts.get(n)};function oI(n,e){var t;if(e)return!!((t=Yt.get(e))!=null&&t.isToastActive(n));let r=!1;return Yt.forEach(o=>{o.isToastActive(n)&&(r=!0)}),r}function $D(n){if(!sI()){zl=zl.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||ND(n))Yt.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Yt.get(n.containerId);e?e.removeToast(n.id):Yt.forEach(t=>{t.removeToast(n.id)})}}var HD=(n={})=>{Yt.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function aI(n,e){Xp(n)&&(sI()||zl.push({content:n,options:e}),Yt.forEach(t=>{t.buildToast(n,e)}))}function WD(n){var e;(e=Yt.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function lI(n,e){Yt.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function qD(n){let e=n.containerId||1;return{subscribe(t){let r=UD(e,n,jD);Yt.set(e,r);let o=r.observe(t);return BD(),()=>{o(),Yt.delete(e)}},setProps(t){var r;(r=Yt.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=Yt.get(e))==null?void 0:t.getSnapshot()}}}function KD(n){return Jp.add(n),()=>{Jp.delete(n)}}function GD(n){return n&&(Gs(n.toastId)||su(n.toastId))?n.toastId:iI()}function ou(n,e){return aI(n,e),e.toastId}function Jd(n,e){return{...e,type:e&&e.type||n,toastId:GD(e)}}function Yd(n){return(e,t)=>ou(e,Jd(n,t))}function Ae(n,e){return ou(n,Jd("default",e))}Ae.loading=(n,e)=>ou(n,Jd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function QD(n,{pending:e,error:t,success:r},o){let a;e&&(a=Gs(e)?Ae.loading(e,o):Ae.loading(e.render,{...o,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},f=(m,_,w)=>{if(_==null){Ae.dismiss(a);return}let T={type:m,...u,...o,data:w},b=Gs(_)?{render:_}:_;return a?Ae.update(a,{...T,...b}):Ae(b.render,{...T,...b}),w},h=ri(n)?n():n;return h.then(m=>f("success",r,m)).catch(m=>f("error",t,m)),h}Ae.promise=QD;Ae.success=Yd("success");Ae.info=Yd("info");Ae.error=Yd("error");Ae.warning=Yd("warning");Ae.warn=Ae.warning;Ae.dark=(n,e)=>ou(n,Jd("default",{theme:"dark",...e}));function XD(n){$D(n)}Ae.dismiss=XD;Ae.clearWaitingQueue=HD;Ae.isActive=oI;Ae.update=(n,e={})=>{let t=zD(n,e);if(t){let{props:r,content:o}=t,a={delay:100,...r,...e,toastId:e.toastId||n,updateId:iI()};a.toastId!==n&&(a.staleId=n);let u=a.render||o;delete a.render,ou(u,a)}};Ae.done=n=>{Ae.update(n,{progress:1})};Ae.onChange=KD;Ae.play=n=>lI(!0,n);Ae.pause=n=>lI(!1,n);function JD(n){var e;let{subscribe:t,getSnapshot:r,setProps:o}=A.useRef(qD(n)).current;o(n);let a=(e=A.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function u(f){if(!a)return[];let h=new Map;return n.newestOnTop&&a.reverse(),a.forEach(m=>{let{position:_}=m.props;h.has(_)||h.set(_,[]),h.get(_).push(m)}),Array.from(h,m=>f(m[0],m[1]))}return{getToastToRender:u,isToastActive:oI,count:a==null?void 0:a.length}}function YD(n){let[e,t]=A.useState(!1),[r,o]=A.useState(!1),a=A.useRef(null),u=A.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:h,closeToast:m,onClick:_,closeOnClick:w}=n;WD({id:n.toastId,containerId:n.containerId,fn:t}),A.useEffect(()=>{if(n.pauseOnFocusLoss)return T(),()=>{b()}},[n.pauseOnFocusLoss]);function T(){document.hasFocus()||F(),window.addEventListener("focus",S),window.addEventListener("blur",F)}function b(){window.removeEventListener("focus",S),window.removeEventListener("blur",F)}function C(P){if(n.draggable===!0||n.draggable===P.pointerType){j();let R=a.current;u.canCloseOnClick=!0,u.canDrag=!0,R.style.transition="none",n.draggableDirection==="x"?(u.start=P.clientX,u.removalDistance=R.offsetWidth*(n.draggablePercent/100)):(u.start=P.clientY,u.removalDistance=R.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function N(P){let{top:R,bottom:k,left:D,right:M}=a.current.getBoundingClientRect();P.nativeEvent.type!=="touchend"&&n.pauseOnHover&&P.clientX>=D&&P.clientX<=M&&P.clientY>=R&&P.clientY<=k?F():S()}function S(){t(!0)}function F(){t(!1)}function j(){u.didMove=!1,document.addEventListener("pointermove",X),document.addEventListener("pointerup",ie)}function q(){document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",ie)}function X(P){let R=a.current;if(u.canDrag&&R){u.didMove=!0,e&&F(),n.draggableDirection==="x"?u.delta=P.clientX-u.start:u.delta=P.clientY-u.start,u.start!==P.clientX&&(u.canCloseOnClick=!1);let k=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;R.style.transform=`translate3d(${k},0)`,R.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function ie(){q();let P=a.current;if(u.canDrag&&u.didMove&&P){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}P.style.transition="transform 0.2s, opacity 0.2s",P.style.removeProperty("transform"),P.style.removeProperty("opacity")}}let oe={onPointerDown:C,onPointerUp:N};return f&&h&&(oe.onMouseEnter=F,n.stacked||(oe.onMouseLeave=S)),w&&(oe.onClick=P=>{_&&_(P),u.canCloseOnClick&&m(!0)}),{playToast:S,pauseToast:F,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:oe}}var ZD=typeof window<"u"?A.useLayoutEffect:A.useEffect,Zd=({theme:n,type:e,isLoading:t,...r})=>Ne.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function eL(n){return Ne.createElement(Zd,{...n},Ne.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function tL(n){return Ne.createElement(Zd,{...n},Ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function nL(n){return Ne.createElement(Zd,{...n},Ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function rL(n){return Ne.createElement(Zd,{...n},Ne.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function iL(){return Ne.createElement("div",{className:"Toastify__spinner"})}var Yp={info:tL,warning:eL,success:nL,error:rL,spinner:iL},sL=n=>n in Yp;function oL({theme:n,type:e,isLoading:t,icon:r}){let o=null,a={theme:n,type:e};return r===!1||(ri(r)?o=r({...a,isLoading:t}):A.isValidElement(r)?o=A.cloneElement(r,a):t?o=Yp.spinner():sL(e)&&(o=Yp[e](a))),o}var aL=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:o,playToast:a}=YD(n),{closeButton:u,children:f,autoClose:h,onClick:m,type:_,hideProgressBar:w,closeToast:T,transition:b,position:C,className:N,style:S,progressClassName:F,updateId:j,role:q,progress:X,rtl:ie,toastId:oe,deleteToast:P,isIn:R,isLoading:k,closeOnClick:D,theme:M,ariaLabel:B}=n,O=zs("Toastify__toast",`Toastify__toast-theme--${M}`,`Toastify__toast--${_}`,{"Toastify__toast--rtl":ie},{"Toastify__toast--close-on-click":D}),Qe=ri(N)?N({rtl:ie,position:C,type:_,defaultClassName:O}):zs(O,N),at=oL(n),Xe=!!X||!h,be={closeToast:T,type:_,theme:M},ee=null;return u===!1||(ri(u)?ee=u(be):A.isValidElement(u)?ee=A.cloneElement(u,be):ee=VD(be)),Ne.createElement(b,{isIn:R,done:P,position:C,preventExitTransition:t,nodeRef:r,playToast:a},Ne.createElement("div",{id:oe,tabIndex:0,onClick:m,"data-in":R,className:Qe,...o,style:S,ref:r,...R&&{role:q,"aria-label":B}},at!=null&&Ne.createElement("div",{className:zs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!k})},at),rI(f,n,!e),ee,!n.customProgressBar&&Ne.createElement(MD,{...j&&!Xe?{key:`p-${j}`}:{},rtl:ie,theme:M,delay:h,isRunning:e,isIn:R,closeToast:T,hide:w,type:_,className:F,controlledProgress:Xe,progress:X||0})))},lL=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),uL=LD(lL("bounce",!0)),cL={position:"top-right",transition:uL,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function dL(n){let e={...cL,...n},t=n.stacked,[r,o]=A.useState(!0),a=A.useRef(null),{getToastToRender:u,isToastActive:f,count:h}=JD(e),{className:m,style:_,rtl:w,containerId:T,hotKeys:b}=e;function C(S){let F=zs("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":w});return ri(m)?m({position:S,rtl:w,defaultClassName:F}):zs(F,Qp(m))}function N(){t&&(o(!0),Ae.play())}return ZD(()=>{var S;if(t){let F=a.current.querySelectorAll('[data-in="true"]'),j=12,q=(S=e.position)==null?void 0:S.includes("top"),X=0,ie=0;Array.from(F).reverse().forEach((oe,P)=>{let R=oe;R.classList.add("Toastify__toast--stacked"),P>0&&(R.dataset.collapsed=`${r}`),R.dataset.pos||(R.dataset.pos=q?"top":"bot");let k=X*(r?.2:1)+(r?0:j*P);R.style.setProperty("--y",`${q?k:k*-1}px`),R.style.setProperty("--g",`${j}`),R.style.setProperty("--s",`${1-(r?ie:0)}`),X+=R.offsetHeight,ie+=.025})}},[r,h,t]),A.useEffect(()=>{function S(F){var j;let q=a.current;b(F)&&((j=q.querySelector('[tabIndex="0"]'))==null||j.focus(),o(!1),Ae.pause()),F.key==="Escape"&&(document.activeElement===q||q!=null&&q.contains(document.activeElement))&&(o(!0),Ae.play())}return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}},[b]),Ne.createElement("section",{ref:a,className:"Toastify",id:T,onMouseEnter:()=>{t&&(o(!1),Ae.pause())},onMouseLeave:N,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((S,F)=>{let j=F.length?{..._}:{..._,pointerEvents:"none"};return Ne.createElement("div",{tabIndex:-1,className:C(S),"data-stacked":t,style:j,key:`c-${S}`},F.map(({content:q,props:X})=>Ne.createElement(aL,{...X,stacked:t,collapseAll:N,isIn:f(X.toastId,X.containerId),key:`t-${X.key}`},q)))}))}const fL=()=>{const n=Qs(),e=ma(),{isCreated:t,errMSG:r}=ga(C=>C.userReducer),[o,a]=A.useState({name:"",img:"",time:"",description:"",ingredients:""}),[u,f]=A.useState(null),[h,m]=A.useState(!1),_=C=>{const{name:N,value:S}=C.target;a({...o,[N]:S})},w=C=>{f(C.target.files[0])},T=async()=>{if(!u){Ae.error("Please select an image!");return}m(!0);const C=new FormData;C.append("file",u),C.append("upload_preset","recipe-img");try{const N=await gt.post("https://api.cloudinary.com/v1_1/dmx1evdjl/image/upload",C);a({...o,img:N.data.secure_url}),Ae.success("Image uploaded successfully!")}catch(N){console.error("Image upload failed",N),Ae.error("Image upload failed!")}finally{m(!1)}},b=C=>{if(C.preventDefault(),!o.img){Ae.error("Please upload an image before submitting!");return}e(Y2(o))};return A.useEffect(()=>{t&&n("/home")},[t]),V.jsx(V.Fragment,{children:V.jsxs("div",{className:"containers",children:[r&&V.jsx("div",{className:"alert alert-danger",children:r}),V.jsxs("form",{onSubmit:b,children:[V.jsx("h1",{children:"Recipes"}),V.jsxs("div",{className:"form-group",children:[V.jsx("label",{children:"Recipe Name:"}),V.jsx("input",{type:"text",placeholder:"Recipe Name",value:o.name,name:"name",onChange:_,required:!0})]}),V.jsxs("div",{className:"form-group",children:[V.jsx("label",{children:"Recipe Ingredients:"}),V.jsx("input",{type:"text",placeholder:"Ingredients",value:o.ingredients,name:"ingredients",onChange:_,required:!0})]}),V.jsxs("div",{className:"form-group",children:[V.jsx("label",{children:"Time:"}),V.jsx("input",{type:"text",placeholder:"Time",value:o.time,name:"time",onChange:_,required:!0})]}),V.jsxs("div",{className:"form-group",children:[V.jsx("label",{children:"Upload Image:"}),V.jsx("input",{type:"file",accept:"image/*",onChange:w,required:!0}),V.jsx("button",{type:"button",onClick:T,disabled:h,children:h?"Uploading...":"Upload Image"})]}),V.jsxs("div",{className:"form-group",children:[V.jsx("label",{children:"Description:"}),V.jsx("input",{type:"text",placeholder:"Description",value:o.description,name:"description",onChange:_,required:!0})]}),V.jsx("button",{type:"submit",children:"Create"})]})]})})},hL=()=>{const{users:n}=ga(S=>S.userReducer),[e,t]=A.useState(""),[r,o]=A.useState(!1),[a,u]=A.useState(null),[f,h]=A.useState(!0),m=ma(),_=Qs(),w=S=>{u(S),o(!0)},T=()=>{o(!1),u(null)},b=S=>{m(Z2(S))},C=S=>{_(`/edit/${S}`)},N=()=>{m(J2(e))};return A.useEffect(()=>{h(!0),m(b0()).finally(()=>h(!1))},[m]),V.jsxs(V.Fragment,{children:[V.jsxs(GE,{children:[V.jsx("div",{className:"row",children:V.jsx("div",{className:"col-12",children:V.jsx("div",{className:"container",children:V.jsx("div",{className:"search-bar d-flex justify-content-center align-items-center",children:V.jsxs("div",{className:"d-flex justify-content-center align-items-center col-4",children:[V.jsx("input",{type:"text",placeholder:"Search for a recipe...",name:"search",value:e,onChange:S=>t(S.target.value)}),V.jsx(Tr,{variant:"primary col-3 ms-4",onClick:N,children:"Search"})]})})})})}),f?V.jsx("div",{className:"d-flex justify-content-center align-items-center mt-5",children:V.jsx(rw,{animation:"border",variant:"light"})}):V.jsx("div",{className:"d-flex justify-content-between flex-direction-column flex-wrap",children:n.map((S,F)=>V.jsxs("div",{className:"card p-4",children:[V.jsxs("div",{className:"card__body",children:[V.jsx("img",{src:S.img,className:"img object-fit-cover rounded",alt:S.name}),V.jsx("h2",{className:"card-title m-0",children:V.jsx("p",{className:" m-0",children:S.name})}),V.jsx("h4",{className:"desc ps-3 m-0",children:S.time})]}),V.jsx(Tr,{className:"card-btn",onClick:()=>w(S),children:"View Recipe"}),V.jsx(Tr,{className:"card-btn my-3",onClick:()=>C(S.id),children:"Edit"}),V.jsx(Tr,{className:"card-btn my-3",onClick:()=>b(S.id),children:"Delete"})]},F))})]}),V.jsxs(_l,{show:r,onHide:T,children:[V.jsx(_l.Header,{closeButton:!0,children:V.jsx(_l.Title,{children:a==null?void 0:a.name})}),V.jsx(_l.Body,{children:a&&V.jsxs(V.Fragment,{children:[V.jsx("img",{src:a.img,alt:a.name,className:"img-fluid mb-3"}),V.jsxs("p",{children:[V.jsx("strong",{children:"Time:"})," ",a.time]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Description:"})," ",a.description]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Ingredients:"})," ",a.ingredients]})]})}),V.jsx(_l.Footer,{children:V.jsx(Tr,{variant:"secondary",onClick:T,children:"Close"})})]})]})},pL=()=>{const{id:n}=JS(),e=Qs(),{user:t,isUpdated:r}=ga(N=>N.userReducer),o=ma(),[a,u]=A.useState({name:"",img:"",description:"",ingredients:"",time:""}),[f,h]=A.useState(null),[m,_]=A.useState(!1),w=N=>{const{name:S,value:F}=N.target;u({...a,[S]:F})},T=N=>{h(N.target.files[0])},b=async()=>{if(!f){Ae.error("Please select an image!");return}_(!0);const N=new FormData;N.append("file",f),N.append("upload_preset","recipe-img");try{const S=await gt.post("https://api.cloudinary.com/v1_1/dmx1evdjl/image/upload",N);u({...a,img:S.data.secure_url}),Ae.success("Image uploaded successfully!")}catch(S){console.error("Image upload failed",S),Ae.error("Image upload failed!")}finally{_(!1)}},C=N=>{if(N.preventDefault(),!a.img){Ae.error("Please upload an image before submitting!");return}o(tO({...a,id:n}))};return A.useEffect(()=>{o(eO(n))},[n,o]),A.useEffect(()=>{t&&u(t)},[t]),A.useEffect(()=>{r&&e("/home")},[r,e]),V.jsx(V.Fragment,{children:V.jsx("div",{className:"containers",children:V.jsxs("form",{onSubmit:C,children:[V.jsx("h1",{children:"Edit Recipe"}),V.jsxs("div",{className:"form-group",children:[V.jsx("label",{children:"Recipe Name:"}),V.jsx("input",{type:"text",placeholder:"Recipe Name",value:a.name,name:"name",onChange:w,required:!0})]}),V.jsxs("div",{className:"form-group",children:[V.jsx("label",{children:"Recipe Ingredients:"}),V.jsx("input",{type:"text",placeholder:"Ingredients",value:a.ingredients,name:"ingredients",onChange:w,required:!0})]}),V.jsxs("div",{className:"form-group",children:[V.jsx("label",{children:"Recipe Time:"}),V.jsx("input",{type:"text",placeholder:"Time",value:a.time,name:"time",onChange:w,required:!0})]}),V.jsxs("div",{className:"form-group",children:[V.jsx("label",{children:"Upload New Image:"}),V.jsx("input",{type:"file",accept:"image/*",onChange:T}),V.jsx("button",{type:"button",onClick:b,disabled:m,children:m?"Uploading...":"Upload Image"})]}),V.jsxs("div",{className:"form-group",children:[V.jsx("label",{children:"Current Image:"}),a.img&&V.jsx("img",{src:a.img,alt:"Recipe",style:{width:"100px",height:"100px"}})]}),V.jsxs("div",{className:"form-group",children:[V.jsx("label",{children:"Description:"}),V.jsx("input",{type:"text",placeholder:"Description",value:a.description,name:"description",onChange:w,required:!0})]}),V.jsx("button",{type:"submit",children:"Update"})]})})})};function uI(n){return pa({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M0 2v13h17v-13h-17zM8.494 9.817l-6.896-6.817h13.82l-6.924 6.817zM5.755 8.516l-4.755 4.682v-9.383l4.755 4.701zM6.466 9.219l2.026 2.003 1.996-1.966 4.8 4.744h-13.677l4.855-4.781zM11.201 8.555l4.799-4.725v9.467l-4.799-4.742z"},child:[]}]})(n)}const mL=n=>({type:"SIGNUP_SUC",payload:n}),gL=n=>({type:"SIGNIN_SUC",payload:n}),yL=n=>({type:"SIGNUP_REJ",payload:n}),wE=n=>({type:"LOGIN_REJ",payload:n}),TE=n=>async e=>{try{const r=(await m0(ca,n.email,n.password)).user;await WT(Ys(rs,"users",r.uid),{uid:r.uid,email:r.email,name:n.name||"",createdAt:new Date}),e(mL(r))}catch(t){e(yL(t.message))}},IE=n=>async e=>{try{const r=(await g0(ca,n.email,n.password)).user,o=await $T(Ys(rs,"users",r.uid));o.exists()?e(gL(o.data())):e(wE("User data not found!"))}catch(t){e(wE(t.message))}},_L=()=>{const n=Qs(),e=ma(),{isCreated:t}=ga(m=>m.authReducer),[r,o]=A.useState({email:"",password:"",rpassword:""}),a=m=>{const{name:_,value:w}=m.target;o({...r,[_]:w})},u=async m=>{try{await WT(Ys(rs,"users",m.uid),{uid:m.uid,email:m.email,createdAt:new Date})}catch(_){console.error("Error saving user: ",_),Ae.error("Failed to save user data! ")}},f=async m=>{if(m.preventDefault(),r.password===r.rpassword)try{const w=(await m0(ca,r.email,r.password)).user;await u(w),e(TE(w)),Ae.success("Registration Successful! "),n("/signIn")}catch(_){Ae.error("Signup Failed!  "+_.message)}else Ae.error("Passwords do not match! ")},h=async()=>{try{const _=(await A0(ca,x0)).user;await u(_),e(TE(_)),Ae.success("Google Sign-Up Successful! "),n("/home")}catch(m){Ae.error("Google Sign-Up Failed!  "+m.message)}};return A.useEffect(()=>{t&&n("/signIn")},[t,n]),V.jsx(V.Fragment,{children:V.jsx("div",{className:"form_wrapper",children:V.jsxs("div",{className:"form_container",children:[V.jsx("div",{className:"title_container",children:V.jsx("h2",{children:" Registration Form"})}),V.jsx("div",{className:"row clearfix",children:V.jsxs("div",{className:"",children:[V.jsxs("form",{onSubmit:f,children:[V.jsxs("div",{className:"input_field",children:[V.jsx("span",{className:"h-50 mt-2",children:V.jsx(uI,{})}),V.jsx("input",{type:"email",name:"email",placeholder:"Email",required:!0,onChange:a,value:r.email})]}),V.jsxs("div",{className:"input_field",children:[V.jsx("span",{children:V.jsx(_p,{className:"mt-2"})}),V.jsx("input",{type:"password",name:"password",placeholder:"Password",required:!0,onChange:a,value:r.password})]}),V.jsxs("div",{className:"input_field",children:[V.jsx("span",{children:V.jsx(_p,{className:"mt-2"})}),V.jsx("input",{type:"password",name:"rpassword",placeholder:"Re-type Password",required:!0,onChange:a,value:r.rpassword})]}),V.jsx("input",{className:"button",type:"submit",value:"Register"})]}),V.jsx("button",{onClick:h,className:"google-signin-button",children:"Sign up with Google"}),V.jsxs("p",{className:"credit",children:["Already have an account? ",V.jsx(wd,{to:"/signIn",children:"Login"})]})]})})]})})})},vL=()=>{const n=ma(),{profile:e}=ga(h=>h.authReducer),t=Qs(),[r,o]=A.useState({email:"",password:""}),a=h=>{const{name:m,value:_}=h.target;o({...r,[m]:_})},u=async h=>{h.preventDefault();try{const m=await g0(ca,r.email,r.password);n(IE(m.profile)),Ae.success("Login Successful! "),t("/home")}catch(m){Ae.error("Login Failed!  "+m.message)}},f=async()=>{try{const h=await A0(ca,x0);n(IE(h.profile)),Ae.success("Google Login Successful! "),t("/home")}catch(h){Ae.error("Google Login Failed!  "+h.message)}};return A.useEffect(()=>{e&&t("/home")},[e,t]),V.jsx(V.Fragment,{children:V.jsx("div",{className:"form_wrapper",children:V.jsxs("div",{className:"form_container",children:[V.jsx("div",{className:"title_container",children:V.jsx("h2",{children:"Login Form"})}),V.jsx("div",{className:"row clearfix",children:V.jsxs("div",{className:"",children:[V.jsxs("form",{onSubmit:u,children:[V.jsxs("div",{className:"input_field",children:[V.jsx("span",{className:"h-50 mt-2",children:V.jsx(uI,{})}),V.jsx("input",{type:"email",name:"email",placeholder:"Email",required:!0,onChange:a,value:r.email})]}),V.jsxs("div",{className:"input_field",children:[V.jsx("span",{children:V.jsx(_p,{className:"mt-2"})}),V.jsx("input",{type:"password",name:"password",placeholder:"Password",required:!0,onChange:a,value:r.password})]}),V.jsx("input",{className:"button",type:"submit",value:"Sign In"})]}),V.jsx("button",{onClick:f,className:"google-signin-button",children:"Sign in with Google"}),V.jsxs("p",{className:"credit",children:["Don't have an account? ",V.jsx(wd,{to:"/",children:"Sign Up"})]})]})})]})})})};function EL(){const n=Ji(),e=["/","/signIn"];return V.jsxs(V.Fragment,{children:[!e.includes(n.pathname)&&V.jsx(WC,{}),V.jsxs(f1,{children:[V.jsx(qo,{path:"/",element:V.jsx(_L,{})}),V.jsx(qo,{path:"/signIn",element:V.jsx(vL,{})}),V.jsx(qo,{path:"/home",element:V.jsx(hL,{})}),V.jsx(qo,{path:"/add",element:V.jsx(fL,{})}),V.jsx(qo,{path:"/edit/:id",element:V.jsx(pL,{})})]}),V.jsx(dL,{position:"top-right",autoClose:3e3,hideProgressBar:!1})]})}function Lt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var wL=typeof Symbol=="function"&&Symbol.observable||"@@observable",SE=wL,up=()=>Math.random().toString(36).substring(7).split("").join("."),TL={INIT:`@@redux/INIT${up()}`,REPLACE:`@@redux/REPLACE${up()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${up()}`},gd=TL;function IL(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function cI(n,e,t){if(typeof n!="function")throw new Error(Lt(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Lt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Lt(1));return t(cI)(n,e)}let r=n,o=e,a=new Map,u=a,f=0,h=!1;function m(){u===a&&(u=new Map,a.forEach((S,F)=>{u.set(F,S)}))}function _(){if(h)throw new Error(Lt(3));return o}function w(S){if(typeof S!="function")throw new Error(Lt(4));if(h)throw new Error(Lt(5));let F=!0;m();const j=f++;return u.set(j,S),function(){if(F){if(h)throw new Error(Lt(6));F=!1,m(),u.delete(j),a=null}}}function T(S){if(!IL(S))throw new Error(Lt(7));if(typeof S.type>"u")throw new Error(Lt(8));if(typeof S.type!="string")throw new Error(Lt(17));if(h)throw new Error(Lt(9));try{h=!0,o=r(o,S)}finally{h=!1}return(a=u).forEach(j=>{j()}),S}function b(S){if(typeof S!="function")throw new Error(Lt(10));r=S,T({type:gd.REPLACE})}function C(){const S=w;return{subscribe(F){if(typeof F!="object"||F===null)throw new Error(Lt(11));function j(){const X=F;X.next&&X.next(_())}return j(),{unsubscribe:S(j)}},[SE](){return this}}}return T({type:gd.INIT}),{dispatch:T,subscribe:w,getState:_,replaceReducer:b,[SE]:C}}function SL(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:gd.INIT})>"u")throw new Error(Lt(12));if(typeof t(void 0,{type:gd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Lt(13))})}function RL(n){const e=Object.keys(n),t={};for(let a=0;a<e.length;a++){const u=e[a];typeof n[u]=="function"&&(t[u]=n[u])}const r=Object.keys(t);let o;try{SL(t)}catch(a){o=a}return function(u={},f){if(o)throw o;let h=!1;const m={};for(let _=0;_<r.length;_++){const w=r[_],T=t[w],b=u[w],C=T(b,f);if(typeof C>"u")throw f&&f.type,new Error(Lt(14));m[w]=C,h=h||C!==b}return h=h||r.length!==Object.keys(u).length,h?m:u}}function dI(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function CL(...n){return e=>(t,r)=>{const o=e(t,r);let a=()=>{throw new Error(Lt(15))};const u={getState:o.getState,dispatch:(h,...m)=>a(h,...m)},f=n.map(h=>h(u));return a=dI(...f)(o.dispatch),{...o,dispatch:a}}}function AL(n){return({dispatch:t,getState:r})=>o=>a=>typeof a=="function"?a(t,r,n):o(a)}var kL=AL();const PL={users:[],user:null,isUpdated:!1,isCreated:!1,errMSG:null,viewdata:null},xL=(n=PL,e)=>{switch(e.type){case"Error":return{...n,errMSG:e.payload};case"ADD_DATA":return{...n,isCreated:!0};case"EDIT_DATA":return{...n,user:null,isUpdated:!0};case"GET_DATA":return{...n,users:e.payload,isCreated:!1,isUpdated:!1};case"SET_DATA":return{...n,user:e.payload};case"SEARCH":let t=n.users.filter(r=>r.name===e.payload);return{...n,users:t};default:return n}},bL={users:null,isCreated:!1,errMsg:""},NL=(n=bL,e)=>{switch(e.type){case"SIGNUP_SUC":return{...n,isCreated:!0,users:e.payload};case"SIGNIN_SUC":case"LOGIN_SUC":return{...n,isCreated:!1,users:e.payload};case"SIGNUP_REJ":case"LOGIN_REJ":return{...n,errMsg:e.payload};case"LOGOUT_SUC":return{...n,users:null,isCreated:!1};default:return n}},OL=RL({userReducer:xL,authReducer:NL}),DL=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||dI,LL=cI(OL,DL(CL(kL)));wS.createRoot(document.getElementById("root")).render(V.jsx(A.StrictMode,{children:V.jsx(jC,{store:LL,children:V.jsx(V1,{children:V.jsx(EL,{})})})}));
